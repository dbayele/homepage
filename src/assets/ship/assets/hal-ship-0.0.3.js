(function(e,t,n){"use strict";function r(e){return function(){var t,r,i=arguments[0],a="["+(e?e+":":"")+i+"] ",o=arguments[1],s=arguments,l=function(e){return"function"==typeof e?(""+e).replace(/ \{[\s\S]*$/,""):e===n?"undefined":"string"!=typeof e?JSON.stringify(e):e};for(t=a+o.replace(/\{\d+\}/g,function(e){var t,r=+e.slice(1,-1);return s.length>r+2?(t=s[r+2],"function"==typeof t?(""+t).replace(/ ?\{[\s\S]*$/,""):t===n?"undefined":"string"!=typeof t?H(t):t):e}),t=t+"\nhttp://errors.angularjs.org/1.2.21/"+(e?e+"/":"")+i,r=2;arguments.length>r;r++)t=t+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(l(arguments[r]));return Error(t)}}function i(e){if(null==e||x(e))return!1;var t=e.length;return 1===e.nodeType&&t?!0:$(e)||Pr(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,n){var r;if(e)if(S(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r);else if(Pr(e)||i(e))for(r=0;e.length>r;r++)t.call(n,e[r],r);else if(e.forEach&&e.forEach!==a)e.forEach(t,n);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function o(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function s(e,t,n){for(var r=o(e),i=0;r.length>i;i++)t.call(n,e[r[i]],r[i]);return r}function l(e){return function(t,n){e(n,t)}}function c(){for(var e,t=Cr.length;t;){if(t--,e=Cr[t].charCodeAt(0),57==e)return Cr[t]="A",Cr.join("");if(90!=e)return Cr[t]=String.fromCharCode(e+1),Cr.join("");Cr[t]="0"}return Cr.unshift("0"),Cr.join("")}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e){var t=e.$$hashKey;return a(arguments,function(t){t!==e&&a(t,function(t,n){e[n]=t})}),u(e,t),e}function p(e){return parseInt(e,10)}function h(e,t){return d(new(d(function(){},{prototype:e})),t)}function f(){}function m(e){return e}function g(e){return function(){return e}}function v(e){return e===n}function y(e){return e!==n}function b(e){return null!=e&&"object"==typeof e}function $(e){return"string"==typeof e}function T(e){return"number"==typeof e}function w(e){return"[object Date]"===xr.call(e)}function S(e){return"function"==typeof e}function k(e){return"[object RegExp]"===xr.call(e)}function x(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function E(e){return e&&e.$evalAsync&&e.$watch}function D(e){return"[object File]"===xr.call(e)}function C(e){return"[object Blob]"===xr.call(e)}function P(e){return e&&S(e.then)}function A(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function I(e,t,n){var r=[];return a(e,function(e,i,a){r.push(t.call(n,e,i,a))}),r}function M(e,t){return-1!=O(e,t)}function O(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;e.length>n;n++)if(t===e[n])return n;return-1}function L(e,t){var n=O(e,t);return n>=0&&e.splice(n,1),t}function N(e,t,n,r){if(x(e)||E(e))throw Er("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw Er("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],b(e)){var i=O(n,e);if(-1!==i)return r[i];n.push(e),r.push(t)}var o;if(Pr(e)){t.length=0;for(var s=0;e.length>s;s++)o=N(e[s],null,n,r),b(e[s])&&(n.push(e[s]),r.push(o)),t.push(o)}else{var l=t.$$hashKey;a(t,function(e,n){delete t[n]});for(var c in e)o=N(e[c],null,n,r),b(e[c])&&(n.push(e[c]),r.push(o)),t[c]=o;u(t,l)}}else t=e,e&&(Pr(e)?t=N(e,[],n,r):w(e)?t=new Date(e.getTime()):k(e)?(t=RegExp(e.source,(""+e).match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex):b(e)&&(t=N(e,{},n,r)));return t}function F(e,t){if(Pr(e)){t=t||[];for(var n=0;e.length>n;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var r in e)!fr.call(e,r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function j(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i,a,o=typeof e,s=typeof t;if(o==s&&"object"==o){if(!Pr(e)){if(w(e))return w(t)&&e.getTime()==t.getTime();if(k(e)&&k(t))return""+e==""+t;if(E(e)||E(t)||x(e)||x(t)||Pr(t))return!1;a={};for(i in e)if("$"!==i.charAt(0)&&!S(e[i])){if(!j(e[i],t[i]))return!1;a[i]=!0}for(i in t)if(!a.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!S(t[i]))return!1;return!0}if(!Pr(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!j(e[i],t[i]))return!1;return!0}}return!1}function U(e,t,n){return e.concat(Sr.call(t,n))}function R(e,t){return Sr.call(e,t||0)}function B(e,t){var n=arguments.length>2?R(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(Sr.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function _(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)?i=n:x(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":E(r)&&(i="$SCOPE"),i}function H(e,t){return e===n?n:JSON.stringify(e,_,t?"  ":null)}function q(e){return $(e)?JSON.parse(e):e}function V(e){if("function"==typeof e)e=!0;else if(e&&0!==e.length){var t=hr(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function W(e){e=br(e).clone();try{e.empty()}catch(t){}var n=3,r=br("<div>").append(e).html();try{return e[0].nodeType===n?hr(r):r.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+hr(t)})}catch(t){return hr(r)}}function G(e){try{return decodeURIComponent(e)}catch(t){}}function K(e){var t,n,r={};return a((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=G(t[0]),y(n))){var i=y(t[1])?G(t[1]):!0;fr.call(r,n)?Pr(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function Q(e){var t=[];return a(e,function(e,n){Pr(e)?a(e,function(e){t.push(Y(n,!0)+(e===!0?"":"="+Y(e,!0)))}):t.push(Y(n,!0)+(e===!0?"":"="+Y(e,!0)))}),t.length?t.join("&"):""}function z(e){return Y(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function J(e,n){function r(e){e&&s.push(e)}var i,o,s=[e],l=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;a(l,function(n){l[n]=!0,r(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(a(e.querySelectorAll("."+n),r),a(e.querySelectorAll("."+n+"\\:"),r),a(e.querySelectorAll("["+n+"]"),r))}),a(s,function(e){if(!i){var t=" "+e.className+" ",n=c.exec(t);n?(i=e,o=(n[2]||"").replace(/\s+/g,",")):a(e.attributes,function(t){!i&&l[t.name]&&(i=e,o=t.value)})}}),i&&n(i,o?[o]:[])}function X(r,i){var o=function(){if(r=br(r),r.injector()){var e=r[0]===t?"document":W(r);throw Er("btstrpd","App Already Bootstrapped with this Element '{0}'",e)}i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",r)}]),i.unshift("ng");var n=Ot(i);return n.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),n},s=/^NG_DEFER_BOOTSTRAP!/;return e&&!s.test(e.name)?o():(e.name=e.name.replace(s,""),Dr.resumeBootstrap=function(e){a(e,function(e){i.push(e)}),o()},n)}function Z(e,t){return t=t||"_",e.replace(Mr,function(e,n){return(n?t:"")+e.toLowerCase()})}function et(){$r=e.jQuery,$r&&$r.fn.on?(br=$r,d($r.fn,{scope:Gr.scope,isolateScope:Gr.isolateScope,controller:Gr.controller,injector:Gr.injector,inheritedData:Gr.inheritedData}),ut("remove",!0,!0,!1),ut("empty",!1,!1,!1),ut("html",!1,!1,!0)):br=ft,Dr.element=br}function tt(e,t,n){if(!e)throw Er("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function nt(e,t,n){return n&&Pr(e)&&(e=e[e.length-1]),tt(S(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function rt(e,t){if("hasOwnProperty"===e)throw Er("badname","hasOwnProperty is not a valid {0} name",t)}function it(e,t,n){if(!t)return e;for(var r,i=t.split("."),a=e,o=i.length,s=0;o>s;s++)r=i[s],e&&(e=(a=e)[r]);return!n&&S(e)?B(a,e):e}function at(e){var t=e[0],n=e[e.length-1];if(t===n)return br(t);var r=t,i=[r];do{if(r=r.nextSibling,!r)break;i.push(r)}while(r!==n);return br(i)}function ot(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),a=t(e,"angular",Object);return a.$$minErr=a.$$minErr||r,t(a,"module",function(){var e={};return function(r,a,o){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),a&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,n,r){return function(){return t[r||"push"]([e,n,arguments]),l}}if(!a)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var t=[],i=[],s=e("$injector","invoke"),l={_invokeQueue:t,_runBlocks:i,requires:a,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:s,run:function(e){return i.push(e),this}};return o&&s(o),l})}})}function st(t){d(t,{bootstrap:X,copy:N,extend:d,equals:j,element:br,forEach:a,injector:Ot,noop:f,bind:B,toJson:H,fromJson:q,identity:m,isUndefined:v,isDefined:y,isString:$,isFunction:S,isObject:b,isNumber:T,isElement:A,isArray:Pr,version:Or,isDate:w,lowercase:hr,uppercase:mr,callbacks:{counter:0},$$minErr:r,$$csp:Ir}),Tr=ot(e);try{Tr("ngLocale")}catch(n){Tr("ngLocale",[]).provider("$locale",nn)}Tr("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Pn}),e.provider("$compile",Bt).directive({a:Ai,input:_i,textarea:_i,form:Li,script:wa,select:xa,style:Da,option:Ea,ngBind:Zi,ngBindHtml:ta,ngBindTemplate:ea,ngClass:na,ngClassEven:ia,ngClassOdd:ra,ngCloak:aa,ngController:oa,ngForm:Ni,ngHide:ga,ngIf:la,ngInclude:ca,ngInit:da,ngNonBindable:pa,ngPluralize:ha,ngRepeat:fa,ngShow:ma,ngStyle:va,ngSwitch:ya,ngSwitchWhen:ba,ngSwitchDefault:$a,ngOptions:ka,ngTransclude:Ta,ngModel:Ki,ngList:Yi,ngChange:Qi,required:zi,ngRequired:zi,ngValue:Xi}).directive({ngInclude:ua}).directive(Ii).directive(sa),e.provider({$anchorScroll:Lt,$animate:ni,$browser:jt,$cacheFactory:Ut,$controller:qt,$document:Vt,$exceptionHandler:Wt,$filter:Bn,$interpolate:en,$interval:tn,$http:Yt,$httpBackend:Xt,$location:gn,$log:vn,$parse:kn,$rootScope:Cn,$q:xn,$sce:Ln,$sceDelegate:On,$sniffer:Nn,$templateCache:Rt,$timeout:Fn,$window:Rn,$$rAF:Dn,$$asyncCallback:Nt})}])}function lt(){return++Nr}function ct(e){return e.replace(Ur,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Rr,"Moz$1")}function ut(e,t,n,r){function i(e){var i,o,s,l,c,u,d,p=n&&e?[this.filter(e)]:[this],h=t;if(!r||null!=e)for(;p.length;)for(i=p.shift(),o=0,s=i.length;s>o;o++)for(l=br(i[o]),h?l.triggerHandler("$destroy"):h=!h,c=0,u=(d=l.children()).length;u>c;c++)p.push($r(d[c]));return a.apply(this,arguments)}var a=$r.fn[e];a=a.$original||a,i.$original=a,$r.fn[e]=i}function dt(e){return!Hr.test(e)}function pt(e,t){var n,r,i,a,o,s,l=t.createDocumentFragment(),c=[];if(dt(e))c.push(t.createTextNode(e));else{for(n=l.appendChild(t.createElement("div")),r=(qr.exec(e)||["",""])[1].toLowerCase(),i=Wr[r]||Wr._default,n.innerHTML="<div>&#160;</div>"+i[1]+e.replace(Vr,"<$1></$2>")+i[2],n.removeChild(n.firstChild),a=i[0];a--;)n=n.lastChild;for(o=0,s=n.childNodes.length;s>o;++o)c.push(n.childNodes[o]);n=l.firstChild,n.textContent=""}return l.textContent="",l.innerHTML="",c}function ht(e,n){n=n||t;var r;return(r=_r.exec(e))?[n.createElement(r[1])]:pt(e,n)}function ft(e){if(e instanceof ft)return e;if($(e)&&(e=Ar(e)),!(this instanceof ft)){if($(e)&&"<"!=e.charAt(0))throw Br("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ft(e)}if($(e)){kt(this,ht(e));var n=br(t.createDocumentFragment());n.append(this)}else kt(this,e)}function mt(e){return e.cloneNode(!0)}function gt(e){yt(e);for(var t=0,n=e.childNodes||[];n.length>t;t++)gt(n[t])}function vt(e,t,n,r){if(y(r))throw Br("offargs","jqLite#off() does not support the `selector` argument");var i=bt(e,"events"),o=bt(e,"handle");o&&(v(t)?a(i,function(t,n){jr(e,n,t),delete i[n]}):a(t.split(" "),function(t){v(n)?(jr(e,t,i[t]),delete i[t]):L(i[t]||[],n)}))}function yt(e,t){var r=e.ng339,i=Lr[r];if(i){if(t)return delete Lr[r].data[t],n;i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),vt(e)),delete Lr[r],e.ng339=n}}function bt(e,t,r){var i=e.ng339,a=Lr[i||-1];return y(r)?(a||(e.ng339=i=lt(),a=Lr[i]={}),a[t]=r,n):a&&a[t]}function $t(e,t,n){var r=bt(e,"data"),i=y(n),a=!i&&y(t),o=a&&!b(t);if(r||o||bt(e,"data",r={}),i)r[t]=n;else{if(!a)return r;if(o)return r&&r[t];d(r,t)}}function Tt(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function wt(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",Ar((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ar(t)+" "," ")))})}function St(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=Ar(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Ar(n))}}function kt(e,t){if(t){t=t.nodeName||!y(t.length)||x(t)?[t]:t;for(var n=0;t.length>n;n++)e.push(t[n])}}function xt(e,t){return Et(e,"$"+(t||"ngController")+"Controller")}function Et(e,t,r){9==e.nodeType&&(e=e.documentElement);for(var i=Pr(t)?t:[t];e;){for(var a=0,o=i.length;o>a;a++)if((r=br.data(e,i[a]))!==n)return r;e=e.parentNode||11===e.nodeType&&e.host}}function Dt(e){for(var t=0,n=e.childNodes;n.length>t;t++)gt(n[t]);for(;e.firstChild;)e.removeChild(e.firstChild)}function Ct(e,t){var n=Kr[t.toLowerCase()];return n&&Qr[e.nodeName]&&n}function Pt(e,n){var r=function(r,i){if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||t),v(r.defaultPrevented)){var o=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,o.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented||r.returnValue===!1};var s=F(n[i||r.type]||[]);a(s,function(t){t.call(e,r)}),8>=yr?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=e,r}function At(e,t){var r,i=typeof e;return"function"==i||"object"==i&&null!==e?"function"==typeof(r=e.$$hashKey)?r=e.$$hashKey():r===n&&(r=e.$$hashKey=(t||c)()):r=e,i+":"+r}function It(e,t){if(t){var n=0;this.nextUid=function(){return++n}}a(e,this.put,this)}function Mt(e){var t,n,r,i;return"function"==typeof e?(t=e.$inject)||(t=[],e.length&&(n=(""+e).replace(Zr,""),r=n.match(Yr),a(r[1].split(Jr),function(e){e.replace(Xr,function(e,n,r){t.push(r)})})),e.$inject=t):Pr(e)?(i=e.length-1,nt(e[i],"fn"),t=e.slice(0,i)):nt(e,"fn",!0),t}function Ot(e){function t(e){return function(t,r){return b(t)?(a(t,l(e)),n):e(t,r)}}function r(e,t){if(rt(e,"service"),(S(t)||Pr(t))&&(t=w.instantiate(t)),!t.$get)throw ei("pget","Provider '{0}' must define $get factory method.",e);return T[e+m]=t}function i(e,t){return r(e,{$get:t})}function o(e,t){return i(e,["$injector",function(e){return e.instantiate(t)}])}function s(e,t){return i(e,g(t))}function c(e,t){rt(e,"constant"),T[e]=t,k[e]=t}function u(e,t){var n=w.get(e+m),r=n.$get;n.$get=function(){var e=x.invoke(r,n);return x.invoke(t,null,{$delegate:e})}}function d(e){var t,n,r,i,o=[];return a(e,function(e){if(!y.get(e)){y.put(e,!0);try{if($(e))for(t=Tr(e),o=o.concat(d(t.requires)).concat(t._runBlocks),n=t._invokeQueue,r=0,i=n.length;i>r;r++){var a=n[r],s=w.get(a[0]);s[a[1]].apply(s,a[2])}else S(e)?o.push(w.invoke(e)):Pr(e)?o.push(w.invoke(e)):nt(e,"module")}catch(l){throw Pr(e)&&(e=e[e.length-1]),l.message&&l.stack&&-1==l.stack.indexOf(l.message)&&(l=l.message+"\n"+l.stack),ei("modulerr","Failed to instantiate module {0} due to:\n{1}",e,l.stack||l.message||l)}}}),o}function p(e,t){function n(n){if(e.hasOwnProperty(n)){if(e[n]===h)throw ei("cdep","Circular dependency found: {0}",n+" <- "+v.join(" <- "));return e[n]}try{return v.unshift(n),e[n]=h,e[n]=t(n)}catch(r){throw e[n]===h&&delete e[n],r}finally{v.shift()}}function r(e,t,r){var i,a,o,s=[],l=Mt(e);for(a=0,i=l.length;i>a;a++){if(o=l[a],"string"!=typeof o)throw ei("itkn","Incorrect injection token! Expected service name as string, got {0}",o);s.push(r&&r.hasOwnProperty(o)?r[o]:n(o))}return Pr(e)&&(e=e[i]),e.apply(t,s)}function i(e,t){var n,i,a=function(){};return a.prototype=(Pr(e)?e[e.length-1]:e).prototype,n=new a,i=r(e,n,t),b(i)||S(i)?i:n}return{invoke:r,instantiate:i,get:n,annotate:Mt,has:function(t){return T.hasOwnProperty(t+m)||e.hasOwnProperty(t)}}}var h={},m="Provider",v=[],y=new It([],!0),T={$provide:{provider:t(r),factory:t(i),service:t(o),value:t(s),constant:t(c),decorator:u}},w=T.$injector=p(T,function(){throw ei("unpr","Unknown provider: {0}",v.join(" <- "))}),k={},x=k.$injector=p(k,function(e){var t=w.get(e+m);return x.invoke(t.$get,t)});return a(d(e),function(e){x.invoke(e||f)}),x}function Lt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return a(e,function(e){t||"a"!==hr(e.nodeName)||(t=e)}),t}function o(){var e,r=n.hash();r?(e=s.getElementById(r))?e.scrollIntoView():(e=i(s.getElementsByName(r)))?e.scrollIntoView():"top"===r&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;return e&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(o)}),o}]}function Nt(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Ft(e,t,r,i){function o(e){try{e.apply(null,R(arguments,1))}finally{if(y--,0===y)for(;b.length;)try{b.pop()()}catch(t){r.error(t)}}}function s(e,t){(function n(){a(w,function(e){e()}),T=t(n,e)})()}function l(){x=null,S!=c.url()&&(S=c.url(),a(E,function(e){e(c.url())}))}var c=this,u=t[0],d=e.location,p=e.history,h=e.setTimeout,m=e.clearTimeout,g={};c.isMock=!1;var y=0,b=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){y++},c.notifyWhenNoOutstandingRequests=function(e){a(w,function(e){e()}),0===y?e():b.push(e)};var T,w=[];c.addPollFn=function(e){return v(T)&&s(100,h),w.push(e),e};var S=d.href,k=t.find("base"),x=null;c.url=function(t,n){if(d!==e.location&&(d=e.location),p!==e.history&&(p=e.history),t){if(S==t)return;return S=t,i.history?n?p.replaceState(null,"",t):(p.pushState(null,"",t),k.attr("href",k.attr("href"))):(x=t,n?d.replace(t):d.href=t),c}return x||d.href.replace(/%27/g,"'")};var E=[],D=!1;c.onUrlChange=function(t){return D||(i.history&&br(e).on("popstate",l),i.hashchange?br(e).on("hashchange",l):c.addPollFn(l),D=!0),E.push(t),t},c.baseHref=function(){var e=k.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var C={},P="",A=c.baseHref();c.cookies=function(e,t){var i,a,o,s,l;if(!e){if(u.cookie!==P)for(P=u.cookie,a=P.split("; "),C={},s=0;a.length>s;s++)o=a[s],l=o.indexOf("="),l>0&&(e=unescape(o.substring(0,l)),C[e]===n&&(C[e]=unescape(o.substring(l+1))));return C}t===n?u.cookie=escape(e)+"=;path="+A+";expires=Thu, 01 Jan 1970 00:00:00 GMT":$(t)&&(i=(u.cookie=escape(e)+"="+escape(t)+";path="+A).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},c.defer=function(e,t){var n;return y++,n=h(function(){delete g[n],o(e)},t||0),g[n]=!0,n},c.defer.cancel=function(e){return g[e]?(delete g[e],m(e),o(f),!0):!1}}function jt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Ft(e,r,t,n)}]}function Ut(){this.$get=function(){function e(e,n){function i(e){e!=p&&(h?h==e&&(h=e.n):h=e,a(e.n,e.p),a(e,p),p=e,p.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,s=d({},n,{id:e}),l={},c=n&&n.capacity||Number.MAX_VALUE,u={},p=null,h=null;return t[e]={put:function(e,t){if(Number.MAX_VALUE>c){var n=u[e]||(u[e]={key:e});i(n)}if(!v(t))return e in l||o++,l[e]=t,o>c&&this.remove(h.key),t},get:function(e){if(Number.MAX_VALUE>c){var t=u[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(Number.MAX_VALUE>c){var t=u[e];if(!t)return;t==p&&(p=t.p),t==h&&(h=t.n),a(t.n,t.p),delete u[e]}delete l[e],o--},removeAll:function(){l={},o=0,u={},p=h=null},destroy:function(){l=null,s=null,u=null,delete t[e]},info:function(){return d({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Rt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Bt(e,r){var i={},o="Directive",s=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,c=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,u=/^(on[a-z]+|formaction)$/;this.directive=function p(t,n){return rt(t,"directive"),$(t)?(tt(n,"directiveFactory"),i.hasOwnProperty(t)||(i[t]=[],e.factory(t+o,["$injector","$exceptionHandler",function(e,n){var r=[];return a(i[t],function(i,a){try{var o=e.invoke(i);S(o)?o={compile:g(o)}:!o.compile&&o.link&&(o.compile=g(o.link)),o.priority=o.priority||0,o.index=a,o.name=o.name||t,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"A",r.push(o)}catch(s){n(s)}}),r}])),i[t].push(n)):a(t,l(p)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,l,p,f,g,v,y,T,w,k,x){function E(e,t,n,r,i){e instanceof br||(e=br(e)),a(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=t=br(t).wrap("<span></span>").parent()[0])});var o=C(e,t,e,n,r,i);return D(e,"ng-scope"),function(t,n,r,i){tt(t,"scope");var s=n?Gr.clone.call(e):e;a(r,function(e,t){s.data("$"+t+"Controller",e)});for(var l=0,c=s.length;c>l;l++){var u=s[l],d=u.nodeType;(1===d||9===d)&&s.eq(l).data("$scope",t)}return n&&n(s,t),o&&o(t,s,s,i),s}}function D(e,t){try{e.addClass(t)}catch(n){}}function C(e,t,r,i,a,o){function s(e,r,i,a){var o,s,l,c,u,d,p,h,m=r.length,g=Array(m);for(u=0;m>u;u++)g[u]=r[u];for(u=0,p=0,d=f.length;d>u;p++)l=g[p],o=f[u++],s=f[u++],o?(o.scope?(c=e.$new(),br.data(l,"$scope",c)):c=e,h=o.transcludeOnThisElement?P(e,o.transclude,a):!o.templateOnThisElement&&a?a:!a&&t?P(e,t):null,o(s,c,l,i,h)):s&&s(e,l.childNodes,n,a)}for(var l,c,u,d,p,h,f=[],m=0;e.length>m;m++)l=new z,c=A(e[m],[],l,0===m?i:n,a),u=c.length?O(c,e[m],l,t,r,null,[],[],o):null,u&&u.scope&&D(l.$$element,"ng-scope"),p=u&&u.terminal||!(d=e[m].childNodes)||!d.length?null:C(d,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),f.push(u,p),h=h||u||p,o=null;return h?s:null}function P(e,t,n){var r=function(r,i,a){var o=!1;r||(r=e.$new(),r.$$transcluded=!0,o=!0);var s=t(r,i,a,n);return o&&s.on("$destroy",function(){r.$destroy()}),s};return r}function A(e,t,n,r,i){var a,o,l=e.nodeType,u=n.$attr;switch(l){case 1:N(t,_t(wr(e).toLowerCase()),"E",r,i);for(var d,p,h,f,m,g,v=e.attributes,y=0,b=v&&v.length;b>y;y++){var T=!1,w=!1;if(d=v[y],!yr||yr>=8||d.specified){p=d.name,m=Ar(d.value),f=_t(p),(g=et.test(f))&&(p=Z(f.substr(6),"-"));var S=f.replace(/(Start|End)$/,"");f===S+"Start"&&(T=p,w=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),h=_t(p.toLowerCase()),u[h]=p,(g||!n.hasOwnProperty(h))&&(n[h]=m,Ct(e,h)&&(n[h]=!0)),G(e,t,m,h),N(t,h,"A",r,i,T,w)}}if(o=e.className,$(o)&&""!==o)for(;a=c.exec(o);)h=_t(a[2]),N(t,h,"C",r,i)&&(n[h]=Ar(a[3])),o=o.substr(a.index+a[0].length);break;case 3:q(t,e.nodeValue);break;case 8:try{a=s.exec(e.nodeValue),a&&(h=_t(a[1]),N(t,h,"M",r,i)&&(n[h]=Ar(a[2])))}catch(k){}}return t.sort(_),t}function I(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw ri("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return br(r)}function M(e,t,n){return function(r,i,a,o,s){return i=I(i[0],t,n),e(r,i,a,o,s)}}function O(e,i,o,s,c,u,d,p,h){function f(e,t,n,r){e&&(n&&(e=M(e,n,r)),e.require=w.require,e.directiveName=k,(_===w||w.$$isolateScope)&&(e=Q(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=M(t,n,r)),t.require=w.require,t.directiveName=k,(_===w||w.$$isolateScope)&&(t=Q(t,{isolateScope:!0})),p.push(t))}function m(e,t,n,r){var i,o="data",s=!1;if($(t)){for(;"^"==(i=t.charAt(0))||"?"==i;)t=t.substr(1),"^"==i&&(o="inheritedData"),s=s||"?"==i;if(i=null,r&&"data"===o&&(i=r[t]),i=i||n[o]("$"+t+"Controller"),!i&&!s)throw ri("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return i}return Pr(t)&&(i=[],a(t,function(t){i.push(m(e,t,n,r))})),i}function y(e,t,s,c,u){function h(e,t){var r;return 2>arguments.length&&(t=e,e=n),J&&(r=x),u(e,t,r)}var f,y,b,$,T,w,S,k,x={};if(f=i===s?o:F(o,new z(br(s),o.$attr)),y=f.$$element,_){var E=/^\s*([@=&])(\??)\s*(\w*)\s*$/;S=t.$new(!0),!q||q!==_&&q!==_.$$originalDirective?y.data("$isolateScopeNoTemplate",S):y.data("$isolateScope",S),D(y,"ng-isolate-scope"),a(_.scope,function(e,n){var i,a,o,s,l=e.match(E)||[],c=l[3]||n,u="?"==l[2],d=l[1];switch(S.$$isolateBindings[n]=d+c,d){case"@":f.$observe(c,function(e){S[n]=e}),f.$$observers[c].$$scope=t,f[c]&&(S[n]=r(f[c])(t));break;case"=":if(u&&!f[c])return;a=g(f[c]),s=a.literal?j:function(e,t){return e===t},o=a.assign||function(){throw i=S[n]=a(t),ri("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",f[c],_.name)},i=S[n]=a(t),S.$watch(function(){var e=a(t);return s(e,S[n])||(s(e,i)?o(t,e=S[n]):S[n]=e),i=e},null,a.literal);break;case"&":a=g(f[c]),S[n]=function(e){return a(t,e)};break;default:throw ri("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",_.name,n,e)}})}for(k=u&&h,N&&a(N,function(e){var n,r={$scope:e===_||e.$$isolateScope?S:t,$element:y,$attrs:f,$transclude:k};w=e.controller,"@"==w&&(w=f[e.name]),n=v(w,r),x[e.name]=n,J||y.data("$"+e.name+"Controller",n),e.controllerAs&&(r.$scope[e.controllerAs]=n)}),b=0,$=d.length;$>b;b++)try{T=d[b],T(T.isolateScope?S:t,y,f,T.require&&m(T.directiveName,T.require,y,x),k)}catch(C){l(C,W(y))}var P=t;for(_&&(_.template||null===_.templateUrl)&&(P=S),e&&e(P,s.childNodes,n,u),b=p.length-1;b>=0;b--)try{T=p[b],T(T.isolateScope?S:t,y,f,T.require&&m(T.directiveName,T.require,y,x),k)}catch(C){l(C,W(y))}}h=h||{};for(var T,w,k,x,C,P,O=-Number.MAX_VALUE,N=h.controllerDirectives,_=h.newIsolateScopeDirective,q=h.templateDirective,V=h.nonTlbTranscludeDirective,G=!1,Y=!1,J=h.hasElementTranscludeDirective,Z=o.$$element=br(i),et=u,tt=s,nt=0,rt=e.length;rt>nt;nt++){w=e[nt];var it=w.$$start,at=w.$$end;if(it&&(Z=I(i,it,at)),x=n,O>w.priority)break;if((P=w.scope)&&(T=T||w,w.templateUrl||(H("new/isolated scope",_,w,Z),b(P)&&(_=w))),k=w.name,!w.templateUrl&&w.controller&&(P=w.controller,N=N||{},H("'"+k+"' controller",N[k],w,Z),N[k]=w),(P=w.transclude)&&(G=!0,w.$$tlb||(H("transclusion",V,w,Z),V=w),"element"==P?(J=!0,O=w.priority,x=Z,Z=o.$$element=br(t.createComment(" "+k+": "+o[k]+" ")),i=Z[0],K(c,R(x),i),tt=E(x,s,O,et&&et.name,{nonTlbTranscludeDirective:V})):(x=br(mt(i)).contents(),Z.empty(),tt=E(x,s))),w.template)if(Y=!0,H("template",q,w,Z),q=w,P=S(w.template)?w.template(Z,o):w.template,P=X(P),w.replace){if(et=w,x=dt(P)?[]:br(Ar(P)),i=x[0],1!=x.length||1!==i.nodeType)throw ri("tplrt","Template for directive '{0}' must have exactly one root element. {1}",k,"");K(c,Z,i);var ot={$attr:{}},st=A(i,[],ot),lt=e.splice(nt+1,e.length-(nt+1));_&&L(st),e=e.concat(st).concat(lt),U(o,ot),rt=e.length}else Z.html(P);if(w.templateUrl)Y=!0,H("template",q,w,Z),q=w,w.replace&&(et=w),y=B(e.splice(nt,e.length-nt),Z,o,c,G&&tt,d,p,{controllerDirectives:N,newIsolateScopeDirective:_,templateDirective:q,nonTlbTranscludeDirective:V}),rt=e.length;else if(w.compile)try{C=w.compile(Z,o,tt),S(C)?f(null,C,it,at):C&&f(C.pre,C.post,it,at)}catch(ct){l(ct,W(Z))}w.terminal&&(y.terminal=!0,O=Math.max(O,w.priority))}return y.scope=T&&T.scope===!0,y.transcludeOnThisElement=G,y.templateOnThisElement=Y,y.transclude=tt,h.hasElementTranscludeDirective=J,y}function L(e){for(var t=0,n=e.length;n>t;t++)e[t]=h(e[t],{$$isolateScope:!0})}function N(t,r,a,s,c,u,d){if(r===c)return null;var p=null;if(i.hasOwnProperty(r))for(var f,m=e.get(r+o),g=0,v=m.length;v>g;g++)try{f=m[g],(s===n||s>f.priority)&&-1!=f.restrict.indexOf(a)&&(u&&(f=h(f,{$$start:u,$$end:d})),t.push(f),p=f)}catch(y){l(y)}return p}function U(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;a(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),a(t,function(t,a){"class"==a?(D(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==a?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,r[a]=n[a])})}function B(e,t,n,r,i,o,s,l){var c,u,h=[],m=t[0],g=e.shift(),v=d({},g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),y=S(g.templateUrl)?g.templateUrl(t,n):g.templateUrl;return t.empty(),p.get(w.getTrustedResourceUrl(y),{cache:f}).success(function(d){var p,f,$,T;if(d=X(d),g.replace){if($=dt(d)?[]:br(Ar(d)),p=$[0],1!=$.length||1!==p.nodeType)throw ri("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,y);f={$attr:{}},K(r,t,p);var w=A(p,[],f);b(g.scope)&&L(w),e=w.concat(e),U(n,f)}else p=m,t.html(d);for(e.unshift(v),c=O(e,p,n,i,t,g,o,s,l),a(r,function(e,n){e==p&&(r[n]=t[0])}),u=C(t[0].childNodes,i);h.length;){var S=h.shift(),k=h.shift(),x=h.shift(),E=h.shift(),I=t[0];if(k!==m){var M=k.className;l.hasElementTranscludeDirective&&g.replace||(I=mt(p)),K(x,br(k),I),D(br(I),M)}T=c.transcludeOnThisElement?P(S,c.transclude,E):E,c(u,S,I,r,T)}h=null}).error(function(e,t,n,r){throw ri("tpload","Failed to load template: {0}",r.url)}),function(e,t,n,r,i){var a=i;h?(h.push(t),h.push(n),h.push(r),h.push(a)):(c.transcludeOnThisElement&&(a=P(t,c.transclude,i)),c(u,t,n,r,a))}}function _(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function H(e,t,n,r){if(t)throw ri("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,W(r))}function q(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=t.length;return r&&D(e.parent(),"ng-binding"),function(e,t){var i=t.parent(),a=i.data("$binding")||[];a.push(n),i.data("$binding",a),r||D(i,"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function V(e,t){if("srcdoc"==t)return w.HTML;var r=wr(e);return"xlinkHref"==t||"FORM"==r&&"action"==t||"IMG"!=r&&("src"==t||"ngSrc"==t)?w.RESOURCE_URL:n}function G(e,t,n,i){var a=r(n,!0);if(a){if("multiple"===i&&"SELECT"===wr(e))throw ri("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",W(e));t.push({priority:100,compile:function(){return{pre:function(t,n,o){var s=o.$$observers||(o.$$observers={});if(u.test(i))throw ri("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");a=r(o[i],!0,V(e,i)),a&&(o[i]=a(t),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(a,function(e,t){"class"===i&&e!=t?o.$updateClass(e,t):o.$set(i,e)}))}}}})}}function K(e,n,r){var i,a,o=n[0],s=n.length,l=o.parentNode;if(e)for(i=0,a=e.length;a>i;i++)if(e[i]==o){e[i++]=r;for(var c=i,u=c+s-1,d=e.length;d>c;c++,u++)d>u?e[c]=e[u]:delete e[c];e.length-=s-1;break}l&&l.replaceChild(r,o);var p=t.createDocumentFragment();p.appendChild(o),r[br.expando]=o[br.expando];for(var h=1,f=n.length;f>h;h++){var m=n[h];br(m).remove(),p.appendChild(m),delete n[h]}n[0]=r,n.length=1
}function Q(e,t){return d(function(){return e.apply(null,arguments)},e,t)}var z=function(e,t){this.$$element=e,this.$attr=t||{}};z.prototype={$normalize:_t,$addClass:function(e){e&&e.length>0&&k.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&k.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ht(e,t),r=Ht(t,e);0===n.length?k.removeClass(this.$$element,r):0===r.length?k.addClass(this.$$element,n):k.setClass(this.$$element,n,r)},$set:function(e,t,r,i){var o,s=Ct(this.$$element[0],e);s&&(this.$$element.prop(e,t),i=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=Z(e,"-"))),o=wr(this.$$element),("A"===o&&"href"===e||"IMG"===o&&"src"===e)&&(this[e]=t=x(t,"src"===e)),r!==!1&&(null===t||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t));var c=this.$$observers;c&&a(c[e],function(e){try{e(t)}catch(n){l(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),i=r[e]||(r[e]=[]);return i.push(t),y.$evalAsync(function(){i.$$inter||t(n[e])}),t}};var Y=r.startSymbol(),J=r.endSymbol(),X="{{"==Y||"}}"==J?m:function X(e){return e.replace(/\{\{/g,Y).replace(/}}/g,J)},et=/^ngAttr[A-Z]/;return E}]}function _t(e){return ct(e.replace(ii,""))}function Ht(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var a=0;r.length>a;a++){for(var o=r[a],s=0;i.length>s;s++)if(o==i[s])continue e;n+=(n.length>0?" ":"")+o}return n}function qt(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){rt(t,"controller"),b(t)?d(e,t):e[t]=n},this.$get=["$injector","$window",function(n,i){return function(a,o){var s,l,c,u;if($(a)&&(l=a.match(t),c=l[1],u=l[3],a=e.hasOwnProperty(c)?e[c]:it(o.$scope,c,!0)||it(i,c,!0),nt(a,c,!0)),s=n.instantiate(a,o),u){if(!o||"object"!=typeof o.$scope)throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",c||a.name,u);o.$scope[u]=s}return s}}]}function Vt(){this.$get=["$window",function(e){return br(e.document)}]}function Wt(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Gt(e){var t,n,r,i={};return e?(a(e.split("\n"),function(e){r=e.indexOf(":"),t=hr(Ar(e.substr(0,r))),n=Ar(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}function Kt(e){var t=b(e)?e:n;return function(n){return t||(t=Gt(e)),n?t[hr(n)]||null:t}}function Qt(e,t,n){return S(n)?n(e,t):(a(n,function(n){e=n(e,t)}),e)}function zt(e){return e>=200&&300>e}function Yt(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,i={"Content-Type":"application/json;charset=utf-8"},o=this.defaults={transformResponse:[function(n){return $(n)&&(n=n.replace(r,""),e.test(n)&&t.test(n)&&(n=q(n))),n}],transformRequest:[function(e){return!b(e)||D(e)||C(e)?e:H(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:F(i),put:F(i),patch:F(i)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},l=this.interceptors=[],c=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,r,i,u,p){function h(e){function t(e){var t=d({},e,{data:Qt(e.data,e.headers,i.transformResponse)});return zt(e.status)?t:u.reject(t)}function r(e){function t(e){var t;a(e,function(n,r){S(n)&&(t=n(),null!=t?e[r]=t:delete e[r])})}var n,r,i,s=o.headers,l=d({},e.headers);s=d({},s.common,s[hr(e.method)]);e:for(n in s){r=hr(n);for(i in l)if(hr(i)===r)continue e;l[n]=s[n]}return t(l),l}var i={method:"get",transformRequest:o.transformRequest,transformResponse:o.transformResponse},s=r(e);d(i,e),i.headers=s,i.method=mr(i.method);var l=function(e){s=e.headers;var n=Qt(e.data,Kt(s),e.transformRequest);return v(n)&&a(s,function(e,t){"content-type"===hr(t)&&delete s[t]}),v(e.withCredentials)&&!v(o.withCredentials)&&(e.withCredentials=o.withCredentials),g(e,n,s).then(t,t)},c=[l,n],p=u.when(i);for(a(x,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});c.length;){var h=c.shift(),f=c.shift();p=p.then(h,f)}return p.success=function(e){return p.then(function(t){e(t.data,t.status,t.headers,i)}),p},p.error=function(e){return p.then(null,function(t){e(t.data,t.status,t.headers,i)}),p},p}function f(){a(arguments,function(e){h[e]=function(t,n){return h(d(n||{},{method:e,url:t}))}})}function m(){a(arguments,function(e){h[e]=function(t,n,r){return h(d(r||{},{method:e,url:t,data:n}))}})}function g(r,a,s){function l(e,t,n,r){p&&(zt(e)?p.put($,[e,t,Gt(n),r]):p.remove($)),c(t,e,n,r),i.$$phase||i.$apply()}function c(e,t,n,i){t=Math.max(t,0),(zt(t)?m.resolve:m.reject)({data:e,status:t,headers:Kt(n),config:r,statusText:i})}function d(){var e=O(h.pendingRequests,r);-1!==e&&h.pendingRequests.splice(e,1)}var p,f,m=u.defer(),g=m.promise,$=T(r.url,r.params);if(h.pendingRequests.push(r),g.then(d,d),(r.cache||o.cache)&&r.cache!==!1&&"GET"==r.method&&(p=b(r.cache)?r.cache:b(o.cache)?o.cache:k),p)if(f=p.get($),y(f)){if(P(f))return f.then(d,d),f;Pr(f)?c(f[1],f[0],F(f[2]),f[3]):c(f,200,{},"OK")}else p.put($,g);if(v(f)){var w=Un(r.url)?t.cookies()[r.xsrfCookieName||o.xsrfCookieName]:n;w&&(s[r.xsrfHeaderName||o.xsrfHeaderName]=w),e(r.method,$,a,l,s,r.timeout,r.withCredentials,r.responseType)}return g}function T(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||v(e)||(Pr(e)||(e=[e]),a(e,function(e){b(e)&&(w(e)?e=e.toISOString():b(e)&&(e=H(e))),n.push(Y(t)+"="+Y(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var k=r("$http"),x=[];return a(l,function(e){x.unshift($(e)?p.get(e):p.invoke(e))}),a(c,function(e,t){var n=$(e)?p.get(e):p.invoke(e);x.splice(t,0,{response:function(e){return n(u.when(e))},responseError:function(e){return n(u.reject(e))}})}),h.pendingRequests=[],f("get","delete","head","jsonp"),m("post","put"),h.defaults=o,h}]}function Jt(t){if(8>=yr&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!e.XMLHttpRequest))return new e.ActiveXObject("Microsoft.XMLHTTP");if(e.XMLHttpRequest)return new e.XMLHttpRequest;throw r("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Xt(){this.$get=["$browser","$window","$document",function(e,t,n){return Zt(e,Jt,e.defer,t.angular.callbacks,n[0])}]}function Zt(e,t,n,r,i){function o(e,t,n){var a=i.createElement("script"),o=null;return a.type="text/javascript",a.src=e,a.async=!0,o=function(e){jr(a,"load",o),jr(a,"error",o),i.body.removeChild(a),a=null;var s=-1,l="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},Fr(a,"load",o),Fr(a,"error",o),8>=yr&&(a.onreadystatechange=function(){$(a.readyState)&&/loaded|complete/.test(a.readyState)&&(a.onreadystatechange=null,o({type:"load"}))}),i.body.appendChild(a),o}var s=-1;return function(i,l,c,u,d,p,h,m){function g(){b=s,T&&T(),w&&w.abort()}function v(t,r,i,a,o){k&&n.cancel(k),T=w=null,0===r&&(r=i?200:"file"==jn(l).protocol?404:0),r=1223===r?204:r,o=o||"",t(r,i,a,o),e.$$completeOutstandingRequest(f)}var b;if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==hr(i)){var $="_"+(r.counter++).toString(36);r[$]=function(e){r[$].data=e,r[$].called=!0};var T=o(l.replace("JSON_CALLBACK","angular.callbacks."+$),$,function(e,t){v(u,e,r[$].data,"",t),r[$]=f})}else{var w=t(i);if(w.open(i,l,!0),a(d,function(e,t){y(e)&&w.setRequestHeader(t,e)}),w.onreadystatechange=function(){if(w&&4==w.readyState){var e=null,t=null,n="";b!==s&&(e=w.getAllResponseHeaders(),t="response"in w?w.response:w.responseText),b===s&&10>yr||(n=w.statusText),v(u,b||w.status,t,e,n)}},h&&(w.withCredentials=!0),m)try{w.responseType=m}catch(S){if("json"!==m)throw S}w.send(c||null)}if(p>0)var k=n(g,p);else P(p)&&p.then(g)}}function en(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(r,i,a){function o(o,c,u){for(var d,p,h,f,m=0,g=[],v=o.length,y=!1,b=[];v>m;)-1!=(d=o.indexOf(e,m))&&-1!=(p=o.indexOf(t,d+s))?(m!=d&&g.push(o.substring(m,d)),g.push(h=r(f=o.substring(d+s,p))),h.exp=f,m=p+l,y=!0):(m!=v&&g.push(o.substring(m)),m=v);if((v=g.length)||(g.push(""),v=1),u&&g.length>1)throw ai("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);return!c||y?(b.length=v,h=function(e){try{for(var t,n=0,r=v;r>n;n++){if("function"==typeof(t=g[n]))if(t=t(e),t=u?a.getTrusted(u,t):a.valueOf(t),null==t)t="";else switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=H(t)}b[n]=t}return b.join("")}catch(s){var l=ai("interr","Can't interpolate: {0}\n{1}",o,""+s);i(l)}},h.exp=o,h.parts=g,h):n}var s=e.length,l=t.length;return o.startSymbol=function(){return e},o.endSymbol=function(){return t},o}]}function tn(){this.$get=["$rootScope","$window","$q",function(e,t,n){function r(r,a,o,s){var l=t.setInterval,c=t.clearInterval,u=n.defer(),d=u.promise,p=0,h=y(s)&&!s;return o=y(o)?o:0,d.then(null,null,r),d.$$intervalId=l(function(){u.notify(p++),o>0&&p>=o&&(u.resolve(p),c(d.$$intervalId),delete i[d.$$intervalId]),h||e.$apply()},a),i[d.$$intervalId]=u,d}var i={};return r.cancel=function(e){return e&&e.$$intervalId in i?(i[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0):!1},r}]}function nn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function rn(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=z(t[n]);return t.join("/")}function an(e,t,n){var r=jn(e,n);t.$$protocol=r.protocol,t.$$host=r.hostname,t.$$port=p(r.port)||si[r.protocol]||null}function on(e,t,n){var r="/"!==e.charAt(0);r&&(e="/"+e);var i=jn(e,n);t.$$path=decodeURIComponent(r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=K(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function sn(e,t){return 0===t.indexOf(e)?t.substr(e.length):n}function ln(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function cn(e){return e.substr(0,ln(e).lastIndexOf("/")+1)}function un(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function dn(e,t){this.$$html5=!0,t=t||"";var r=cn(e);an(e,this,e),this.$$parse=function(t){var n=sn(r,t);if(!$(n))throw li("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);on(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Q(this.$$search),t=this.$$hash?"#"+z(this.$$hash):"";this.$$url=rn(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$rewrite=function(i){var a,o;return(a=sn(e,i))!==n?(o=a,(a=sn(t,a))!==n?r+(sn("/",a)||a):e+o):(a=sn(r,i))!==n?r+a:r==i+"/"?r:n}}function pn(e,t){var r=cn(e);an(e,this,e),this.$$parse=function(n){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var a=sn(e,n)||sn(r,n),o="#"==a.charAt(0)?sn(t,a):this.$$html5?a:"";if(!$(o))throw li("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',n,t);on(o,this,e),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var n=Q(this.$$search),r=this.$$hash?"#"+z(this.$$hash):"";this.$$url=rn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$rewrite=function(t){return ln(e)==ln(t)?t:n}}function hn(e,t){this.$$html5=!0,pn.apply(this,arguments);var r=cn(e);this.$$rewrite=function(i){var a;return e==ln(i)?i:(a=sn(r,i))?e+t+a:r===i+"/"?r:n},this.$$compose=function(){var n=Q(this.$$search),r=this.$$hash?"#"+z(this.$$hash):"";this.$$url=rn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function fn(e){return function(){return this[e]}}function mn(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function gn(){var t="",n=!1;this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(e){return y(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,a,o){function s(e){r.$broadcast("$locationChangeSuccess",l.absUrl(),e)}var l,c,u,d=i.baseHref(),p=i.url();n?(u=un(p)+(d||"/"),c=a.history?dn:hn):(u=ln(p),c=pn),l=new c(u,"#"+t),l.$$parse(l.$$rewrite(p)),o.on("click",function(n){if(!n.ctrlKey&&!n.metaKey&&2!=n.which){for(var a=br(n.target);"a"!==hr(a[0].nodeName);)if(a[0]===o[0]||!(a=a.parent())[0])return;var s=a.prop("href");if(b(s)&&"[object SVGAnimatedString]"==""+s&&(s=jn(s.animVal).href),c===hn){var d=a.attr("href")||a.attr("xlink:href");if(0>d.indexOf("://")){var p="#"+t;if("/"==d[0])s=u+p+d;else if("#"==d[0])s=u+p+(l.path()||"/")+d;else{for(var h=l.path().split("/"),f=d.split("/"),m=0;f.length>m;m++)"."!=f[m]&&(".."==f[m]?h.pop():f[m].length&&h.push(f[m]));s=u+p+h.join("/")}}}var g=l.$$rewrite(s);s&&!a.attr("target")&&g&&!n.isDefaultPrevented()&&(n.preventDefault(),g!=i.url()&&(l.$$parse(g),r.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}),l.absUrl()!=p&&i.url(l.absUrl(),!0),i.onUrlChange(function(e){l.absUrl()!=e&&(r.$evalAsync(function(){var t=l.absUrl();l.$$parse(e),r.$broadcast("$locationChangeStart",e,t).defaultPrevented?(l.$$parse(t),i.url(t)):s(t)}),r.$$phase||r.$digest())});var h=0;return r.$watch(function(){var e=i.url(),t=l.$$replace;return h&&e==l.absUrl()||(h++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",l.absUrl(),e).defaultPrevented?l.$$parse(e):(i.url(l.absUrl(),t),s(e))})),l.$$replace=!1,h}),l}]}function vn(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||f,o=!1;try{o=!!i.apply}catch(s){}return o?function(){var e=[];return a(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function yn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw ui("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function bn(e,t){if(e){if(e.constructor===e)throw ui("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw ui("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw ui("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw ui("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function $n(e,t){if(e){if(e.constructor===e)throw ui("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===pi||e===hi||fi&&e===fi)throw ui("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Tn(e,t,r,i,a){a=a||{};for(var o,s=t.split("."),l=0;s.length>1;l++){o=yn(s.shift(),i);var c=e[o];c||(c={},e[o]=c),e=c,e.then&&a.unwrapPromises&&(ci(i),"$$v"in e||function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return o=yn(s.shift(),i),bn(e,i),bn(e[o],i),e[o]=r,r}function wn(e,t,r,i,a,o,s){return yn(e,o),yn(t,o),yn(r,o),yn(i,o),yn(a,o),s.unwrapPromises?function(s,l){var c,u=l&&l.hasOwnProperty(e)?l:s;return null==u?u:(u=u[e],u&&u.then&&(ci(o),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),t?null==u?n:(u=u[t],u&&u.then&&(ci(o),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),r?null==u?n:(u=u[r],u&&u.then&&(ci(o),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),i?null==u?n:(u=u[i],u&&u.then&&(ci(o),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),a?null==u?n:(u=u[a],u&&u.then&&(ci(o),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),u):u):u):u):u)}:function(o,s){var l=s&&s.hasOwnProperty(e)?s:o;return null==l?l:(l=l[e],t?null==l?n:(l=l[t],r?null==l?n:(l=l[r],i?null==l?n:(l=l[i],a?null==l?n:l=l[a]:l):l):l):l)}}function Sn(e,t,r){if(bi.hasOwnProperty(e))return bi[e];var i,o=e.split("."),s=o.length;if(t.csp)i=6>s?wn(o[0],o[1],o[2],o[3],o[4],r,t):function(e,i){var a,l=0;do a=wn(o[l++],o[l++],o[l++],o[l++],o[l++],r,t)(e,i),i=n,e=a;while(s>l);return a};else{var l="var p;\n";a(o,function(e,n){yn(e,r),l+="if(s == null) return undefined;\ns="+(n?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"]'+";\n"+(t.unwrapPromises?'if (s && s.then) {\n pw("'+r.replace(/(["\r\n])/g,"\\$1")+'");\n'+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v=v;});\n"+"}\n"+" s=s.$$v\n"+"}\n":"")}),l+="return s;";var c=Function("s","k","pw",l);c.toString=g(l),i=t.unwrapPromises?function(e,t){return c(e,t,ci)}:c}return"hasOwnProperty"!==e&&(bi[e]=i),i}function kn(){var e={},t={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(e){return y(e)?(t.unwrapPromises=!!e,this):t.unwrapPromises},this.logPromiseWarnings=function(e){return y(e)?(t.logPromiseWarnings=e,this):t.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,r,i){return t.csp=r.csp,ci=function(e){t.logPromiseWarnings&&!di.hasOwnProperty(e)&&(di[e]=!0,i.warn("[$parse] Promise found in the expression `"+e+"`. "+"Automatic unwrapping of promises in Angular expressions is deprecated."))},function(r){var i;switch(typeof r){case"string":if(e.hasOwnProperty(r))return e[r];var a=new vi(t),o=new yi(a,n,t);return i=o.parse(r),"hasOwnProperty"!==r&&(e[r]=i),i;case"function":return r;default:return f}}}]}function xn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return En(function(t){e.$evalAsync(t)},t)}]}function En(e,t){function r(e){return e}function i(e){return c(e)}function o(e){var t=s(),n=0,r=Pr(e)?[]:{};return a(e,function(e,i){n++,l(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var s=function(){var a,o,c=[];return o={resolve:function(t){if(c){var r=c;c=n,a=l(t),r.length&&e(function(){for(var e,t=0,n=r.length;n>t;t++)e=r[t],a.then(e[0],e[1],e[2])})}},reject:function(e){o.resolve(u(e))},notify:function(t){if(c){var n=c;c.length&&e(function(){for(var e,r=0,i=n.length;i>r;r++)e=n[r],e[2](t)})}},promise:{then:function(e,n,o){var l=s(),u=function(n){try{l.resolve((S(e)?e:r)(n))}catch(i){l.reject(i),t(i)}},d=function(e){try{l.resolve((S(n)?n:i)(e))}catch(r){l.reject(r),t(r)}},p=function(e){try{l.notify((S(o)?o:r)(e))}catch(n){t(n)}};return c?c.push([u,d,p]):a.then(u,d,p),l.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=s();return t?n.resolve(e):n.reject(e),n.promise}function n(n,i){var a=null;try{a=(e||r)()}catch(o){return t(o,!1)}return P(a)?a.then(function(){return t(n,i)},function(e){return t(e,!1)}):t(n,i)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}}},l=function(t){return P(t)?t:{then:function(n){var r=s();return e(function(){r.resolve(n(t))}),r.promise}}},c=function(e){var t=s();return t.reject(e),t.promise},u=function(n){return{then:function(r,a){var o=s();return e(function(){try{o.resolve((S(a)?a:i)(n))}catch(e){o.reject(e),t(e)}}),o.promise}}},d=function(n,a,o,u){var d,p=s(),h=function(e){try{return(S(a)?a:r)(e)}catch(n){return t(n),c(n)}},f=function(e){try{return(S(o)?o:i)(e)}catch(n){return t(n),c(n)}},m=function(e){try{return(S(u)?u:r)(e)}catch(n){t(n)}};return e(function(){l(n).then(function(e){d||(d=!0,p.resolve(l(e).then(h,f,m)))},function(e){d||(d=!0,p.resolve(f(e)))},function(e){d||p.notify(m(e))})}),p.promise};return{defer:s,reject:c,when:d,all:o}}function Dn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,a=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return a.supported=i,a}]}function Cn(){var e=10,t=r("$rootScope"),n=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,o,s,l){function u(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function d(e){if(v.$$phase)throw t("inprog","{0} already in progress",v.$$phase);v.$$phase=e}function p(){v.$$phase=null}function h(e,t){var n=s(e);return nt(n,t),n}function m(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function g(){}u.prototype={constructor:u,$new:function(e){var t;return e?(t=new u,t.$root=this.$root,t.$$asyncQueue=this.$$asyncQueue,t.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=c(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),t=new this.$$childScopeClass),t["this"]=t,t.$parent=this,t.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=t,this.$$childTail=t):this.$$childHead=this.$$childTail=t,t},$watch:function(e,t,r){var i=this,a=h(e,"watch"),o=i.$$watchers,s={fn:t,last:g,get:a,exp:e,eq:!!r};if(n=null,!S(t)){var l=h(t||f,"listener");s.fn=function(e,t,n){l(n)}}if("string"==typeof e&&a.constant){var c=s.fn;s.fn=function(e,t,n){c.call(this,e,t,n),L(o,s)}}return o||(o=i.$$watchers=[]),o.unshift(s),function(){L(o,s),n=null}},$watchCollection:function(e,t){function n(){a=p(c);var e,t,n;if(b(a))if(i(a)){o!==h&&(o=h,g=o.length=0,d++),e=a.length,g!==e&&(d++,o.length=g=e);for(var r=0;e>r;r++)n=o[r]!==o[r]&&a[r]!==a[r],n||o[r]===a[r]||(d++,o[r]=a[r])}else{o!==f&&(o=f={},g=0,d++),e=0;for(t in a)a.hasOwnProperty(t)&&(e++,o.hasOwnProperty(t)?(n=o[t]!==o[t]&&a[t]!==a[t],n||o[t]===a[t]||(d++,o[t]=a[t])):(g++,o[t]=a[t],d++));if(g>e){d++;for(t in o)o.hasOwnProperty(t)&&!a.hasOwnProperty(t)&&(g--,delete o[t])}}else o!==a&&(o=a,d++);return d}function r(){if(m?(m=!1,t(a,a,c)):t(a,l,c),u)if(b(a))if(i(a)){l=Array(a.length);for(var e=0;a.length>e;e++)l[e]=a[e]}else{l={};for(var n in a)fr.call(a,n)&&(l[n]=a[n])}else l=a}var a,o,l,c=this,u=t.length>1,d=0,p=s(e),h=[],f={},m=!0,g=0;return this.$watch(n,r)},$digest:function(){var r,i,a,s,l,c,u,h,f,m,v,y=this.$$asyncQueue,b=this.$$postDigestQueue,$=e,T=this,w=[];d("$digest"),n=null;do{for(c=!1,h=T;y.length;){try{v=y.shift(),v.scope.$eval(v.expression)}catch(k){p(),o(k)}n=null}e:do{if(s=h.$$watchers)for(l=s.length;l--;)try{if(r=s[l])if((i=r.get(h))===(a=r.last)||(r.eq?j(i,a):"number"==typeof i&&"number"==typeof a&&isNaN(i)&&isNaN(a))){if(r===n){c=!1;break e}}else c=!0,n=r,r.last=r.eq?N(i,null):i,r.fn(i,a===g?i:a,h),5>$&&(f=4-$,w[f]||(w[f]=[]),m=S(r.exp)?"fn: "+(r.exp.name||""+r.exp):r.exp,m+="; newVal: "+H(i)+"; oldVal: "+H(a),w[f].push(m))}catch(k){p(),o(k)}if(!(u=h.$$childHead||h!==T&&h.$$nextSibling))for(;h!==T&&!(u=h.$$nextSibling);)h=h.$parent}while(h=u);if((c||y.length)&&!$--)throw p(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,H(w))}while(c||y.length);for(p();b.length;)try{b.shift()()}catch(k){o(k)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==v&&(a(this.$$listenerCount,B(null,m,this)),e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=f,this.$on=this.$watch=function(){return f})}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e){v.$$phase||v.$$asyncQueue.length||l.defer(function(){v.$$asyncQueue.length&&v.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return d("$apply"),this.$eval(e)}catch(t){o(t)}finally{p();try{v.$digest()}catch(t){throw o(t),t}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){n[O(n,t)]=null,m(i,1,e)}},$emit:function(e){var t,n,r,i=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=U([l],arguments,1);do{for(t=a.$$listeners[e]||i,l.currentScope=a,n=0,r=t.length;r>n;n++)if(t[n])try{t[n].apply(null,c)}catch(u){o(u)}else t.splice(n,1),n--,r--;if(s)return l;a=a.$parent}while(a);return l},$broadcast:function(e){for(var t,n,r,i=this,a=i,s=i,l={name:e,targetScope:i,preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=U([l],arguments,1);a=s;){for(l.currentScope=a,t=a.$$listeners[e]||[],n=0,r=t.length;r>n;n++)if(t[n])try{t[n].apply(null,c)}catch(u){o(u)}else t.splice(n,1),n--,r--;if(!(s=a.$$listenerCount[e]&&a.$$childHead||a!==i&&a.$$nextSibling))for(;a!==i&&!(s=a.$$nextSibling);)a=a.$parent}return l}};var v=new u;return v}]}function Pn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,a=r?t:e;return yr&&!(yr>=8)||(i=jn(n).href,""===i||i.match(a))?n:"unsafe:"+i}}}function An(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function In(e){if("self"===e)return e;if($(e)){if(e.indexOf("***")>-1)throw $i("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=An(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),RegExp("^"+e+"$")}if(k(e))return RegExp("^"+e.source+"$");throw $i("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Mn(e){var t=[];return y(e)&&a(e,function(e){t.push(In(e))}),t}function On(){this.SCE_CONTEXTS=Ti;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Mn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Mn(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?Un(t):!!e.exec(t.href)}function a(n){var r,a,o=jn(""+n),s=!1;for(r=0,a=e.length;a>r;r++)if(i(e[r],o)){s=!0;break}if(s)for(r=0,a=t.length;a>r;r++)if(i(t[r],o)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return""+this.$$unwrapTrustedValue()},t}function s(e,t){var r=p.hasOwnProperty(e)?p[e]:null;if(!r)throw $i("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw $i("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function l(e){return e instanceof d?e.$$unwrapTrustedValue():e}function c(e,t){if(null===t||t===n||""===t)return t;var r=p.hasOwnProperty(e)?p[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===Ti.RESOURCE_URL){if(a(t))return t;throw $i("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",""+t)}if(e===Ti.HTML)return u(t);throw $i("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function u(){throw $i("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(u=r.get("$sanitize"));var d=o(),p={};return p[Ti.HTML]=o(d),p[Ti.CSS]=o(d),p[Ti.URL]=o(d),p[Ti.JS]=o(d),p[Ti.RESOURCE_URL]=o(p[Ti.URL]),{trustAs:s,getTrusted:c,valueOf:l}}]}function Ln(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,r){if(e&&n.msie&&8>n.msieDocumentMode)throw $i("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=F(Ti);i.isEnabled=function(){return e},i.trustAs=r.trustAs,i.getTrusted=r.getTrusted,i.valueOf=r.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=m),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:function(t,n){return i.getTrusted(e,r(t,n))}};var o=i.parseAs,s=i.getTrusted,l=i.trustAs;return a(Ti,function(e,t){var n=hr(t);i[ct("parse_as_"+n)]=function(t){return o(e,t)},i[ct("get_trusted_"+n)]=function(t){return s(e,t)},i[ct("trust_as_"+n)]=function(t){return l(e,t)}}),i}]}function Nn(){this.$get=["$window","$document",function(e,t){var n,r,i={},a=p((/android (\d+)/.exec(hr((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=s.documentMode,c=/^(Moz|webkit|O|ms)(?=[A-Z])/,u=s.body&&s.body.style,d=!1,h=!1;if(u){for(var f in u)if(r=c.exec(f)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),d=!!("transition"in u||n+"Transition"in u),h=!!("animation"in u||n+"Animation"in u),!a||d&&h||(d=$(s.body.style.webkitTransition),h=$(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>a||o),hashchange:"onhashchange"in e&&(!l||l>7),hasEvent:function(e){if("input"==e&&9==yr)return!1;if(v(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:Ir(),vendorPrefix:n,transitions:d,animations:h,android:a,msie:yr,msieDocumentMode:l}}]}function Fn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,r){function i(i,o,s){var l,c=n.defer(),u=c.promise,d=y(s)&&!s;return l=t.defer(function(){try{c.resolve(i())}catch(t){c.reject(t),r(t)}finally{delete a[u.$$timeoutId]}d||e.$apply()},o),u.$$timeoutId=l,a[l]=c,u}var a={};return i.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},i}]}function jn(e){var t=e;return yr&&(wi.setAttribute("href",t),t=wi.href),wi.setAttribute("href",t),{href:wi.href,protocol:wi.protocol?wi.protocol.replace(/:$/,""):"",host:wi.host,search:wi.search?wi.search.replace(/^\?/,""):"",hash:wi.hash?wi.hash.replace(/^#/,""):"",hostname:wi.hostname,port:wi.port,pathname:"/"===wi.pathname.charAt(0)?wi.pathname:"/"+wi.pathname}
}function Un(e){var t=$(e)?jn(e):e;return t.protocol===Si.protocol&&t.host===Si.host}function Rn(){this.$get=g(e)}function Bn(e){function t(r,i){if(b(r)){var o={};return a(r,function(e,n){o[n]=t(n,e)}),o}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Hn),t("date",Yn),t("filter",_n),t("json",Jn),t("limitTo",Xn),t("lowercase",Ci),t("number",qn),t("orderBy",Zn),t("uppercase",Pi)}function _n(){return function(e,t,r){if(!Pr(e))return e;var i=typeof r,a=[];a.check=function(e){for(var t=0;a.length>t;t++)if(!a[t](e))return!1;return!0},"function"!==i&&(r="boolean"===i&&r?function(e,t){return Dr.equals(e,t)}:function(e,t){if(e&&t&&"object"==typeof e&&"object"==typeof t){for(var n in e)if("$"!==n.charAt(0)&&fr.call(e,n)&&r(e[n],t[n]))return!0;return!1}return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1});var o=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!o(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return r(e,t);case"object":switch(typeof t){case"object":return r(e,t);default:for(var n in e)if("$"!==n.charAt(0)&&o(e[n],t))return!0}return!1;case"array":for(var i=0;e.length>i;i++)if(o(e[i],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var s in t)(function(e){t[e]!==n&&a.push(function(n){return o("$"==e?n:n&&n[e],t[e])})})(s);break;case"function":a.push(t);break;default:return e}for(var l=[],c=0;e.length>c;c++){var u=e[c];a.check(u)&&l.push(u)}return l}}function Hn(e){var t=e.NUMBER_FORMATS;return function(e,n){return v(n)&&(n=t.CURRENCY_SYM),Vn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function qn(e){var t=e.NUMBER_FORMATS;return function(e,n){return Vn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Vn(e,t,n,r,i){if(null==e||!isFinite(e)||b(e))return"";var a=0>e;e=Math.abs(e);var o=e+"",s="",l=[],c=!1;if(-1!==o.indexOf("e")){var u=o.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>i+1?(o="0",e=0):(s=o,c=!0)}if(c)i>0&&e>-1&&1>e&&(s=e.toFixed(i));else{var d=(o.split(ki)[1]||"").length;v(i)&&(i=Math.min(Math.max(t.minFrac,d),t.maxFrac)),e=+(""+Math.round(+(""+e+"e"+i))+"e"+-i);var p=(""+e).split(ki),h=p[0];p=p[1]||"";var f,m=0,g=t.lgSize,y=t.gSize;if(h.length>=g+y)for(m=h.length-g,f=0;m>f;f++)0===(m-f)%y&&0!==f&&(s+=n),s+=h.charAt(f);for(f=m;h.length>f;f++)0===(h.length-f)%g&&0!==f&&(s+=n),s+=h.charAt(f);for(;i>p.length;)p+="0";i&&"0"!==i&&(s+=r+p.substr(0,i))}return l.push(a?t.negPre:t.posPre),l.push(s),l.push(a?t.negSuf:t.posSuf),l.join("")}function Wn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;t>e.length;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Gn(e,t,n,r){return n=n||0,function(i){var a=i["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),Wn(a,t,r)}}function Kn(e,t){return function(n,r){var i=n["get"+e](),a=mr(t?"SHORT"+e:e);return r[a][i]}}function Qn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=Wn(Math[t>0?"floor":"ceil"](t/60),2)+Wn(Math.abs(t%60),2)}function zn(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]}function Yn(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,a=0,o=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=p(t[9]+t[10]),a=p(t[9]+t[11])),o.call(r,p(t[1]),p(t[2])-1,p(t[3]));var l=p(t[4]||0)-i,c=p(t[5]||0)-a,u=p(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,c,u,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r){var i,o,s="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,$(n)&&(n=Di.test(n)?p(n):t(n)),T(n)&&(n=new Date(n)),!w(n))return n;for(;r;)o=Ei.exec(r),o?(l=U(l,o,1),r=l.pop()):(l.push(r),r=null);return a(l,function(t){i=xi[t],s+=i?i(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function Jn(){return function(e){return H(e,!0)}}function Xn(){return function(e,t){if(!Pr(e)&&!$(e))return e;if(t=1/0===Math.abs(Number(t))?Number(t):p(t),$(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n,r,i=[];for(t>e.length?t=e.length:-e.length>t&&(t=-e.length),t>0?(n=0,r=t):(n=e.length+t,r=e.length);r>n;n++)i.push(e[n]);return i}}function Zn(e){return function(t,n,r){function i(e,t){for(var r=0;n.length>r;r++){var i=n[r](e,t);if(0!==i)return i}return 0}function a(e,t){return V(t)?function(t,n){return e(n,t)}:e}function o(e,t){var n=typeof e,r=typeof t;return n==r?(w(e)&&w(t)&&(e=e.valueOf(),t=t.valueOf()),"string"==n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}if(!Pr(t))return t;if(!n)return t;n=Pr(n)?n:[n],n=I(n,function(t){var n=!1,r=t||m;if($(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),r=e(t),r.constant)){var i=r();return a(function(e,t){return o(e[i],t[i])},n)}return a(function(e,t){return o(r(e),r(t))},n)});for(var s=[],l=0;t.length>l;l++)s.push(t[l]);return s.sort(a(i,r))}}function er(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function tr(e,t,n,r){function i(t,n){n=n?"-"+Z(n,"-"):"",r.removeClass(e,(t?qi:Hi)+n),r.addClass(e,(t?Hi:qi)+n)}var o=this,s=e.parent().controller("form")||Mi,l=0,c=o.$error={},u=[];o.$name=t.name||t.ngForm,o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,s.$addControl(o),e.addClass(Vi),i(!0),o.$addControl=function(e){rt(e.$name,"input"),u.push(e),e.$name&&(o[e.$name]=e)},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],a(c,function(t,n){o.$setValidity(n,!0,e)}),L(u,e)},o.$setValidity=function(e,t,n){var r=c[e];if(t)r&&(L(r,n),r.length||(l--,l||(i(t),o.$valid=!0,o.$invalid=!1),c[e]=!1,i(!0,e),s.$setValidity(e,!0,o)));else{if(l||i(t),r){if(M(r,n))return}else c[e]=r=[],l++,i(!1,e),s.$setValidity(e,!1,o);r.push(n),o.$valid=!1,o.$invalid=!0}},o.$setDirty=function(){r.removeClass(e,Vi),r.addClass(e,Wi),o.$dirty=!0,o.$pristine=!1,s.$setDirty()},o.$setPristine=function(){r.removeClass(e,Wi),r.addClass(e,Vi),o.$dirty=!1,o.$pristine=!0,a(u,function(e){e.$setPristine()})}}function nr(e,t,r,i){return e.$setValidity(t,r),r?i:n}function rr(e,t){var n,r;if(t)for(n=0;t.length>n;++n)if(r=t[n],e[r])return!0;return!1}function ir(e,t,r,i,a){if(b(a)){e.$$hasNativeValidators=!0;var o=function(o){return e.$error[t]||rr(a,i)||!rr(a,r)?o:(e.$setValidity(t,!1),n)};e.$parsers.push(o)}}function ar(e,t,i,a,o,s){var l=t.prop(pr),c=t[0].placeholder,u={};if(a.$$validityState=l,!o.android){var d=!1;t.on("compositionstart",function(){d=!0}),t.on("compositionend",function(){d=!1,h()})}var h=function(r){if(!d){var o=t.val();if(yr&&"input"===(r||u).type&&t[0].placeholder!==c)return c=t[0].placeholder,n;V(i.ngTrim||"T")&&(o=Ar(o));var s=l&&a.$$hasNativeValidators;(a.$viewValue!==o||""===o&&s)&&(e.$$phase?a.$setViewValue(o):e.$apply(function(){a.$setViewValue(o)}))}};if(o.hasEvent("input"))t.on("input",h);else{var f,m=function(){f||(f=s.defer(function(){h(),f=null}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||m()}),o.hasEvent("paste")&&t.on("paste cut",m)}t.on("change",h),a.$render=function(){t.val(a.$isEmpty(a.$viewValue)?"":a.$viewValue)};var g,v,y=i.ngPattern;if(y){var b=function(e,t){return nr(a,"pattern",a.$isEmpty(t)||e.test(t),t)};v=y.match(/^\/(.*)\/([gim]*)$/),v?(y=RegExp(v[1],v[2]),g=function(e){return b(y,e)}):g=function(n){var i=e.$eval(y);if(!i||!i.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",y,i,W(t));return b(i,n)},a.$formatters.push(g),a.$parsers.push(g)}if(i.ngMinlength){var $=p(i.ngMinlength),T=function(e){return nr(a,"minlength",a.$isEmpty(e)||e.length>=$,e)};a.$parsers.push(T),a.$formatters.push(T)}if(i.ngMaxlength){var w=p(i.ngMaxlength),S=function(e){return nr(a,"maxlength",a.$isEmpty(e)||w>=e.length,e)};a.$parsers.push(S),a.$formatters.push(S)}}function or(e,t,r,i,a,o){if(ar(e,t,r,i,a,o),i.$parsers.push(function(e){var t=i.$isEmpty(e);return t||Ui.test(e)?(i.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(i.$setValidity("number",!1),n)}),ir(i,"number",Bi,null,i.$$validityState),i.$formatters.push(function(e){return i.$isEmpty(e)?"":""+e}),r.min){var s=function(e){var t=parseFloat(r.min);return nr(i,"min",i.$isEmpty(e)||e>=t,e)};i.$parsers.push(s),i.$formatters.push(s)}if(r.max){var l=function(e){var t=parseFloat(r.max);return nr(i,"max",i.$isEmpty(e)||t>=e,e)};i.$parsers.push(l),i.$formatters.push(l)}i.$formatters.push(function(e){return nr(i,"number",i.$isEmpty(e)||T(e),e)})}function sr(e,t,n,r,i,a){ar(e,t,n,r,i,a);var o=function(e){return nr(r,"url",r.$isEmpty(e)||Fi.test(e),e)};r.$formatters.push(o),r.$parsers.push(o)}function lr(e,t,n,r,i,a){ar(e,t,n,r,i,a);var o=function(e){return nr(r,"email",r.$isEmpty(e)||ji.test(e),e)};r.$formatters.push(o),r.$parsers.push(o)}function cr(e,t,n,r){v(n.name)&&t.attr("name",c()),t.on("click",function(){t[0].checked&&e.$apply(function(){r.$setViewValue(n.value)})}),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function ur(e,t,n,r){var i=n.ngTrueValue,a=n.ngFalseValue;$(i)||(i=!0),$(a)||(a=!1),t.on("click",function(){e.$apply(function(){r.$setViewValue(t[0].checked)})}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e!==i},r.$formatters.push(function(e){return e===i}),r.$parsers.push(function(e){return e?i:a})}function dr(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;e.length>r;r++){for(var i=e[r],a=0;t.length>a;a++)if(i==t[a])continue e;n.push(i)}return n}function i(e){if(Pr(e))return e;if($(e))return e.split(" ");if(b(e)){var t=[];return a(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(o,s,l){function c(e){var t=d(e,1);l.$addClass(t)}function u(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||{},r=[];return a(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function p(e,t){var i=r(t,e),a=r(e,t);a=d(a,-1),i=d(i,1),0===i.length?n.removeClass(s,a):0===a.length?n.addClass(s,i):n.setClass(s,i,a)}function h(e){if(t===!0||o.$index%2===t){var n=i(e||[]);if(f){if(!j(e,f)){var r=i(f);p(r,n)}}else c(n)}f=F(e)}var f;o.$watch(l[e],h,!0),l.$observe("class",function(){h(o.$eval(l[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,r){var a=1&n;if(a!==(1&r)){var s=i(o.$eval(l[e]));a===t?c(s):u(s)}})}}}]}var pr="validity",hr=function(e){return $(e)?e.toLowerCase():e},fr=Object.prototype.hasOwnProperty,mr=function(e){return $(e)?e.toUpperCase():e},gr=function(e){return $(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},vr=function(e){return $(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(hr=gr,mr=vr);var yr,br,$r,Tr,wr,Sr=[].slice,kr=[].push,xr=Object.prototype.toString,Er=r("ng"),Dr=e.angular||(e.angular={}),Cr=["0","0","0"];yr=p((/msie (\d+)/.exec(hr(navigator.userAgent))||[])[1]),isNaN(yr)&&(yr=p((/trident\/.*; rv:(\d+)/.exec(hr(navigator.userAgent))||[])[1])),f.$inject=[],m.$inject=[];var Pr=function(){return S(Array.isArray)?Array.isArray:function(e){return"[object Array]"===xr.call(e)}}(),Ar=function(){return String.prototype.trim?function(e){return $(e)?e.trim():e}:function(e){return $(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();wr=9>yr?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?mr(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var Ir=function(){if(y(Ir.isActive_))return Ir.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{Function("")}catch(n){e=!0}return Ir.isActive_=e},Mr=/[A-Z]/g,Or={full:"1.2.21",major:1,minor:2,dot:21,codeName:"wizard-props"};ft.expando="ng339";var Lr=ft.cache={},Nr=1,Fr=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},jr=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)};ft._data=function(e){return this.cache[e[this.expando]]||{}};var Ur=/([\:\-\_]+(.))/g,Rr=/^moz([A-Z])/,Br=r("jqLite"),_r=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Hr=/<|&#?\w+;/,qr=/<([\w:]+)/,Vr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Wr.optgroup=Wr.option,Wr.tbody=Wr.tfoot=Wr.colgroup=Wr.caption=Wr.thead,Wr.th=Wr.td;var Gr=ft.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),ft(e).on("load",r))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?br(this[e]):br(this[this.length+e])},length:0,push:kr,sort:[].sort,splice:[].splice},Kr={};a("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Kr[hr(e)]=e});var Qr={};a("input,select,option,textarea,button,form,details".split(","),function(e){Qr[mr(e)]=!0}),a({data:$t,removeData:yt},function(e,t){ft[t]=e}),a({data:$t,inheritedData:Et,scope:function(e){return br.data(e,"$scope")||Et(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return br.data(e,"$isolateScope")||br.data(e,"$isolateScopeNoTemplate")},controller:xt,injector:function(e){return Et(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Tt,css:function(e,t,r){if(t=ct(t),!y(r)){var i;return 8>=yr&&(i=e.currentStyle&&e.currentStyle[t],""===i&&(i="auto")),i=i||e.style[t],8>=yr&&(i=""===i?n:i),i}e.style[t]=r},attr:function(e,t,r){var i=hr(t);if(Kr[i]){if(!y(r))return e[t]||(e.attributes.getNamedItem(t)||f).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(y(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}},prop:function(e,t,r){return y(r)?(e[t]=r,n):e[t]},text:function(){function e(e,r){var i=t[e.nodeType];return v(r)?i?e[i]:"":(e[i]=r,n)}var t=[];return 9>yr?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",e.$dv="",e}(),val:function(e,t){if(v(t)){if("SELECT"===wr(e)&&e.multiple){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(v(t))return e.innerHTML;for(var n=0,r=e.childNodes;r.length>n;n++)gt(r[n]);e.innerHTML=t},empty:Dt},function(e,t){ft.prototype[t]=function(t,r){var i,a,o=this.length;if(e!==Dt&&(2==e.length&&e!==Tt&&e!==xt?t:r)===n){if(b(t)){for(i=0;o>i;i++)if(e===$t)e(this[i],t);else for(a in t)e(this[i],a,t[a]);return this}for(var s=e.$dv,l=s===n?Math.min(o,1):o,c=0;l>c;c++){var u=e(this[c],t,r);s=s?s+u:u}return s}for(i=0;o>i;i++)e(this[i],t,r);return this}}),a({removeData:yt,dealoc:gt,on:function zr(e,n,r,i){if(y(i))throw Br("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var o=bt(e,"events"),s=bt(e,"handle");o||bt(e,"events",o={}),s||bt(e,"handle",s=Pt(e,o)),a(n.split(" "),function(n){var i=o[n];if(!i){if("mouseenter"==n||"mouseleave"==n){var a=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};o[n]=[];var l={mouseleave:"mouseout",mouseenter:"mouseover"};zr(e,l[n],function(e){var t=this,r=e.relatedTarget;(!r||r!==t&&!a(t,r))&&s(e,n)})}else Fr(e,n,s),o[n]=[];i=o[n]}i.push(r)})},off:vt,one:function(e,t,n){e=br(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;gt(e),a(new ft(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){a(new ft(t),function(t){(1===e.nodeType||11===e.nodeType)&&e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;a(new ft(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=br(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){gt(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;a(new ft(t),function(e){r.insertBefore(e,n.nextSibling),n=e})},addClass:St,removeClass:wt,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var r=n;v(r)&&(r=!Tt(e,t)),(r?St:wt)(e,t)})},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:mt,triggerHandler:function(e,t,n){var r=(bt(e,"events")||{})[t],i=F(r||[]);n=n||[];var o=[{preventDefault:f,stopPropagation:f}];a(i,function(t){t.apply(e,o.concat(n))})}},function(e,t){ft.prototype[t]=function(t,n,r){for(var i,a=0;this.length>a;a++)v(i)?(i=e(this[a],t,n,r),y(i)&&(i=br(i))):kt(i,e(this[a],t,n,r));return y(i)?i:this},ft.prototype.bind=ft.prototype.on,ft.prototype.unbind=ft.prototype.off}),It.prototype={put:function(e,t){this[At(e,this.nextUid)]=t},get:function(e){return this[At(e,this.nextUid)]},remove:function(e){var t=this[e=At(e,this.nextUid)];return delete this[e],t}};var Yr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Jr=/,/,Xr=/^\s*(_?)(\S+?)\1\s*$/,Zr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ei=r("$injector"),ti=r("$animate"),ni=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw ti("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(e,t){function n(e){e&&t(e)}return{enter:function(e,t,r,i){r?r.after(e):(t&&t[0]||(t=r.parent()),t.append(e)),n(i)},leave:function(e,t){e.remove(),n(t)},move:function(e,t,n,r){this.enter(e,t,n,r)},addClass:function(e,t,r){t=$(t)?t:Pr(t)?t.join(" "):"",a(e,function(e){St(e,t)}),n(r)},removeClass:function(e,t,r){t=$(t)?t:Pr(t)?t.join(" "):"",a(e,function(e){wt(e,t)}),n(r)},setClass:function(e,t,r,i){a(e,function(e){St(e,t),wt(e,r)}),n(i)},enabled:f}}]}],ri=r("$compile");Bt.$inject=["$provide","$$sanitizeUriProvider"];var ii=/^(x[\:\-_]|data[\:\-_])/i,ai=r("$interpolate"),oi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,si={http:80,https:443,ftp:21},li=r("$location");hn.prototype=pn.prototype=dn.prototype={$$html5:!1,$$replace:!1,absUrl:fn("$$absUrl"),url:function(e,t){if(v(e))return this.$$url;var n=oi.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:fn("$$protocol"),host:fn("$$host"),port:fn("$$port"),path:mn("$$path",function(e){return"/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if($(e))this.$$search=K(e);else{if(!b(e))throw li("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:mn("$$hash",m),replace:function(){return this.$$replace=!0,this}};var ci,ui=r("$parse"),di={},pi=Function.prototype.call,hi=Function.prototype.apply,fi=Function.prototype.bind,mi={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:f,"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),y(r)?y(i)?r+i:r:y(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(y(n)?n:0)-(y(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":f,"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},gi={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},vi=function(e){this.options=e};vi.prototype={constructor:vi,lex:function(e){for(this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var t=this.ch+this.peek(),r=t+this.peek(2),i=mi[this.ch],a=mi[t],o=mi[r];o?(this.tokens.push({index:this.index,text:r,fn:o}),this.index+=3):a?(this.tokens.push({index:this.index,text:t,fn:a}),this.index+=2):i?(this.tokens.push({index:this.index,text:this.ch,fn:i}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},was:function(e){return-1!==e.indexOf(this.lastCh)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw ui("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=hr(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e=1*e,this.tokens.push({index:t,text:e,literal:!0,constant:!0,fn:function(){return e}})},readIdent:function(){for(var e,t,n,r,i=this,a="",o=this.index;this.index<this.text.length&&(r=this.text.charAt(this.index),"."===r||this.isIdent(r)||this.isNumber(r));)"."===r&&(e=this.index),a+=r,this.index++;if(e)for(t=this.index;this.text.length>t;){if(r=this.text.charAt(t),"("===r){n=a.substr(e-o+1),a=a.substr(0,e-o),this.index=t;break}if(!this.isWhitespace(r))break;t++}var s={index:o,text:a};if(mi.hasOwnProperty(a))s.fn=mi[a],s.literal=!0,s.constant=!0;else{var l=Sn(a,this.options,this.text);s.fn=d(function(e,t){return l(e,t)},{assign:function(e,t){return Tn(e,a,t,i.text,i.options)}})}this.tokens.push(s),n&&(this.tokens.push({index:e,text:"."}),this.tokens.push({index:e+1,text:n}))},readString:function(e){var t=this.index;this.index++;for(var r="",i=e,a=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,a){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,r+=String.fromCharCode(parseInt(s,16))}else{var l=gi[o];r+=l||o}a=!1}else if("\\"===o)a=!0;else{if(o===e)return this.index++,this.tokens.push({index:t,text:i,string:r,literal:!0,constant:!0,fn:function(){return r}}),n;r+=o}this.index++}this.throwError("Unterminated quote",t)}};var yi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};yi.ZERO=d(function(){return 0},{constant:!0}),yi.prototype={constructor:yi,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();e=t.fn,e||this.throwError("not a primary expression",t),e.literal=!!t.literal,e.constant=!!t.constant}for(var n,r;n=this.expect("(","[",".");)"("===n.text?(e=this.functionCall(e,r),r=null):"["===n.text?(r=e,e=this.objectIndex(e)):"."===n.text?(r=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw ui("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw ui("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){if(this.tokens.length>0){var i=this.tokens[0],a=i.text;if(a===e||a===t||a===n||a===r||!e&&!t&&!n&&!r)return i}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return d(function(n,r){return e(n,r,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return d(function(r,i){return e(r,i)?t(r,i):n(r,i)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return d(function(r,i){return t(r,i,e,n)},{constant:e.constant&&n.constant})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0;e.length>i;i++){var a=e[i];a&&(r=a(t,n))}return r}},filterChain:function(){for(var e,t=this.expression();;){if(!(e=this.expect("|")))return t;t=this.binaryFn(t,e.fn,this.filter())}},filter:function(){for(var e=this.expect(),t=this.$filter(e.text),n=[];;){if(!(e=this.expect(":"))){var r=function(e,r,i){for(var a=[i],o=0;n.length>o;o++)a.push(n[o](e,r));return t.apply(e,a)};return function(){return r}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),function(t,r){return n.assign(t,e(t,r),r)}):n},ternary:function(){var e,t,r=this.logicalOR();return(t=this.expect("?"))?(e=this.ternary(),(t=this.expect(":"))?this.ternaryFn(r,e,this.ternary()):(this.throwError("expected :",t),n)):r},logicalOR:function(){for(var e,t=this.logicalAND();;){if(!(e=this.expect("||")))return t;t=this.binaryFn(t,e.fn,this.logicalAND())}},logicalAND:function(){var e,t=this.equality();return(e=this.expect("&&"))&&(t=this.binaryFn(t,e.fn,this.logicalAND())),t},equality:function(){var e,t=this.relational();return(e=this.expect("==","!=","===","!=="))&&(t=this.binaryFn(t,e.fn,this.equality())),t},relational:function(){var e,t=this.additive();return(e=this.expect("<",">","<=",">="))&&(t=this.binaryFn(t,e.fn,this.relational())),t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.fn,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.fn,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(yi.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,r=Sn(n,this.options,this.text);return d(function(t,n,i){return r(i||e(t,n))},{assign:function(r,i,a){return Tn(e(r,a),n,i,t.text,t.options)}})},objectIndex:function(e){var t=this,r=this.expression();return this.consume("]"),d(function(i,a){var o,s,l=e(i,a),c=r(i,a);return yn(c,t.text),l?(o=bn(l[c],t.text),o&&o.then&&t.options.unwrapPromises&&(s=o,"$$v"in o||(s.$$v=n,s.then(function(e){s.$$v=e})),o=o.$$v),o):n},{assign:function(n,i,a){var o=r(n,a),s=bn(e(n,a),t.text);return s[o]=i}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this;return function(i,a){for(var o=[],s=t?t(i,a):i,l=0;n.length>l;l++)o.push(n[l](i,a));var c=e(i,a,s)||f;bn(s,r.text),$n(c,r.text);var u=c.apply?c.apply(s,o):c(o[0],o[1],o[2],o[3],o[4]);return bn(u,r.text)}},arrayDeclaration:function(){var e=[],t=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),d(function(t,n){for(var r=[],i=0;e.length>i;i++)r.push(e[i](t,n));return r},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.expect(),r=n.string||n.text;this.consume(":");var i=this.expression();e.push({key:r,value:i}),i.constant||(t=!1)}while(this.expect(","));return this.consume("}"),d(function(t,n){for(var r={},i=0;e.length>i;i++){var a=e[i];r[a.key]=a.value(t,n)}return r},{literal:!0,constant:t})}};var bi={},$i=r("$sce"),Ti={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},wi=t.createElement("a"),Si=jn(e.location.href,!0);Bn.$inject=["$provide"],Hn.$inject=["$locale"],qn.$inject=["$locale"];var ki=".",xi={yyyy:Gn("FullYear",4),yy:Gn("FullYear",2,0,!0),y:Gn("FullYear",1),MMMM:Kn("Month"),MMM:Kn("Month",!0),MM:Gn("Month",2,1),M:Gn("Month",1,1),dd:Gn("Date",2),d:Gn("Date",1),HH:Gn("Hours",2),H:Gn("Hours",1),hh:Gn("Hours",2,-12),h:Gn("Hours",1,-12),mm:Gn("Minutes",2),m:Gn("Minutes",1),ss:Gn("Seconds",2),s:Gn("Seconds",1),sss:Gn("Milliseconds",3),EEEE:Kn("Day"),EEE:Kn("Day",!0),a:zn,Z:Qn},Ei=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Di=/^\-?\d+$/;Yn.$inject=["$locale"];var Ci=g(hr),Pi=g(mr);Zn.$inject=["$parse"];var Ai=g({restrict:"E",compile:function(e,r){return 8>=yr&&(r.href||r.name||r.$set("href",""),e.append(t.createComment("IE fix"))),r.href||r.xlinkHref||r.name?n:function(e,t){var n="[object SVGAnimatedString]"===xr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),Ii={};a(Kr,function(e,t){if("multiple"!=e){var n=_t("ng-"+t);Ii[n]=function(){return{priority:100,link:function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),a(["src","srcset","href"],function(e){var t=_t("ng-"+e);Ii[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===xr.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",a=null),i.$observe(t,function(e){e&&(i.$set(o,e),yr&&a&&r.prop(a,i[o]))})}}}});var Mi={$addControl:f,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f};tr.$inject=["$element","$attrs","$scope","$animate"];var Oi=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:tr,compile:function(){return{pre:function(e,r,i,a){if(!i.action){var o=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};Fr(r[0],"submit",o),r.on("$destroy",function(){t(function(){jr(r[0],"submit",o)},0,!1)})
}var s=r.parent().controller("form"),l=i.name||i.ngForm;l&&Tn(e,l,a,l),s&&r.on("$destroy",function(){s.$removeControl(a),l&&Tn(e,l,n,l),d(a,Mi)})}}}};return r}]},Li=Oi(),Ni=Oi(!0),Fi=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ji=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ui=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Ri={text:ar,number:or,url:sr,email:lr,radio:cr,checkbox:ur,hidden:f,button:f,submit:f,reset:f,file:f},Bi=["badInput"],_i=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,r,i,a){a&&(Ri[hr(i.type)]||Ri.text)(n,r,i,a,t,e)}}}],Hi="ng-valid",qi="ng-invalid",Vi="ng-pristine",Wi="ng-dirty",Gi=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(e,t,n,i,o,s){function l(e,t){t=t?"-"+Z(t,"-"):"",s.removeClass(i,(e?qi:Hi)+t),s.addClass(i,(e?Hi:qi)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var c=o(n.ngModel),u=c.assign;if(!u)throw r("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,W(i));this.$render=f,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var d=i.inheritedData("$formController")||Mi,p=0,h=this.$error={};i.addClass(Vi),l(!0),this.$setValidity=function(e,t){h[e]!==!t&&(t?(h[e]&&p--,p||(l(!0),this.$valid=!0,this.$invalid=!1)):(l(!1),this.$invalid=!0,this.$valid=!1,p++),h[e]=!t,l(t,e),d.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,s.removeClass(i,Wi),s.addClass(i,Vi)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,s.removeClass(i,Vi),s.addClass(i,Wi),d.$setDirty()),a(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,u(e,n),a(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var m=this;e.$watch(function(){var t=c(e);if(m.$modelValue!==t){var n=m.$formatters,r=n.length;for(m.$modelValue=t;r--;)t=n[r](t);m.$viewValue!==t&&(m.$viewValue=t,m.$render())}return t})}],Ki=function(){return{require:["ngModel","^?form"],controller:Gi,link:function(e,t,n,r){var i=r[0],a=r[1]||Mi;a.$addControl(i),e.$on("$destroy",function(){a.$removeControl(i)})}}},Qi=g({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),zi=function(){return{require:"?ngModel",link:function(e,t,r,i){if(i){r.required=!0;var a=function(e){return r.required&&i.$isEmpty(e)?(i.$setValidity("required",!1),n):(i.$setValidity("required",!0),e)};i.$formatters.push(a),i.$parsers.unshift(a),r.$observe("required",function(){a(i.$viewValue)})}}}},Yi=function(){return{require:"ngModel",link:function(e,t,r,i){var o=/\/(.*)\//.exec(r.ngList),s=o&&RegExp(o[1])||r.ngList||",",l=function(e){if(!v(e)){var t=[];return e&&a(e.split(s),function(e){e&&t.push(Ar(e))}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return Pr(e)?e.join(", "):n}),i.$isEmpty=function(e){return!e||!e.length}}}},Ji=/^(true|false|\d+)$/,Xi=function(){return{priority:100,compile:function(e,t){return Ji.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Zi=er({compile:function(e){return e.addClass("ng-binding"),function(e,t,r){t.data("$binding",r.ngBind),e.$watch(r.ngBind,function(e){t.text(e==n?"":e)})}}}),ea=["$interpolate",function(e){return function(t,n,r){var i=e(n.attr(r.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",i),r.$observe("ngBindTemplate",function(e){n.text(e)})}}],ta=["$sce","$parse",function(e,t){return{compile:function(n){return n.addClass("ng-binding"),function(n,r,i){function a(){return""+(o(n)||"")}r.data("$binding",i.ngBindHtml);var o=t(i.ngBindHtml);n.$watch(a,function(){r.html(e.getTrustedHtml(o(n))||"")})}}}}],na=dr("",!0),ra=dr("Odd",0),ia=dr("Even",1),aa=er({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),oa=[function(){return{scope:!0,controller:"@",priority:500}}],sa={};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=_t("ng-"+e);sa[t]=["$parse",function(n){return{compile:function(r,i){var a=n(i[t]);return function(t,n){n.on(hr(e),function(e){t.$apply(function(){a(t,{$event:e})})})}}}}]});var la=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,a,o){var s,l,c;n.$watch(i.ngIf,function(a){V(a)?l||(l=n.$new(),o(l,function(n){n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)})):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=at(s.clone),e.leave(c,function(){c=null}),s=null))})}}}],ca=["$http","$templateCache","$anchorScroll","$animate","$sce",function(e,t,n,r,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Dr.noop,compile:function(a,o){var s=o.ngInclude||o.src,l=o.onload||"",c=o.autoscroll;return function(a,o,u,d,p){var h,f,m,g=0,v=function(){f&&(f.remove(),f=null),h&&(h.$destroy(),h=null),m&&(r.leave(m,function(){f=null}),f=m,m=null)};a.$watch(i.parseAsResourceUrl(s),function(i){var s=function(){!y(c)||c&&!a.$eval(c)||n()},u=++g;i?(e.get(i,{cache:t}).success(function(e){if(u===g){var t=a.$new();d.template=e;var n=p(t,function(e){v(),r.enter(e,null,o,s)});h=t,m=n,h.$emit("$includeContentLoaded"),a.$eval(l)}}).error(function(){u===g&&v()}),a.$emit("$includeContentRequested")):(v(),d.template=null)})}}}}],ua=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,r,i){n.html(i.template),e(n.contents())(t)}}}],da=er({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),pa=er({terminal:!0,priority:1e3}),ha=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,i,o){var s=o.count,l=o.$attr.when&&i.attr(o.$attr.when),c=o.offset||0,u=r.$eval(l)||{},d={},p=t.startSymbol(),h=t.endSymbol(),f=/^when(Minus)?(.+)$/;a(o,function(e,t){f.test(t)&&(u[hr(t.replace("when","").replace("Minus","-"))]=i.attr(o.$attr[t]))}),a(u,function(e,r){d[r]=t(e.replace(n,p+s+"-"+c+h))}),r.$watch(function(){var t=parseFloat(r.$eval(s));return isNaN(t)?"":(t in u||(t=e.pluralCat(t-c)),d[t](r,i,!0))},function(e){i.text(e)})}}}],fa=["$parse","$animate",function(e,n){function o(e){return e.clone[0]}function s(e){return e.clone[e.clone.length-1]}var l="$$NG_REMOVED",c=r("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(r,u,d,p,h){var f,m,g,v,y,b,$,T,w,S=d.ngRepeat,k=S.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),x={$id:At};if(!k)throw c("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",S);if(b=k[1],$=k[2],f=k[3],f?(m=e(f),g=function(e,t,n){return w&&(x[w]=e),x[T]=t,x.$index=n,m(r,x)}):(v=function(e,t){return At(t)},y=function(e){return e}),k=b.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!k)throw c("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",b);T=k[3]||k[1],w=k[2];var E={};r.$watchCollection($,function(e){var d,p,f,m,b,$,k,x,D,C,P,A,I=u[0],M={},O=[];if(i(e))C=e,D=g||v;else{D=g||y,C=[];for($ in e)e.hasOwnProperty($)&&"$"!=$.charAt(0)&&C.push($);C.sort()}for(m=C.length,p=O.length=C.length,d=0;p>d;d++)if($=e===C?d:C[d],k=e[$],x=D($,k,d),rt(x,"`track by` id"),E.hasOwnProperty(x))P=E[x],delete E[x],M[x]=P,O[d]=P;else{if(M.hasOwnProperty(x))throw a(O,function(e){e&&e.scope&&(E[e.id]=e)}),c("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",S,x);O[d]={id:x},M[x]=!1}for($ in E)E.hasOwnProperty($)&&(P=E[$],A=at(P.clone),n.leave(A),a(A,function(e){e[l]=!0}),P.scope.$destroy());for(d=0,p=C.length;p>d;d++){if($=e===C?d:C[d],k=e[$],P=O[d],O[d-1]&&(I=s(O[d-1])),P.scope){b=P.scope,f=I;do f=f.nextSibling;while(f&&f[l]);o(P)!=f&&n.move(at(P.clone),null,br(I)),I=s(P)}else b=r.$new();b[T]=k,w&&(b[w]=$),b.$index=d,b.$first=0===d,b.$last=d===m-1,b.$middle=!(b.$first||b.$last),b.$odd=!(b.$even=0===(1&d)),P.scope||h(b,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+S+" "),n.enter(e,null,br(I)),I=e,P.scope=b,P.clone=e,M[P.id]=P})}E=M})}}}],ma=["$animate",function(e){return function(t,n,r){t.$watch(r.ngShow,function(t){e[V(t)?"removeClass":"addClass"](n,"ng-hide")})}}],ga=["$animate",function(e){return function(t,n,r){t.$watch(r.ngHide,function(t){e[V(t)?"addClass":"removeClass"](n,"ng-hide")})}}],va=er(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),ya=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,r,i){var o=r.ngSwitch||r.on,s=[],l=[],c=[],u=[];t.$watch(o,function(n){var o,d;for(o=0,d=c.length;d>o;++o)c[o].remove();for(c.length=0,o=0,d=u.length;d>o;++o){var p=l[o];u[o].$destroy(),c[o]=p,e.leave(p,function(){c.splice(o,1)})}l.length=0,u.length=0,(s=i.cases["!"+n]||i.cases["?"])&&(t.$eval(r.change),a(s,function(n){var r=t.$new();u.push(r),n.transclude(r,function(t){var r=n.element;l.push(t),e.enter(t,r.parent(),r)})}))})}}}],ba=er({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),$a=er({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ta=er({link:function(e,t,n,i,a){if(!a)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",W(t));a(function(e){t.empty(),t.append(e)})}}),wa=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Sa=r("ngOptions"),ka=g({terminal:!0}),xa=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:f};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i,a=this,o={},l=s;a.databound=n.ngModel,a.init=function(e,t,n){l=e,r=t,i=n},a.addOption=function(t){rt(t,'"option value"'),o[t]=!0,l.$viewValue==t&&(e.val(t),i.parent()&&i.remove())},a.removeOption=function(e){this.hasOption(e)&&(delete o[e],l.$viewValue==e&&this.renderUnknownOption(e))},a.renderUnknownOption=function(t){var n="? "+At(t)+" ?";i.val(n),e.prepend(i),e.val(n),i.prop("selected",!0)},a.hasOption=function(e){return o.hasOwnProperty(e)},t.$on("$destroy",function(){a.renderUnknownOption=f})}],link:function(s,l,c,u){function d(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(k.parent()&&k.remove(),t.val(e),""===e&&f.prop("selected",!0)):v(e)&&f?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){k.parent()&&k.remove(),n.$setViewValue(t.val())})})}function p(e,t,n){var r;n.$render=function(){var e=new It(n.$viewValue);a(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){j(r,n.$viewValue)||(r=F(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];a(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function h(t,a,s){function l(){var e,n,r,i,l,c,g,$,x,E,D,C,P,A,I,M={"":[]},O=[""],L=s.$modelValue,N=m(t)||[],F=p?o(N):N,j={},U=!1;if(b)if(v&&Pr(L)){U=new It([]);for(var R=0;L.length>R;R++)j[d]=L[R],U.put(v(t,j),L[R])}else U=new It(L);for(D=0;x=F.length,x>D;D++){if(g=D,p){if(g=F[D],"$"===g.charAt(0))continue;j[p]=g}if(j[d]=N[g],e=h(t,j)||"",(n=M[e])||(n=M[e]=[],O.push(e)),b)C=y(U.remove(v?v(t,j):f(t,j)));else{if(v){var B={};B[d]=L,C=v(t,B)===v(t,j)}else C=L===f(t,j);U=U||C}I=u(t,j),I=y(I)?I:"",n.push({id:v?v(t,j):p?F[D]:D,label:I,selected:C})}for(b||(T||null===L?M[""].unshift({id:"",label:"",selected:!U}):U||M[""].unshift({id:"?",label:"",selected:!0})),E=0,$=O.length;$>E;E++){for(e=O[E],n=M[e],E>=k.length?(i={element:S.clone().attr("label",e),label:n.label},l=[i],k.push(l),a.append(i.element)):(l=k[E],i=l[0],i.label!=e&&i.element.attr("label",i.label=e)),P=null,D=0,x=n.length;x>D;D++)r=n[D],(c=l[D+1])?(P=c.element,c.label!==r.label&&P.text(c.label=r.label),c.id!==r.id&&P.val(c.id=r.id),c.selected!==r.selected&&(P.prop("selected",c.selected=r.selected),yr&&P.prop("selected",c.selected))):(""===r.id&&T?A=T:(A=w.clone()).val(r.id).prop("selected",r.selected).text(r.label),l.push(c={element:A,label:r.label,id:r.id,selected:r.selected}),P?P.after(A):i.element.append(A),P=A);for(D++;l.length>D;)l.pop().element.remove()}for(;k.length>E;)k.pop()[0].element.remove()}var c;if(!(c=$.match(i)))throw Sa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",$,W(a));var u=r(c[2]||c[1]),d=c[4]||c[6],p=c[5],h=r(c[3]||""),f=r(c[2]?c[1]:d),m=r(c[7]),g=c[8],v=g?r(c[8]):null,k=[[{element:a,label:""}]];T&&(e(T)(t),T.removeClass("ng-scope"),T.remove()),a.empty(),a.on("change",function(){t.$apply(function(){var e,r,i,o,l,c,u,h,g,y=m(t)||[],$={};if(b){for(i=[],c=0,h=k.length;h>c;c++)for(e=k[c],l=1,u=e.length;u>l;l++)if((o=e[l].element)[0].selected){if(r=o.val(),p&&($[p]=r),v)for(g=0;y.length>g&&($[d]=y[g],v(t,$)!=r);g++);else $[d]=y[r];i.push(f(t,$))}}else{if(r=a.val(),"?"==r)i=n;else if(""===r)i=null;else if(v){for(g=0;y.length>g;g++)if($[d]=y[g],v(t,$)==r){i=f(t,$);break}}else $[d]=y[r],p&&($[p]=r),i=f(t,$);k[0].length>1&&k[0][1].id!==r&&(k[0][1].selected=!1)}s.$setViewValue(i)})}),s.$render=l,t.$watch(l)}if(u[1]){for(var f,m=u[0],g=u[1],b=c.multiple,$=c.ngOptions,T=!1,w=br(t.createElement("option")),S=br(t.createElement("optgroup")),k=w.clone(),x=0,E=l.children(),D=E.length;D>x;x++)if(""===E[x].value){f=T=E.eq(x);break}m.init(g,T,k),b&&(g.$isEmpty=function(e){return!e||0===e.length}),$?h(s,l,g):b?p(s,l,g):d(s,l,g,m)}}}}],Ea=["$interpolate",function(e){var t={addOption:f,removeOption:f};return{restrict:"E",priority:100,compile:function(n,r){if(v(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var a="$selectController",o=n.parent(),s=o.data(a)||o.parent().data(a);s&&s.databound?n.prop("selected",!1):s=t,i?e.$watch(i,function(e,t){r.$set("value",e),e!==t&&s.removeOption(t),s.addOption(e)}):s.addOption(r.value),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],Da=g({restrict:"E",terminal:!0});return e.angular.bootstrap?(console.log("WARNING: Tried to load angular more than once."),n):(et(),st(Dr),br(t).ready(function(){J(t,X)}),n)})(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function r(e){for(var t in e)if(void 0!==a.style[t])return e[t]}var i=function(r,a,o){o=o||{};var s=e.defer(),l=i[o.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){r.unbind(l,c),s.resolve(r)})};return l&&r.bind(l,c),t(function(){angular.isString(a)?r.addClass(a):angular.isFunction(a)?a(r):angular.isObject(a)&&r.css(a),l||s.resolve(r)}),s.promise.cancel=function(){l&&r.unbind(l,c),s.reject("Transition cancelled")},s.promise},a=document.createElement("trans"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(o),i.animationEndEventName=r(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,r){function i(t){function r(){c===i&&(c=void 0)}var i=e(n,t);return c&&c.cancel(),c=i,i.then(r,r),i}function a(){u?(u=!1,o()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(o))}function o(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){u?(u=!1,l(),n.css({height:0})):(n.css({height:n[0].scrollHeight+"px"}),n[0].offsetWidth,n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(l))}function l(){n.removeClass("collapsing"),n.addClass("collapse")}var c,u=!0;t.$watch(r.collapse,function(e){e?s():a()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.$watch("isOpen",function(t){t&&r.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){var i=r[0],a=r[1];a.$render=function(){t.toggleClass(i.activeClass,angular.equals(a.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){var r=t.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&e.$apply(function(){a.$setViewValue(r?null:e.$eval(n.btnRadio)),a.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){function i(){return o(n.btnCheckboxTrue,!0)}function a(){return o(n.btnCheckboxFalse,!1)}function o(t,n){var r=e.$eval(t);return angular.isDefined(r)?r:n}var s=r[0],l=r[1];l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},t.bind(s.toggleEvent,function(){e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?a():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(e,t,n){function r(){i();var n=+e.interval;!isNaN(n)&&n>=0&&(o=t(a,n))}function i(){o&&(t.cancel(o),o=null)}function a(){s?(e.next(),r()):e.pause()}var o,s,l=this,c=l.slides=e.slides=[],u=-1;l.currentSlide=null;var d=!1;l.select=e.select=function(i,a){function o(){d||(l.currentSlide&&angular.isString(a)&&!e.noTransition&&i.$element?(i.$element.addClass(a),i.$element[0].offsetWidth,angular.forEach(c,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:a,active:!0,entering:!0}),angular.extend(l.currentSlide||{},{direction:a,leaving:!0}),e.$currentTransition=n(i.$element,{}),function(t,n){e.$currentTransition.then(function(){s(t,n)},function(){s(t,n)})}(i,l.currentSlide)):s(i,l.currentSlide),l.currentSlide=i,u=p,r())}function s(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var p=c.indexOf(i);void 0===a&&(a=p>u?"next":"prev"),i&&i!==l.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(o)):o())},e.$on("$destroy",function(){d=!0}),l.indexOfSlide=function(e){return c.indexOf(e)},e.next=function(){var t=(u+1)%c.length;return e.$currentTransition?void 0:l.select(c[t],"next")},e.prev=function(){var t=0>u-1?c.length-1:u-1;return e.$currentTransition?void 0:l.select(c[t],"prev")},e.isActive=function(e){return l.currentSlide===e},e.$watch("interval",r),e.$on("$destroy",i),e.play=function(){s||(s=!0,r())},e.pause=function(){e.noPause||(s=!1,i())},l.addSlide=function(t,n){t.$element=n,c.push(t),1===c.length||t.active?(l.select(c[c.length-1]),1==c.length&&e.play()):t.active=!1},l.removeSlide=function(e){var t=c.indexOf(e);c.splice(t,1),c.length>0&&e.active?l.select(t>=c.length?c[t-1]:c[t]):u>t&&u--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(t){t&&r.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e,t,n){return 1===t&&n>28?29===n&&(0===e%4&&0!==e%100||0===e%400):3===t||5===t||8===t||10===t?31>n:!0}this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.createParser=function(e){var n=[],i=e.split("");return angular.forEach(r,function(t,r){var a=e.indexOf(r);if(a>-1){e=e.split(""),i[a]="("+t.regex+")",e[a]="$";for(var o=a+1,s=a+r.length;s>o;o++)i[o]="",e[o]="$";e=e.join(""),n.push({index:a,apply:t.apply})}}),{regex:RegExp("^"+i.join("")+"$"),map:t(n,"index")}},this.parse=function(t,r){if(!angular.isString(t))return t;r=e.DATETIME_FORMATS[r]||r,this.parsers[r]||(this.parsers[r]=this.createParser(r));var i=this.parsers[r],a=i.regex,o=i.map,s=t.match(a);if(s&&s.length){for(var l,c={year:1900,month:0,date:1,hours:0},u=1,d=s.length;d>u;u++){var p=o[u-1];p.apply&&p.apply.call(c,s[u])}return n(c.year,c.month,c.date)&&(l=new Date(c.year,c.month,c.date,c.hours)),l}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},a=i(t[0]);a!=e[0]&&(r=this.offset(angular.element(a)),r.top+=a.clientTop-a.scrollTop,r.left+=a.clientLeft-a.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,a,o,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=r?this.offset(e):this.position(e),a=t.prop("offsetWidth"),o=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-a/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:i.left-a};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:i.top-o,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,r,i,a,o,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){l[n]=angular.isDefined(t[n])?8>i?r(t[n])(e.$parent):e.$parent.$eval(t[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(e){l[r]=e?new Date(e):null,l.refreshView()}):l[r]=s[r]?new Date(s[r]):null}),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$modelValue){var e=new Date(c.$modelValue),t=!isNaN(e);t?this.activeDate=e:a.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$modelValue?new Date(c.$modelValue):null;c.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$modelValue?new Date(c.$modelValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&0>this.compare(n,this.minDate)||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$modelValue?new Date(c.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){i(function(){l.element[0].focus()},0,!1)};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,r){var i=r[0],a=r[1];a&&i.init(a)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,r,i){function a(e,t){return 1!==t||0!==e%4||0===e%100&&0!==e%400?l[t]:29}function o(e,t){var n=Array(t),r=new Date(e),i=0;for(r.setHours(12);t>i;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));
var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),a=new Date(n,r,1),l=i.startingDay-a.getDay(),c=l>0?7-l:-l,u=new Date(a);c>0&&u.setDate(-c+1);for(var d=o(u,42),p=0;42>p;p++)d[p]=angular.extend(i.createDateObject(d[p],i.formatDay),{secondary:d[p].getMonth()!==r,uid:t.uniqueId+"-"+p});t.labels=Array(7);for(var h=0;7>h;h++)t.labels[h]={abbr:e(d[h].date,i.formatDayHeader),full:e(d[h].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(d,7),t.showWeeks){t.weekNumbers=[];for(var f=s(t.rows[0][0].date),m=t.rows.length;m>t.weekNumbers.push(f++););}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e){var t=i.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(n,1),t=Math.min(a(i.activeDate.getFullYear(),i.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=a(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(t)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=Array(12),r=i.activeDate.getFullYear(),a=0;12>a;a++)n[a]=angular.extend(i.createDateObject(new Date(r,a,1),i.formatMonth),{uid:t.uniqueId+"-"+a});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(n,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,r){function i(e){return parseInt((e-1)/a,10)*a+1}var a=r.yearRange;r.step={years:a},r.element=t,r._refreshView=function(){for(var t=Array(a),n=0,o=i(r.activeDate.getFullYear());a>n;n++)t[n]=angular.extend(r.createDateObject(new Date(o+n,0,1),r.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[a-1].label].join(" - "),e.rows=r.split(t,5)},r.compare=function(e,t){return e.getFullYear()-t.getFullYear()},r.handleKeyDown=function(e){var t=r.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*r.step.years:"home"===e?t=i(r.activeDate.getFullYear()):"end"===e&&(t=i(r.activeDate.getFullYear())+a-1),r.activeDate.setFullYear(t)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,r,i,a,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,l,c,u){function d(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function p(e){if(e){if(angular.isDate(e)&&!isNaN(e))return u.$setValidity("date",!0),e;if(angular.isString(e)){var t=a.parse(e,h)||new Date(e);return isNaN(t)?void u.$setValidity("date",!1):(u.$setValidity("date",!0),t)}return void u.$setValidity("date",!1)}return u.$setValidity("date",!0),null}var h,f=angular.isDefined(c.closeOnDateSelection)?s.$parent.$eval(c.closeOnDateSelection):o.closeOnDateSelection,m=angular.isDefined(c.datepickerAppendToBody)?s.$parent.$eval(c.datepickerAppendToBody):o.appendToBody;s.showButtonBar=angular.isDefined(c.showButtonBar)?s.$parent.$eval(c.showButtonBar):o.showButtonBar,s.getText=function(e){return s[e+"Text"]||o[e+"Text"]},c.$observe("datepickerPopup",function(e){h=e||o.datepickerPopup,u.$render()});var g=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");g.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(g.children()[0]);c.datepickerOptions&&angular.forEach(s.$parent.$eval(c.datepickerOptions),function(e,t){v.attr(d(t),e)}),angular.forEach(["minDate","maxDate"],function(e){c[e]&&(s.$parent.$watch(t(c[e]),function(t){s[e]=t}),v.attr(d(e),e))}),c.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.$parsers.unshift(p),s.dateSelection=function(e){angular.isDefined(e)&&(s.date=e),u.$setViewValue(s.date),u.$render(),f&&(s.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){s.$apply(function(){s.date=u.$modelValue})}),u.$render=function(){var e=u.$viewValue?i(u.$viewValue,h):"";l.val(e),s.date=p(u.$modelValue)};var y=function(e){s.isOpen&&e.target!==l[0]&&s.$apply(function(){s.isOpen=!1})},b=function(e){s.keydown(e)};l.bind("keydown",b),s.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),s.close()):40!==e.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(e){e?(s.$broadcast("datepicker.focus"),s.position=m?r.offset(l):r.position(l),s.position.top=s.position.top+l.prop("offsetHeight"),n.bind("click",y)):n.unbind("click",y)}),s.select=function(e){if("today"===e){var t=new Date;angular.isDate(u.$modelValue)?(e=new Date(u.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}s.dateSelection(e)},s.close=function(){s.isOpen=!1,l[0].focus()};var $=e(g)(s);m?n.find("body").append($):l.after($),s.$on("$destroy",function(){$.remove(),l.unbind("keydown",b),n.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(i){t||(e.bind("click",n),e.bind("keydown",r)),t&&t!==i&&(t.isOpen=!1),t=i},this.close=function(i){t===i&&(t=null,e.unbind("click",n),e.unbind("keydown",r))};var n=function(e){e&&e.isDefaultPrevented()||t.$apply(function(){t.isOpen=!1})},r=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,r,i,a){var o,s=this,l=e.$new(),c=r.openClass,u=angular.noop,d=t.onToggle?n(t.onToggle):angular.noop;this.init=function(r){s.$element=r,t.isOpen&&(o=n(t.isOpen),u=o.assign,e.$watch(o,function(e){l.isOpen=!!e}))},this.toggle=function(e){return l.isOpen=arguments.length?!!e:!l.isOpen},this.isOpen=function(){return l.isOpen},l.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},l.$watch("isOpen",function(t,n){a[t?"addClass":"removeClass"](s.$element,c),t?(l.focusToggleElement(),i.open(l)):i.close(l),u(e,t),angular.isDefined(t)&&t!==n&&d(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){l.isOpen=!1}),e.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(e,t,n,r){r.init(t)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(e,t,n,r){if(r){r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;e.length>n;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;e.length>n;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;e.length>r;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t){t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,t(function(){n.animate=!0,r[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,r,i,a){function o(){for(var e=-1,t=h.keys(),n=0;t.length>n;n++)h.get(t[n]).value.backdrop&&(e=n);return e}function s(e){var t=n.find("body").eq(0),r=h.get(e).value;h.remove(e),c(r.modalDomEl,r.modalScope,300,function(){r.modalScope.$destroy(),t.toggleClass(p,h.length()>0),l()})}function l(){if(u&&-1==o()){var e=d;c(u,d,150,function(){e.$destroy(),e=null}),u=void 0,d=void 0}}function c(n,r,i,a){function o(){o.done||(o.done=!0,n.remove(),a&&a())}r.animate=!1;var s=e.transitionEndEventName;if(s){var l=t(o,i);n.bind(s,function(){t.cancel(l),o(),r.$apply()})}else t(o,0)}var u,d,p="modal-open",h=a.createNew(),f={};return i.$watch(o,function(e){d&&(d.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=h.top(),t&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){f.dismiss(t.key,"escape key press")})))}),f.open=function(e,t){h.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var a=n.find("body").eq(0),s=o();s>=0&&!u&&(d=i.$new(!0),d.index=s,u=r("<div modal-backdrop></div>")(d),a.append(u));var l=angular.element("<div modal-window></div>");l.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:h.length()-1,animate:"animate"}).html(t.content);var c=r(l)(t.scope);h.top().value.modalDomEl=c,a.append(c),a.addClass(p)},f.close=function(e,t){var n=h.get(e).value;n&&(n.deferred.resolve(t),s(e))},f.dismiss=function(e,t){var n=h.get(e).value;n&&(n.deferred.reject(t),s(e))},f.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},f.getTop=function(){return h.top()},f}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,r,i,a,o,s){function l(e){return e.template?r.when(e.template):i.get(e.templateUrl,{cache:a}).then(function(e){return e.data})}function c(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var u={};return u.open=function(t){var i=r.defer(),a=r.defer(),u={result:i.promise,opened:a.promise,close:function(e){s.close(u,e)},dismiss:function(e){s.dismiss(u,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw Error("One of template or templateUrl options is required.");var d=r.all([l(t)].concat(c(t.resolve)));return d.then(function(e){var r=(t.scope||n).$new();r.$close=u.close,r.$dismiss=u.dismiss;var a,l={},c=1;t.controller&&(l.$scope=r,l.$modalInstance=u,angular.forEach(t.resolve,function(t,n){l[n]=e[c++]}),a=o(t.controller,l)),s.open(u,{scope:r,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){i.reject(e)}),d.then(function(){a.resolve(!0)},function(){a.reject(!1)}),u},u}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,i={$setViewValue:angular.noop},a=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a,o){i=a,this.config=o,i.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage},this.calculateTotalPages=function(){var t=1>this.itemsPerPage?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&e.totalPages>=t&&(i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(t){a(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,i,a){function o(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],r=1,i=t,a=angular.isDefined(u)&&t>u;a&&(d?(r=Math.max(e-Math.floor(u/2),1),i=r+u-1,i>t&&(i=t,r=i-u+1)):(r=(Math.ceil(e/u)-1)*u+1,i=Math.min(r+u-1,t)));for(var s=r;i>=s;s++){var l=o(s,s,s===e);n.push(l)}if(a&&!d){if(r>1){var c=o(r-1,"...",!1);n.unshift(c)}if(t>i){var p=o(i+1,"...",!1);n.push(p)}}return n}var l=a[0],c=a[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,l.init(c,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,r,i){var a=i[0],o=i[1];o&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,a.init(o,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,a,o,s,l,c,u){return function(i,d,p){function h(e){var t=e||f.trigger||p,r=n[t]||t;return{show:t,hide:r}}var f=angular.extend({},t,r),m=e(i),g=u.startSymbol(),v=u.endSymbol(),y="<div "+m+'-popup title="'+g+"tt_title"+v+'" content="'+g+"tt_content"+v+'" placement="'+g+"tt_placement"+v+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var e=a(y);return function(t,n,r){function a(){t.tt_isOpen?p():u()}function u(){(!k||t.$eval(r[d+"Enable"]))&&(t.tt_popupDelay?T||(T=o(m,t.tt_popupDelay,!1),T.then(function(e){e()})):m()())}function p(){t.$apply(function(){g()})}function m(){return T=null,$&&(o.cancel($),$=null),t.tt_content?(v(),b.css({top:0,left:0,display:"block"}),w?l.find("body").append(b):n.after(b),x(),t.tt_isOpen=!0,t.$digest(),x):angular.noop}function g(){t.tt_isOpen=!1,o.cancel(T),T=null,t.tt_animation?$||($=o(y,500)):y()}function v(){b&&y(),b=e(t,function(){}),t.$digest()}function y(){$=null,b&&(b.remove(),b=null)}var b,$,T,w=angular.isDefined(f.appendToBody)?f.appendToBody:!1,S=h(void 0),k=angular.isDefined(r[d+"Enable"]),x=function(){var e=c.positionElements(n,b,t.tt_placement,w);e.top+="px",e.left+="px",b.css(e)};t.tt_isOpen=!1,r.$observe(i,function(e){t.tt_content=e,!e&&t.tt_isOpen&&g()}),r.$observe(d+"Title",function(e){t.tt_title=e}),r.$observe(d+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:f.placement}),r.$observe(d+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=isNaN(n)?f.popupDelay:n});var E=function(){n.unbind(S.show,u),n.unbind(S.hide,p)};r.$observe(d+"Trigger",function(e){E(),S=h(e),S.show===S.hide?n.bind(S.show,a):(n.bind(S.show,u),n.bind(S.hide,p))});var D=t.$eval(r[d+"Animation"]);t.tt_animation=angular.isDefined(D)?!!D:f.animation,r.$observe(d+"AppendToBody",function(e){w=angular.isDefined(e)?s(e)(t):w}),w&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&g()}),t.$on("$destroy",function(){o.cancel($),o.cancel(T),E(),y()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&e.range.length>=t&&(r.$setViewValue(t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],a=r[1];a&&i.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length?e.active=!0:e.active&&t.select(e)},t.removeTab=function(e){var r=n.indexOf(e);if(e.active&&n.length>1){var i=r==n.length-1?r-1:r+1;t.select(n[i])}n.splice(r,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,r){return function(t,n,i,a){t.$watch("active",function(e){e&&a.select(t)}),t.disabled=!1,i.disabled&&t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},a.addTab(t),t.$on("$destroy",function(){a.removeTab(t)}),t.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,r){var i=t.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,r,i,a){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===m[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&2>(""+e).length?"0"+e:e}function c(e){u(),f.$setViewValue(new Date(h)),d(e)}function u(){f.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=h.getHours(),r=h.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),e.minutes="m"===t?r:l(r),e.meridian=12>h.getHours()?m[0]:m[1]}function p(e){var t=new Date(h.getTime()+6e4*e);h.setHours(t.getHours(),t.getMinutes()),c()}var h=new Date,f={$setViewValue:angular.noop},m=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):a.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){f=n,f.$render=this.render;var i=r.eq(0),o=r.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):a.mousewheel;s&&this.setupMousewheelEvents(i,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):a.readonlyInput,this.setupInputEvents(i,o)};var g=a.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){g=parseInt(e,10)});var v=a.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=a.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,f.$error.time){var n=o(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(h.setHours(n),c())}else d()}),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var r=function(t,n){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o();angular.isDefined(e)?(h.setHours(e),c("h")):r(!0)},t.bind("blur",function(){!e.invalidHours&&10>e.hours&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s();angular.isDefined(e)?(h.setMinutes(e),c("m")):r(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&10>e.minutes&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var e=f.$modelValue?new Date(f.$modelValue):null;isNaN(e)?(f.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(h=e),u(),d())},e.incrementHours=function(){p(60*g)},e.decrementHours=function(){p(60*-g)},e.incrementMinutes=function(){p(v)},e.decrementMinutes=function(){p(-v)},e.toggleMeridian=function(){p(720*(12>h.getHours()?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,r){var i=r[0],a=r[1];a&&i.init(a,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var r=n.match(t);if(!r)throw Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,r,i,a,o){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,c,u,d){var p,h=l.$eval(u.typeaheadMinLength)||1,f=l.$eval(u.typeaheadWaitMs)||0,m=l.$eval(u.typeaheadEditable)!==!1,g=t(u.typeaheadLoading).assign||angular.noop,v=t(u.typeaheadOnSelect),y=u.typeaheadInputFormatter?t(u.typeaheadInputFormatter):void 0,b=u.typeaheadAppendToBody?l.$eval(u.typeaheadAppendToBody):!1,$=t(u.ngModel).assign,T=o.parse(u.typeahead),w=l.$new();l.$on("$destroy",function(){w.$destroy()});var S="typeahead-"+w.$id+"-"+Math.floor(1e4*Math.random());c.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":S});var k=angular.element("<div typeahead-popup></div>");k.attr({id:S,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&k.attr("template-url",u.typeaheadTemplateUrl);var x=function(){w.matches=[],w.activeIdx=-1,c.attr("aria-expanded",!1)},E=function(e){return S+"-option-"+e};w.$watch("activeIdx",function(e){0>e?c.removeAttr("aria-activedescendant"):c.attr("aria-activedescendant",E(e))});var D=function(e){var t={$viewValue:e};g(l,!0),n.when(T.source(l,t)).then(function(n){var r=e===d.$viewValue;if(r&&p)if(n.length>0){w.activeIdx=0,w.matches.length=0;for(var i=0;n.length>i;i++)t[T.itemName]=n[i],w.matches.push({id:E(i),label:T.viewMapper(w,t),model:n[i]});w.query=e,w.position=b?a.offset(c):a.position(c),w.position.top=w.position.top+c.prop("offsetHeight"),c.attr("aria-expanded",!0)}else x();r&&g(l,!1)},function(){x(),g(l,!1)})};x(),w.query=void 0;var C;d.$parsers.unshift(function(e){return p=!0,e&&e.length>=h?f>0?(C&&r.cancel(C),C=r(function(){D(e)},f)):D(e):(g(l,!1),x()),m?e:e?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),e)}),d.$formatters.push(function(e){var t,n,r={};return y?(r.$model=e,y(l,r)):(r[T.itemName]=e,t=T.viewMapper(l,r),r[T.itemName]=void 0,n=T.viewMapper(l,r),t!==n?t:e)}),w.select=function(e){var t,n,i={};i[T.itemName]=n=w.matches[e].model,t=T.modelMapper(l,i),$(l,t),d.$setValidity("editable",!0),v(l,{$item:n,$model:t,$label:T.viewMapper(l,i)}),x(),r(function(){c[0].focus()},0,!1)},c.bind("keydown",function(e){0!==w.matches.length&&-1!==s.indexOf(e.which)&&(e.preventDefault(),40===e.which?(w.activeIdx=(w.activeIdx+1)%w.matches.length,w.$digest()):38===e.which?(w.activeIdx=(w.activeIdx?w.activeIdx:w.matches.length)-1,w.$digest()):13===e.which||9===e.which?w.$apply(function(){w.select(w.activeIdx)}):27===e.which&&(e.stopPropagation(),x(),w.$digest()))}),c.bind("blur",function(){p=!1});var P=function(e){c[0]!==e.target&&(x(),w.$digest())};i.bind("click",P),l.$on("$destroy",function(){i.unbind("click",P)});var A=e(k)(w);b?i.find("body").append(A):c.after(A)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,a,o){var s=r(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e.get(s,{cache:t}).success(function(e){a.replaceWith(n(e.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')
}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="{\'alert-{{type || \'warning\'}}\': true, \'alert-dismissable\': closeable}" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'\n<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return O(new(O(function(){},{prototype:e})),t)}function i(e){return M(arguments,function(t){t!==e&&M(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function a(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function o(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function s(e,t,n,r){var i,s=a(n,r),l={},c=[];for(var u in s)if(s[u].params&&s[u].params.length){i=s[u].params;for(var d in i)o(c,i[d])>=0||(c.push(i[d]),l[i[d]]=e[i[d]])}return O({},l,t)}function l(e,t){var n={};return M(e,function(e){var r=t[e];n[e]=null!=r?r+"":null}),n}function c(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;n.length>i;i++){var a=n[i];if(e[a]!=t[a])return!1}return!0}function u(e,t){var n={};return M(e,function(e){n[e]=t[e]}),n}function d(e,t){var r=1,a=2,o={},s=[],l=o,c=O(e.when(o),{$$promises:o,$$values:o});this.study=function(o){function u(e,n){if(f[n]!==a){if(h.push(n),f[n]===r)throw h.splice(0,h.indexOf(n)),Error("Cyclic dependency: "+h.join(" -> "));if(f[n]=r,P(e))p.push(n,[function(){return t.get(e)}],s);else{var i=t.annotate(e);M(i,function(e){e!==n&&o.hasOwnProperty(e)&&u(o[e],e)}),p.push(n,e,i)}h.pop(),f[n]=a}}function d(e){return A(e)&&e.then&&e.$$promises}if(!A(o))throw Error("'invocables' must be an object");var p=[],h=[],f={};return M(o,u),o=h=f=null,function(r,a,o){function s(){--y||(b||i(v,a.$$values),m.$$values=v,m.$$promises=!0,f.resolve(v))}function u(e){m.$$failure=e,f.reject(e)}function h(n,i,a){function l(e){d.reject(e),u(e)}function c(){if(!D(m.$$failure))try{d.resolve(t.invoke(i,o,v)),d.promise.then(function(e){v[n]=e,s()},l)}catch(e){l(e)}}var d=e.defer(),p=0;M(a,function(e){g.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(p++,g[e].then(function(t){v[e]=t,--p||c()},l))}),p||c(),g[n]=d.promise}if(d(r)&&o===n&&(o=a,a=r,r=null),r){if(!A(r))throw Error("'locals' must be an object")}else r=l;if(a){if(!d(a))throw Error("'parent' must be a promise returned by $resolve.resolve()")}else a=c;var f=e.defer(),m=f.promise,g=m.$$promises={},v=O({},r),y=1+p.length/3,b=!1;if(D(a.$$failure))return u(a.$$failure),m;a.$$values?(b=i(v,a.$$values),s()):(O(g,a.$$promises),a.then(s,u));for(var $=0,T=p.length;T>$;$+=3)r.hasOwnProperty(p[$])?s():h(p[$],p[$+1],p[$+2]);return m}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function p(e,t,n){this.fromConfig=function(e,t,n){return D(e.template)?this.fromString(e.template,t):D(e.templateUrl)?this.fromUrl(e.templateUrl,t):D(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return C(e)?e(t):e},this.fromUrl=function(n,r){return C(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function h(e){function t(t){if(!/^\w+(-+\w+)*$/.test(t))throw Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(a[t])throw Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");a[t]=!0,c.push(t)}function n(e){return e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var r,i=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,a={},o="^",s=0,l=this.segments=[],c=this.params=[];this.source=e;for(var u,d,p;(r=i.exec(e))&&(u=r[2]||r[3],d=r[4]||("*"==r[1]?".*":"[^/]*"),p=e.substring(s,r.index),!(p.indexOf("?")>=0));)o+=n(p)+"("+d+")",t(u),l.push(p),s=i.lastIndex;p=e.substring(s);var h=p.indexOf("?");if(h>=0){var f=this.sourceSearch=p.substring(h);p=p.substring(0,h),this.sourcePath=e.substring(0,s+h),M(f.substring(1).split(/[&?]/),t)}else this.sourcePath=e,this.sourceSearch="";o+=n(p)+"$",l.push(p),this.regexp=RegExp(o),this.prefix=l[0]}function f(){this.compile=function(e){return new h(e)},this.isMatcher=function(e){return A(e)&&C(e.exec)&&C(e.format)&&C(e.concat)},this.$get=function(){return this}}function m(e){function t(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function n(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function r(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return D(r)?r:!0}var i=[],a=null;this.rule=function(e){if(!C(e))throw Error("'rule' must be a function");return i.push(e),this},this.otherwise=function(e){if(P(e)){var t=e;e=function(){return t}}else if(!C(e))throw Error("'rule' must be a function");return a=e,this},this.when=function(i,a){var o,s=P(a);if(P(i)&&(i=e.compile(i)),!s&&!C(a)&&!I(a))throw Error("invalid 'handler' in when()");var l={matcher:function(t,n){return s&&(o=e.compile(n),n=["$match",function(e){return o.format(e)}]),O(function(e,i){return r(e,n,t.exec(i.path(),i.search()))},{prefix:P(t.prefix)?t.prefix:""})},regex:function(e,i){if(e.global||e.sticky)throw Error("when() RegExp must not be global or sticky");return s&&(o=i,i=["$match",function(e){return n(o,e)}]),O(function(t,n){return r(t,i,e.exec(n.path()))},{prefix:t(e)})}},c={matcher:e.isMatcher(i),regex:i instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](i,a));throw Error("invalid 'what' in when()")},this.$get=["$location","$rootScope","$injector",function(e,t,n){function r(t){function r(t){var r=t(n,e);return r?(P(r)&&e.replace().url(r),!0):!1}if(!t||!t.defaultPrevented){var o,s=i.length;for(o=0;s>o;o++)if(r(i[o]))return;a&&r(a)}}return t.$on("$locationChangeSuccess",r),{sync:function(){r()}}}]}function g(e,i,a){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){var r=P(e),i=r?e:e.name,a=o(i);if(a){if(!t)throw Error("No reference point given for path '"+i+"'");for(var s=i.split("."),l=0,c=s.length,u=t;c>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!u.parent)throw Error("Path '"+i+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;s=s.slice(l).join("."),i=u.name+(u.name&&s?".":"")+s}var d=$[i];return!d||!r&&(r||d!==e&&d.self!==e)?n:d}function p(e,t){T[e]||(T[e]=[]),T[e].push(t)}function h(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!P(n)||n.indexOf("@")>=0)throw Error("State must have a valid name");if($.hasOwnProperty(n))throw Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):P(t.parent)?t.parent:"";if(i&&!$[i])return p(i,t.self);for(var a in S)C(S[a])&&(t[a]=S[a](t,S.$delegates[a]));if($[n]=t,!t[w]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){b.$current.navigable==t&&c(e,n)||b.transitionTo(t,e,{location:!1})}]),T[n])for(var o=0;T[n].length>o;o++)h(T[n][o]);return t}function f(e,t){return P(e)&&!D(t)?S[e]:C(t)&&P(e)?(S[e]&&!S.$delegates[e]&&(S.$delegates[e]=S[e]),S[e]=t,this):this}function m(e,t){return A(e)?t=e:t.name=e,h(t),this}function g(e,i,o,p,h,f,m){function g(){m.url()!==P&&(m.url(P),m.replace())}function T(e,n,r,a,s){var l=r?n:u(e.params,n),c={$stateParams:l};s.resolve=h.resolve(e.resolve,c,s.resolve,e);var d=[s.resolve.then(function(e){s.globals=e})];return a&&d.push(a),M(e.views,function(n,r){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return o.load(r,{view:n,locals:c,params:l,notify:!1})||""}],d.push(h.resolve(i,c,s.resolve,e).then(function(a){if(C(n.controllerProvider)||I(n.controllerProvider)){var o=t.extend({},i,c);a.$$controller=p.invoke(n.controllerProvider,null,o)}else a.$$controller=n.controller;a.$$state=e,s[r]=a}))}),i.all(d).then(function(){return s})}var S=i.reject(Error("transition superseded")),k=i.reject(Error("transition prevented")),x=i.reject(Error("transition aborted")),E=i.reject(Error("transition failed")),P=m.url();return y.locals={resolve:null,globals:{$stateParams:{}}},b={params:{},current:y.self,$current:y,transition:null},b.reload=function(){b.transitionTo(b.current,f,{reload:!0,inherit:!1,notify:!1})},b.go=function(e,t,n){return this.transitionTo(e,t,O({inherit:!0,relative:b.$current},n))},b.transitionTo=function(t,n,a){n=n||{},a=O({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var o,u=b.$current,h=b.params,$=u.path,C=d(t,a.relative);if(!D(C)){var A={to:t,toParams:n,options:a};if(o=e.$broadcast("$stateNotFound",A,u.self,h),o.defaultPrevented)return g(),x;if(o.retry){if(a.$retry)return g(),E;var I=b.transition=i.when(o.retry);return I.then(function(){return I!==b.transition?S:(A.options.$retry=!0,b.transitionTo(A.to,A.toParams,A.options))},function(){return x}),g(),I}if(t=A.to,n=A.toParams,a=A.options,C=d(t,a.relative),!D(C)){if(a.relative)throw Error("Could not resolve '"+t+"' from state '"+a.relative+"'");throw Error("No such state '"+t+"'")}}if(C[w])throw Error("Cannot transition to abstract state '"+t+"'");a.inherit&&(n=s(f,n||{},b.$current,C)),t=C;var M,N,F=t.path,j=y.locals,U=[];for(M=0,N=F[M];N&&N===$[M]&&c(n,h,N.ownParams)&&!a.reload;M++,N=F[M])j=U[M]=N.locals;if(v(t,u,j,a))return t.self.reloadOnSearch!==!1&&g(),b.transition=null,i.when(b.current);if(n=l(t.params,n||{}),a.notify&&(o=e.$broadcast("$stateChangeStart",t.self,n,u.self,h),o.defaultPrevented))return g(),k;for(var R=i.when(j),B=M;F.length>B;B++,N=F[B])j=U[B]=r(j),R=T(N,n,N===t,R,j);var _=b.transition=R.then(function(){var r,i,o;if(b.transition!==_)return S;for(r=$.length-1;r>=M;r--)o=$[r],o.self.onExit&&p.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=M;F.length>r;r++)i=F[r],i.locals=U[r],i.self.onEnter&&p.invoke(i.self.onEnter,i.self,i.locals.globals);if(b.transition!==_)return S;b.$current=t,b.current=t.self,b.params=n,L(b.params,f),b.transition=null;var s=t.navigable;return a.location&&s&&(m.url(s.url.format(s.locals.globals.$stateParams)),"replace"===a.location&&m.replace()),a.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,u.self,h),P=m.url(),b.current},function(r){return b.transition!==_?S:(b.transition=null,e.$broadcast("$stateChangeError",t.self,n,u.self,h,r),g(),i.reject(r))});return _},b.is=function(e,r){var i=d(e);return D(i)?b.$current!==i?!1:D(r)&&null!==r?t.equals(f,r):!0:n},b.includes=function(e,r){var i=d(e);if(!D(i))return n;if(!D(b.$current.includes[i.name]))return!1;var a=!0;return t.forEach(r,function(e,t){D(f[t])&&f[t]===e||(a=!1)}),a},b.href=function(e,t,n){n=O({lossy:!0,inherit:!1,absolute:!1,relative:b.$current},n||{});var r=d(e,n.relative);if(!D(r))return null;t=s(f,t||{},b.$current,r);var i=r&&n.lossy?r.navigable:r,o=i&&i.url?i.url.format(l(r.params,t||{})):null;return!a.html5Mode()&&o&&(o="#"+a.hashPrefix()+o),n.absolute&&o&&(o=m.protocol()+"://"+m.host()+(80==m.port()||443==m.port()?"":":"+m.port())+(!a.html5Mode()&&o?"/":"")+o),o},b.get=function(e,t){if(!D(e)){var n=[];return M($,function(e){n.push(e.self)}),n}var r=d(e,t);return r&&r.self?r.self:null},b}function v(e,t,r,i){return e!==t||(r!==t.locals||i.reload)&&e.self.reloadOnSearch!==!1?n:!0}var y,b,$={},T={},w="abstract",S={parent:function(e){if(D(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):y},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=O({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url;if(P(t))return"^"==t.charAt(0)?i.compile(t.substring(1)):(e.parent.navigable||y).url.concat(t);if(i.isMatcher(t)||null==t)return t;throw Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},params:function(e){if(!e.params)return e.url?e.url.parameters():e.parent.params;if(!I(e.params))throw Error("Invalid params in state '"+e+"'");if(e.url)throw Error("Both params and url specicified in state '"+e+"'");return e.params},views:function(e){var t={};return M(D(e.views)?e.views:{"":e},function(n,r){0>r.indexOf("@")&&(r+="@"+e.parent.name),t[r]=n}),t},ownParams:function(e){if(!e.parent)return e.params;var t={};M(e.params,function(e){t[e]=!0}),M(e.parent.params,function(n){if(!t[n])throw Error("Missing required parameter '"+n+"' in state '"+e.name+"'");t[n]=!1});var n=[];return M(t,function(e,t){e&&n.push(t)}),n},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?O({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};y=h({name:"",url:"^",views:null,"abstract":!0}),y.navigable=null,this.decorator=f,this.state=m,this.$get=g,g.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter"]}function v(){function e(e,t){return{load:function(n,r){var i,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=O(a,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function y(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function b(e,r,i,a,o,s){function l(){return a.has?function(e){return a.has(e)?a.get(e):null}:function(e){try{return a.get(e)}catch(t){return null}}}function c(e,t,n){var r=function(){return{leave:function(e){e.remove()},enter:function(e,t,n){n.after(e)}}};if(h)return function(e){return e?{enter:function(e,t,n){h.enter(e,null,n)},leave:function(e){h.leave(e,function(){e.remove()})}}:r()};if(p){var i=p&&p(n,t);return function(e){return e?{enter:function(e,t){i.enter(e,t)},leave:function(e){i.leave(e.contents(),e)}}:r()}}return r}var u=!1,d=l(),p=d("$animator"),h=d("$animate"),f={restrict:"ECA",compile:function(a,l){var d=a.html(),p=!0,h=t.element(s[0].createComment(" ui-view-anchor ")),m=a.parent();return a.prepend(h),function(s){function g(){b&&(x(!0).leave(b),b=null),y&&(y.$destroy(),y=null)}function v(l){var c=e.$current&&e.$current.locals[w];if(p&&(p=!1,a.replaceWith(h)),!c)return g(),b=a.clone(),b.html(d),x(l).enter(b,m,h),y=s.$new(),r(b.contents())(y),n;if(c!==$){g(),b=a.clone(),b.html(c.$template?c.$template:d),x(!0).enter(b,m,h),b.data("$uiView",E),$=c,E.state=c.$$state;var u=r(b.contents());if(y=s.$new(),c.$$controller){c.$scope=y;var f=i(c.$$controller,c);b.children().data("$ngControllerController",f)}u(y),y.$emit("$viewContentLoaded"),S&&y.$eval(S),t.isDefined(k)&&k&&!s.$eval(k)||o(b)}}var y,b,$,T=m.inheritedData("$uiView"),w=l[f.name]||l.name||"",S=l.onload||"",k=l.autoscroll,x=c(a,l,s);0>w.indexOf("@")&&(w=w+"@"+(T?T.state.name:""));var E={name:w,state:null},D=function(){if(!u){u=!0;try{v(!0)}catch(e){throw u=!1,e}u=!1}};s.$on("$stateChangeSuccess",D),s.$on("$viewContentLoading",D),v(!1)}}};return f}function $(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function T(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:n}function w(e,t){return{restrict:"A",require:"?^uiSrefActive",link:function(r,i,a,o){var s=$(a.uiSref),l=null,c=T(i)||e.$current,u="FORM"===i[0].nodeName,d=u?"action":"href",p=!0,h=function(t){if(t&&(l=t),p){var r=e.href(s.state,l,{relative:c});return o&&o.$$setStateInfo(s.state,l),r?(i[0][d]=r,n):(p=!1,!1)}};s.paramExpr&&(r.$watch(s.paramExpr,function(e){e!==l&&h(e)},!0),l=r.$eval(s.paramExpr)),h(),u||i.bind("click",function(n){var r=n.which||n.button;0!==r&&1!=r||n.ctrlKey||n.metaKey||n.shiftKey||i.attr("target")||(t(function(){e.go(s.state,l,{relative:c})}),n.preventDefault())})}}}function S(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(r,i,a){function o(){e.$current.self===l&&s()?i.addClass(d):i.removeClass(d)}function s(){return!u||c(u,t)}var l,u,d;d=n(a.uiSrefActive||"",!1)(r),this.$$setStateInfo=function(t,n){l=e.get(t,T(i)),u=n,o()},r.$on("$stateChangeSuccess",o)}]}}function k(e){return function(t){return e.is(t)}}function x(e){return function(t){return e.includes(t)}}function E(e,t){function i(e){this.locals=e.locals.globals,this.params=this.locals.$stateParams}function a(){this.locals=null,this.params=null}function o(n,o){if(null!=o.redirectTo){var s,c=o.redirectTo;if(P(c))s=c;else{if(!C(c))throw Error("Invalid 'redirectTo' in when()");s=function(e,t){return c(e,t.path(),t.search())}}t.when(n,s)}else e.state(r(o,{parent:null,name:"route:"+encodeURIComponent(n),url:n,onEnter:i,onExit:a}));return l.push(o),this}function s(e,t,r){function i(e){return""!==e.name?e:n
}var a={routes:l,params:r,current:n};return t.$on("$stateChangeStart",function(e,n,r,a){t.$broadcast("$routeChangeStart",i(n),i(a))}),t.$on("$stateChangeSuccess",function(e,n,r,o){a.current=i(n),t.$broadcast("$routeChangeSuccess",i(n),i(o)),L(r,a.params)}),t.$on("$stateChangeError",function(e,n,r,a,o,s){t.$broadcast("$routeChangeError",i(n),i(a),s)}),a}var l=[];i.$inject=["$$state"],this.when=o,this.$get=s,s.$inject=["$state","$rootScope","$routeParams"]}var D=t.isDefined,C=t.isFunction,P=t.isString,A=t.isObject,I=t.isArray,M=t.forEach,O=t.extend,L=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),d.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",d),p.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",p),h.prototype.concat=function(e){return new h(this.sourcePath+e+this.sourceSearch)},h.prototype.toString=function(){return this.source},h.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;var r,i=this.params,a=i.length,o=this.segments.length-1,s={};if(o!==n.length-1)throw Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;o>r;r++)s[i[r]]=n[r+1];for(;a>r;r++)s[i[r]]=t[i[r]];return s},h.prototype.parameters=function(){return this.params},h.prototype.format=function(e){var t=this.segments,n=this.params;if(!e)return t.join("");var r,i,a,o=t.length-1,s=n.length,l=t[0];for(r=0;o>r;r++)a=e[n[r]],null!=a&&(l+=encodeURIComponent(a)),l+=t[r+1];for(;s>r;r++)a=e[n[r]],null!=a&&(l+=(i?"&":"?")+n[r]+"="+encodeURIComponent(a),i=!0);return l},t.module("ui.router.util").provider("$urlMatcherFactory",f),m.$inject=["$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",m),g.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",g),v.$inject=[],t.module("ui.router.state").provider("$view",v),t.module("ui.router.state").provider("$uiViewScroll",y),b.$inject=["$state","$compile","$controller","$injector","$uiViewScroll","$document"],t.module("ui.router.state").directive("uiView",b),w.$inject=["$state","$timeout"],S.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",w).directive("uiSrefActive",S),k.$inject=["$state"],x.$inject=["$state"],t.module("ui.router.state").filter("isState",k).filter("includedByState",x),E.$inject=["$stateProvider","$urlRouterProvider"],t.module("ui.router.compat").provider("$route",E).directive("ngView",b)}(window,window.angular),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,a=Function.prototype,o=r.push,s=r.slice,l=r.concat,c=i.toString,u=i.hasOwnProperty,d=r.forEach,p=r.map,h=r.reduce,f=r.reduceRight,m=r.filter,g=r.every,v=r.some,y=r.indexOf,b=r.lastIndexOf,$=Array.isArray,T=Object.keys,w=a.bind,S=function(e){return e instanceof S?e:this instanceof S?(this._wrapped=e,void 0):new S(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=S),exports._=S):e._=S,S.VERSION="1.6.0";var k=S.each=S.forEach=function(e,t,r){if(null==e)return e;if(d&&e.forEach===d)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,a=e.length;a>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o=S.keys(e),i=0,a=o.length;a>i;i++)if(t.call(r,e[o[i]],o[i],e)===n)return;return e};S.map=S.collect=function(e,t,n){var r=[];return null==e?r:p&&e.map===p?e.map(t,n):(k(e,function(e,i,a){r.push(t.call(n,e,i,a))}),r)};var x="Reduce of empty array with no initial value";S.reduce=S.foldl=S.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return r&&(t=S.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(k(e,function(e,a,o){i?n=t.call(r,n,e,a,o):(n=e,i=!0)}),!i)throw new TypeError(x);return n},S.reduceRight=S.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return r&&(t=S.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var o=S.keys(e);a=o.length}if(k(e,function(s,l,c){l=o?o[--a]:--a,i?n=t.call(r,n,e[l],l,c):(n=e[l],i=!0)}),!i)throw new TypeError(x);return n},S.find=S.detect=function(e,t,n){var r;return E(e,function(e,i,a){return t.call(n,e,i,a)?(r=e,!0):void 0}),r},S.filter=S.select=function(e,t,n){var r=[];return null==e?r:m&&e.filter===m?e.filter(t,n):(k(e,function(e,i,a){t.call(n,e,i,a)&&r.push(e)}),r)},S.reject=function(e,t,n){return S.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},S.every=S.all=function(e,t,r){t||(t=S.identity);var i=!0;return null==e?i:g&&e.every===g?e.every(t,r):(k(e,function(e,a,o){return(i=i&&t.call(r,e,a,o))?void 0:n}),!!i)};var E=S.some=S.any=function(e,t,r){t||(t=S.identity);var i=!1;return null==e?i:v&&e.some===v?e.some(t,r):(k(e,function(e,a,o){return i||(i=t.call(r,e,a,o))?n:void 0}),!!i)};S.contains=S.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):E(e,function(e){return e===t})},S.invoke=function(e,t){var n=s.call(arguments,2),r=S.isFunction(t);return S.map(e,function(e){return(r?t:e[t]).apply(e,n)})},S.pluck=function(e,t){return S.map(e,S.property(t))},S.where=function(e,t){return S.filter(e,S.matches(t))},S.findWhere=function(e,t){return S.find(e,S.matches(t))},S.max=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);var r=-1/0,i=-1/0;return k(e,function(e,a,o){var s=t?t.call(n,e,a,o):e;s>i&&(r=e,i=s)}),r},S.min=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);var r=1/0,i=1/0;return k(e,function(e,a,o){var s=t?t.call(n,e,a,o):e;i>s&&(r=e,i=s)}),r},S.shuffle=function(e){var t,n=0,r=[];return k(e,function(e){t=S.random(n++),r[n-1]=r[t],r[t]=e}),r},S.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=S.values(e)),e[S.random(e.length-1)]):S.shuffle(e).slice(0,Math.max(0,t))};var D=function(e){return null==e?S.identity:S.isFunction(e)?e:S.property(e)};S.sortBy=function(e,t,n){return t=D(t),S.pluck(S.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var C=function(e){return function(t,n,r){var i={};return n=D(n),k(t,function(a,o){var s=n.call(r,a,o,t);e(i,s,a)}),i}};S.groupBy=C(function(e,t,n){S.has(e,t)?e[t].push(n):e[t]=[n]}),S.indexBy=C(function(e,t,n){e[t]=n}),S.countBy=C(function(e,t){S.has(e,t)?e[t]++:e[t]=1}),S.sortedIndex=function(e,t,n,r){n=D(n);for(var i=n.call(r,t),a=0,o=e.length;o>a;){var s=a+o>>>1;i>n.call(r,e[s])?a=s+1:o=s}return a},S.toArray=function(e){return e?S.isArray(e)?s.call(e):e.length===+e.length?S.map(e,S.identity):S.values(e):[]},S.size=function(e){return null==e?0:e.length===+e.length?e.length:S.keys(e).length},S.first=S.head=S.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:s.call(e,0,t)},S.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},S.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},S.rest=S.tail=S.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},S.compact=function(e){return S.filter(e,S.identity)};var P=function(e,t,n){return t&&S.every(e,S.isArray)?l.apply(n,e):(k(e,function(e){S.isArray(e)||S.isArguments(e)?t?o.apply(n,e):P(e,t,n):n.push(e)}),n)};S.flatten=function(e,t){return P(e,t,[])},S.without=function(e){return S.difference(e,s.call(arguments,1))},S.partition=function(e,t){var n=[],r=[];return k(e,function(e){(t(e)?n:r).push(e)}),[n,r]},S.uniq=S.unique=function(e,t,n,r){S.isFunction(t)&&(r=n,n=t,t=!1);var i=n?S.map(e,n,r):e,a=[],o=[];return k(i,function(n,r){(t?r&&o[o.length-1]===n:S.contains(o,n))||(o.push(n),a.push(e[r]))}),a},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=function(e){var t=s.call(arguments,1);return S.filter(S.uniq(e),function(e){return S.every(t,function(t){return S.contains(t,e)})})},S.difference=function(e){var t=l.apply(r,s.call(arguments,1));return S.filter(e,function(e){return!S.contains(t,e)})},S.zip=function(){for(var e=S.max(S.pluck(arguments,"length").concat(0)),t=Array(e),n=0;e>n;n++)t[n]=S.pluck(arguments,""+n);return t},S.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},S.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=S.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},S.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},S.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,a=Array(r);r>i;)a[i++]=e,e+=n;return a};var A=function(){};S.bind=function(e,t){var n,r;if(w&&e.bind===w)return w.apply(e,s.call(arguments,1));if(!S.isFunction(e))throw new TypeError;return n=s.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(s.call(arguments)));A.prototype=e.prototype;var i=new A;A.prototype=null;var a=e.apply(i,n.concat(s.call(arguments)));return Object(a)===a?a:i}},S.partial=function(e){var t=s.call(arguments,1);return function(){for(var n=0,r=t.slice(),i=0,a=r.length;a>i;i++)r[i]===S&&(r[i]=arguments[n++]);for(;arguments.length>n;)r.push(arguments[n++]);return e.apply(this,r)}},S.bindAll=function(e){var t=s.call(arguments,1);if(0===t.length)throw Error("bindAll must be passed function names");return k(t,function(t){e[t]=S.bind(e[t],e)}),e},S.memoize=function(e,t){var n={};return t||(t=S.identity),function(){var r=t.apply(this,arguments);return S.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},S.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},S.defer=function(e){return S.delay.apply(S,[e,1].concat(s.call(arguments,1)))},S.throttle=function(e,t,n){var r,i,a,o=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:S.now(),o=null,a=e.apply(r,i),r=i=null};return function(){var c=S.now();s||n.leading!==!1||(s=c);var u=t-(c-s);return r=this,i=arguments,0>=u?(clearTimeout(o),o=null,s=c,a=e.apply(r,i),r=i=null):o||n.trailing===!1||(o=setTimeout(l,u)),a}},S.debounce=function(e,t,n){var r,i,a,o,s,l=function(){var c=S.now()-o;t>c?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(a,i),a=i=null))};return function(){a=this,i=arguments,o=S.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(s=e.apply(a,i),a=i=null),s}},S.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},S.wrap=function(e,t){return S.partial(t,e)},S.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},S.after=function(e,t){return function(){return 1>--e?t.apply(this,arguments):void 0}},S.keys=function(e){if(!S.isObject(e))return[];if(T)return T(e);var t=[];for(var n in e)S.has(e,n)&&t.push(n);return t},S.values=function(e){for(var t=S.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},S.pairs=function(e){for(var t=S.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},S.invert=function(e){for(var t={},n=S.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},S.functions=S.methods=function(e){var t=[];for(var n in e)S.isFunction(e[n])&&t.push(n);return t.sort()},S.extend=function(e){return k(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},S.pick=function(e){var t={},n=l.apply(r,s.call(arguments,1));return k(n,function(n){n in e&&(t[n]=e[n])}),t},S.omit=function(e){var t={},n=l.apply(r,s.call(arguments,1));for(var i in e)S.contains(n,i)||(t[i]=e[i]);return t},S.defaults=function(e){return k(s.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e};var I=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof S&&(e=e._wrapped),t instanceof S&&(t=t._wrapped);var i=c.call(e);if(i!=c.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return r[a]==t;var o=e.constructor,s=t.constructor;if(o!==s&&!(S.isFunction(o)&&o instanceof o&&S.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var l=0,u=!0;if("[object Array]"==i){if(l=e.length,u=l==t.length)for(;l--&&(u=I(e[l],t[l],n,r)););}else{for(var d in e)if(S.has(e,d)&&(l++,!(u=S.has(t,d)&&I(e[d],t[d],n,r))))break;if(u){for(d in t)if(S.has(t,d)&&!l--)break;u=!l}}return n.pop(),r.pop(),u};S.isEqual=function(e,t){return I(e,t,[],[])},S.isEmpty=function(e){if(null==e)return!0;if(S.isArray(e)||S.isString(e))return 0===e.length;for(var t in e)if(S.has(e,t))return!1;return!0},S.isElement=function(e){return!(!e||1!==e.nodeType)},S.isArray=$||function(e){return"[object Array]"==c.call(e)},S.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){S["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),S.isArguments(arguments)||(S.isArguments=function(e){return!(!e||!S.has(e,"callee"))}),S.isFunction=function(e){return"function"==typeof e},S.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},S.isNaN=function(e){return S.isNumber(e)&&e!=+e},S.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return u.call(e,t)},S.noConflict=function(){return e._=t,this},S.identity=function(e){return e},S.constant=function(e){return function(){return e}},S.property=function(e){return function(t){return t[e]}},S.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},S.times=function(e,t,n){for(var r=Array(Math.max(0,e)),i=0;e>i;i++)r[i]=t.call(n,i);return r},S.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},S.now=Date.now||function(){return(new Date).getTime()};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};M.unescape=S.invert(M.escape);var O={escape:RegExp("["+S.keys(M.escape).join("")+"]","g"),unescape:RegExp("("+S.keys(M.unescape).join("|")+")","g")};S.each(["escape","unescape"],function(e){S[e]=function(t){return null==t?"":(""+t).replace(O[e],function(t){return M[e][t]})}}),S.result=function(e,t){if(null==e)return void 0;var n=e[t];return S.isFunction(n)?n.call(e):n},S.mixin=function(e){k(S.functions(e),function(t){var n=S[t]=e[t];S.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),U.call(this,n.apply(S,e))}})};var L=0;S.uniqueId=function(e){var t=++L+"";return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;S.template=function(e,t,n){var r;n=S.defaults({},n,S.templateSettings);var i=RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(i,function(t,n,r,i,s){return o+=e.slice(a,s).replace(j,function(e){return"\\"+F[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),a=s+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return r(t,S);var l=function(e){return r.call(this,e,S)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},S.chain=function(e){return S(e).chain()};var U=function(e){return this._chain?S(e).chain():e};S.mixin(S),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];S.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],U.call(this,n)}}),k(["concat","join","slice"],function(e){var t=r[e];S.prototype[e]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),S.extend(S.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return S})}.call(this),function(){var e=angular.module("restangular",[]);e.provider("Restangular",function(){var e={};e.init=function(e,t){function n(e,t,n,r){var i={};return _.each(_.keys(r),function(a){var o=r[a];o.params=_.extend({},o.params,e.defaultRequestParams[o.method.toLowerCase()]),_.isEmpty(o.params)&&delete o.params,i[a]=e.isSafe(o.method)?function(){return t(_.extend(o,{url:n}))}:function(e){return t(_.extend(o,{url:n,data:e}))}}),i}e.configuration=t;var r=["get","head","options","trace","getlist"];t.isSafe=function(e){return _.contains(r,e.toLowerCase())};var i=/^https?:\/\//i;t.isAbsoluteUrl=function(e){return _.isUndefined(t.absoluteUrl)||_.isNull(t.absoluteUrl)?e&&i.test(e):t.absoluteUrl},t.absoluteUrl=_.isUndefined(t.absoluteUrl)?!1:!0,e.setSelfLinkAbsoluteUrl=function(e){t.absoluteUrl=e},t.baseUrl=_.isUndefined(t.baseUrl)?"":t.baseUrl,e.setBaseUrl=function(e){return t.baseUrl=/\/$/.test(e)?e.substring(0,e.length-1):e,this},t.extraFields=t.extraFields||[],e.setExtraFields=function(e){return t.extraFields=e,this},t.defaultHttpFields=t.defaultHttpFields||{},e.setDefaultHttpFields=function(e){return t.defaultHttpFields=e,this},t.withHttpValues=function(e,n){return _.defaults(n,e,t.defaultHttpFields)},t.encodeIds=_.isUndefined(t.encodeIds)?!0:t.encodeIds,e.setEncodeIds=function(e){t.encodeIds=e},t.defaultRequestParams=t.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},e.setDefaultRequestParams=function(e,n){var r=[],i=n||e;return _.isUndefined(n)?r.push("common"):_.isArray(e)?r=e:r.push(e),_.each(r,function(e){t.defaultRequestParams[e]=i}),this},e.requestParams=t.defaultRequestParams,t.defaultHeaders=t.defaultHeaders||{},e.setDefaultHeaders=function(n){return t.defaultHeaders=n,e.defaultHeaders=t.defaultHeaders,this},e.defaultHeaders=t.defaultHeaders,t.methodOverriders=t.methodOverriders||[],e.setMethodOverriders=function(e){var n=_.extend([],e);return t.isOverridenMethod("delete",n)&&n.push("remove"),t.methodOverriders=n,this},t.isOverridenMethod=function(e,n){var r=n||t.methodOverriders;return!_.isUndefined(_.find(r,function(t){return t.toLowerCase()===e.toLowerCase()}))},t.urlCreator=t.urlCreator||"path",e.setUrlCreator=function(e){if(!_.has(t.urlCreatorFactory,e))throw Error("URL Path selected isn't valid");return t.urlCreator=e,this},t.restangularFields=t.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET"},e.setRestangularFields=function(e){return t.restangularFields=_.extend(t.restangularFields,e),this},t.isRestangularized=function(e){return!!e[t.restangularFields.one]||!!e[t.restangularFields.all]},t.setFieldToElem=function(e,t,n){var r=e.split("."),i=t;return _.each(_.initial(r),function(e){i[e]={},i=i[e]}),i[_.last(r)]=n,this},t.getFieldFromElem=function(e,t){var n=e.split("."),r=angular.copy(t);return _.each(n,function(e){r&&(r=r[e])}),r},t.setIdToElem=function(e,n){return t.setFieldToElem(t.restangularFields.id,e,n),this},t.getIdFromElem=function(e){return t.getFieldFromElem(t.restangularFields.id,e)},t.isValidId=function(e){return""!==e&&!_.isUndefined(e)&&!_.isNull(e)},t.setUrlToElem=function(e,n){return t.setFieldToElem(t.restangularFields.selfLink,e,n),this},t.getUrlFromElem=function(e){return t.getFieldFromElem(t.restangularFields.selfLink,e)},t.useCannonicalId=_.isUndefined(t.useCannonicalId)?!1:t.useCannonicalId,e.setUseCannonicalId=function(e){return t.useCannonicalId=e,this},t.getCannonicalIdFromElem=function(e){var n=e[t.restangularFields.cannonicalId],r=t.isValidId(n)?n:t.getIdFromElem(e);return r},t.responseExtractor=t.responseExtractor||function(e){return e},e.setResponseExtractor=function(e){return t.responseExtractor=e,this},e.setResponseInterceptor=e.setResponseExtractor,t.fullRequestInterceptor=t.fullRequestInterceptor||function(e,t,n,r,i,a,o){return{element:e,headers:i,params:a,httpConfig:o}},e.setRequestInterceptor=function(e){return t.fullRequestInterceptor=function(t,n,r,i,a,o,s){return{headers:a,params:o,element:e(t,n,r,i),httpConfig:s}},this},e.setFullRequestInterceptor=function(e){return t.fullRequestInterceptor=e,this},t.errorInterceptor=t.errorInterceptor||function(){},e.setErrorInterceptor=function(e){return t.errorInterceptor=e,this},t.onBeforeElemRestangularized=t.onBeforeElemRestangularized||function(e){return e},e.setOnBeforeElemRestangularized=function(e){return t.onBeforeElemRestangularized=e,this},t.onElemRestangularized=t.onElemRestangularized||function(e){return e},e.setOnElemRestangularized=function(e){return t.onElemRestangularized=e,this},e.setListTypeIsArray=function(){},t.shouldSaveParent=t.shouldSaveParent||function(){return!0},e.setParentless=function(e){return _.isArray(e)?t.shouldSaveParent=function(t){return!_.contains(e,t)}:_.isBoolean(e)&&(t.shouldSaveParent=function(){return!e}),this},t.suffix=_.isUndefined(t.suffix)?null:t.suffix,e.setRequestSuffix=function(e){return t.suffix=e,this},t.transformers=t.transformers||{},e.addElementTransformer=function(e,n,r){var i=null,a=null;2===arguments.length?a=n:(a=r,i=n);var o=t.transformers[e];o||(o=t.transformers[e]=[]),o.push(function(e,t){return _.isNull(i)||e==i?a(t):t})},e.extendCollection=function(t,n){return e.addElementTransformer(t,!0,n)},e.extendModel=function(t,n){return e.addElementTransformer(t,!1,n)},t.transformElem=function(e,n,r,i){var a=t.transformers[r],o=e;return a&&_.each(a,function(e){o=e(n,o)}),t.onElemRestangularized(o,n,r,i)},t.fullResponse=_.isUndefined(t.fullResponse)?!1:t.fullResponse,e.setFullResponse=function(e){return t.fullResponse=e,this},t.urlCreatorFactory={};var a=function(){};a.prototype.setConfig=function(e){return this.config=e,this},a.prototype.parentsArray=function(e){for(var t=[];e;)t.push(e),e=e[this.config.restangularFields.parentResource];return t.reverse()},a.prototype.resource=function(e,r,i,a,o,s,l,c){var u=_.defaults(o||{},this.config.defaultRequestParams.common),d=_.defaults(a||{},this.config.defaultHeaders);l&&(t.isSafe(c)?d["If-None-Match"]=l:d["If-Match"]=l);var p=this.base(e);if(s){var h="";/\/$/.test(p)||(h+="/"),h+=s,p+=h}return this.config.suffix&&-1===p.indexOf(this.config.suffix,p.length-this.config.suffix.length)&&!this.config.getUrlFromElem(e)&&(p+=this.config.suffix),e[this.config.restangularFields.httpConfig]=void 0,n(this.config,r,p,{getList:this.config.withHttpValues(i,{method:"GET",params:u,headers:d}),get:this.config.withHttpValues(i,{method:"GET",params:u,headers:d}),put:this.config.withHttpValues(i,{method:"PUT",params:u,headers:d}),post:this.config.withHttpValues(i,{method:"POST",params:u,headers:d}),remove:this.config.withHttpValues(i,{method:"DELETE",params:u,headers:d}),head:this.config.withHttpValues(i,{method:"HEAD",params:u,headers:d}),trace:this.config.withHttpValues(i,{method:"TRACE",params:u,headers:d}),options:this.config.withHttpValues(i,{method:"OPTIONS",params:u,headers:d}),patch:this.config.withHttpValues(i,{method:"PATCH",params:u,headers:d})})};var o=function(){};o.prototype=new a,o.prototype.base=function(e){var n=this;return _.reduce(this.parentsArray(e),function(e,r){var i,a=n.config.getUrlFromElem(r);if(a){if(n.config.isAbsoluteUrl(a))return a;i=a}else if(i=r[n.config.restangularFields.route],r[n.config.restangularFields.restangularCollection]){var o=r[n.config.restangularFields.ids];o&&(i+="/"+o.join(","))}else{var s;s=n.config.useCannonicalId?n.config.getCannonicalIdFromElem(r):n.config.getIdFromElem(r),t.isValidId(s)&&(i+="/"+(n.config.encodeIds?encodeURIComponent(s):s))}return e+"/"+i},this.config.baseUrl)},o.prototype.fetchUrl=function(e,t){var n=this.base(e);return t&&(n+="/"+t),n},o.prototype.fetchRequestedUrl=function(e,n){function r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function i(e,t,n){for(var i=r(e),a=0;i.length>a;a++)t.call(n,e[i[a]],i[a]);return i}function a(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}var o=this.fetchUrl(e,n),s=e[t.restangularFields.reqParams];if(!s)return o;var l=[];return i(s,function(e,t){null!=e&&void 0!=e&&(angular.isArray(e)||(e=[e]),angular.forEach(e,function(e){angular.isObject(e)&&(e=angular.toJson(e)),l.push(a(t)+"="+a(e))}))}),o+(-1===o.indexOf("?")?"?":"&")+l.join("&")},t.urlCreatorFactory.path=o};var t={};e.init(this,t),this.$get=["$http","$q",function(n,r){function i(t){function a(e,n,r,i){if(n[t.restangularFields.route]=r,n[t.restangularFields.getRestangularUrl]=_.bind(R.fetchUrl,R,n),n[t.restangularFields.getRequestedUrl]=_.bind(R.fetchRequestedUrl,R,n),n[t.restangularFields.addRestangularMethod]=_.bind(F,n),n[t.restangularFields.clone]=_.bind(v,n,n),n[t.restangularFields.reqParams]=_.isEmpty(i)?null:i,n.withHttpConfig=_.bind(x,n),n[t.restangularFields.one]=_.bind(o,n,n),n[t.restangularFields.all]=_.bind(s,n,n),n[t.restangularFields.several]=_.bind(l,n,n),n[t.restangularFields.oneUrl]=_.bind(c,n,n),n[t.restangularFields.allUrl]=_.bind(u,n,n),e&&t.shouldSaveParent(r)){var a=t.getIdFromElem(e),d=t.getUrlFromElem(e),p=_.union(_.values(_.pick(t.restangularFields,["route","parentResource"])),t.extraFields),h=_.pick(e,p);t.isValidId(a)&&t.setIdToElem(h,a),t.isValidId(d)&&t.setUrlToElem(h,d),n[t.restangularFields.parentResource]=h}else n[t.restangularFields.parentResource]=null;return n}function o(e,n,r){var i={};return t.setIdToElem(i,r),y(e,i,n)}function s(e,t){return b(e,[],t,!0)}function l(e,n){var r=[];return r[t.restangularFields.ids]=Array.prototype.splice.call(arguments,2),b(e,r,n,!0)}function c(e,n,r){var i={};return t.setUrlToElem(i,r),y(e,i,n)}function u(e,n,r){var i={};return t.setUrlToElem(i,r),b(e,i,n,!0)}function d(e,n,r){return e.call=_.bind(p,e),e.get=_.bind(h,e),e[t.restangularFields.restangularCollection]=n,n&&(e.push=_.bind(p,e,"push")),e.$object=r,e}function p(e){var n=r.defer(),i=arguments,a={};return this.then(function(t){var r=Array.prototype.slice.call(i,1),o=t[e];o.apply(t,r),a=t,n.resolve(t)}),d(n.promise,this[t.restangularFields.restangularCollection],a)}function h(e){var n=r.defer(),i={};return this.then(function(t){i=t[e],n.resolve(i)}),d(n.promise,this[t.restangularFields.restangularCollection],i)}function f(e,n,r,i){return _.extend(i,r),t.fullResponse?e.resolve(_.extend(n,{data:r})):(e.resolve(r),void 0)}function m(e){if(_.isArray(e)){var n=[];return _.each(e,function(e){n.push(m(e))}),n}return _.omit(e,_.values(_.omit(t.restangularFields,"id")))}function g(e){e.customOperation=_.bind(N,e),_.each(["put","post","get","delete"],function(t){_.each(["do","custom"],function(n){var r,i="delete"===t?"remove":t,a=n+t.toUpperCase();r="put"!==i&&"post"!==i?N:function(e,t,n,r,i){return _.bind(N,this)(e,n,r,i,t)},e[a]=_.bind(r,e,i)})}),e.customGETLIST=_.bind(k,e),e.doGETLIST=e.customGETLIST}function v(e){var n=angular.copy(e);return y(n[t.restangularFields.parentResource],n,n[t.restangularFields.route])}function y(e,n,r,i,o){var s=t.onBeforeElemRestangularized(n,!1,r),l=a(e,s,r,o);return t.useCannonicalId&&(l[t.restangularFields.cannonicalId]=t.getIdFromElem(l)),i&&(l[t.restangularFields.getParentList]=function(){return i}),l[t.restangularFields.restangularCollection]=!1,l[t.restangularFields.get]=_.bind(D,l),l[t.restangularFields.getList]=_.bind(k,l),l[t.restangularFields.put]=_.bind(P,l),l[t.restangularFields.post]=_.bind(A,l),l[t.restangularFields.remove]=_.bind(C,l),l[t.restangularFields.head]=_.bind(I,l),l[t.restangularFields.trace]=_.bind(M,l),l[t.restangularFields.options]=_.bind(O,l),l[t.restangularFields.patch]=_.bind(L,l),g(l),t.transformElem(l,!1,r,U)}function b(e,n,r,i){var o=t.onBeforeElemRestangularized(n,!0,r),s=a(e,o,r,i);return s[t.restangularFields.restangularCollection]=!0,s[t.restangularFields.post]=_.bind(A,s,null),s[t.restangularFields.remove]=_.bind(C,s),s[t.restangularFields.head]=_.bind(I,s),s[t.restangularFields.trace]=_.bind(M,s),s[t.restangularFields.putElement]=_.bind(w,s),s[t.restangularFields.options]=_.bind(O,s),s[t.restangularFields.patch]=_.bind(L,s),s[t.restangularFields.get]=_.bind(T,s),s[t.restangularFields.getList]=_.bind(k,s,null),g(s),t.transformElem(s,!0,r,U)}function $(e,t,n){var r=b(e,t,n);return _.each(r,function(t){y(e,t,n)}),r}function T(e,t,n){return this.customGET(""+e,t,n)}function w(e,t,n){var i=this,a=this[e],o=r.defer(),s=[];return a.put(t,n).then(function(t){var n=v(i);n[e]=t,s=n,o.resolve(n)},function(e){o.reject(e)}),d(o.promise,!0,s)}function S(e,n,r,i,a,o){var s=t.responseExtractor(e,n,r,i,a,o),l=a.headers("ETag");return s&&l&&(s[t.restangularFields.etag]=l),s}function k(e,i,a){var o=this,s=r.defer(),l="getList",c=R.fetchUrl(this,e),u=e||o[t.restangularFields.route],p=t.fullRequestInterceptor(null,l,u,c,a||{},i||{},this[t.restangularFields.httpConfig]||{}),h=[];return R.resource(this,n,p.httpConfig,p.headers,p.params,e,this[t.restangularFields.etag],l).getList().then(function(n){var r=n.data,i=n.config.params,a=S(r,l,u,c,n,s),d=_.map(a,function(n){return o[t.restangularFields.restangularCollection]?y(o[t.restangularFields.parentResource],n,o[t.restangularFields.route],a):y(o,n,e,a)});d=_.extend(a,d),o[t.restangularFields.restangularCollection]?f(s,n,b(o[t.restangularFields.parentResource],d,o[t.restangularFields.route],i),h):f(s,n,b(o,d,e,i),h)},function(e){t.errorInterceptor(e)!==!1&&s.reject(e)}),d(s.promise,!0,h)}function x(e){return this[t.restangularFields.httpConfig]=e,this}function E(e,i,a,o,s){var l=this,c=r.defer(),u=a||{},p=i||this[t.restangularFields.route],h=R.fetchUrl(this,i),g=o||this,v=g[t.restangularFields.etag];_.isObject(g)&&t.isRestangularized(g)&&(g=m(g));var b=t.fullRequestInterceptor(g,e,p,h,s||{},u||{},this[t.restangularFields.httpConfig]||{}),$={},T=function(n){var r=n.data,a=n.config.params,o=S(r,e,p,h,n,c);o?"post"!==e||l[t.restangularFields.restangularCollection]?f(c,n,y(l[t.restangularFields.parentResource],o,l[t.restangularFields.route],a),$):f(c,n,y(l,o,i,a),$):f(c,n,void 0,$)},w=function(e){t.errorInterceptor(e)!==!1&&c.reject(e)},k=e,x=_.extend({},b.headers),E=t.isOverridenMethod(e);return E&&(k="post",x=_.extend(x,{"X-HTTP-Method-Override":"remove"===e?"DELETE":e})),t.isSafe(e)?E?R.resource(this,n,b.httpConfig,x,b.params,i,v,k)[k]({}).then(T,w):R.resource(this,n,b.httpConfig,x,b.params,i,v,k)[k]().then(T,w):R.resource(this,n,b.httpConfig,x,b.params,i,v,k)[k](b.element).then(T,w),d(c.promise,!1,$)
}function D(e,t){return _.bind(E,this)("get",void 0,e,void 0,t)}function C(e,t){return _.bind(E,this)("remove",void 0,e,void 0,t)}function P(e,t){return _.bind(E,this)("put",void 0,e,void 0,t)}function A(e,t,n,r){return _.bind(E,this)("post",e,n,t,r)}function I(e,t){return _.bind(E,this)("head",void 0,e,void 0,t)}function M(e,t){return _.bind(E,this)("trace",void 0,e,void 0,t)}function O(e,t){return _.bind(E,this)("options",void 0,e,void 0,t)}function L(e,t,n){return _.bind(E,this)("patch",void 0,t,e,n)}function N(e,t,n,r,i){return _.bind(E,this)(e,t,n,i,r)}function F(e,n,r,i,a,o){var s;s="getList"===n?_.bind(k,this,r):_.bind(N,this,n,r);var l=function(e,t,n){var r=_.defaults({params:e,headers:t,elem:n},{params:i,headers:a,elem:o});return s(r.params,r.headers,r.elem)};this[e]=t.isSafe(n)?l:function(e,t,n){return l(t,n,e)}}function j(n){var r=angular.copy(t);return e.init(r,r),n(r),i(r)}var U={},R=new t.urlCreatorFactory[t.urlCreator];return R.setConfig(t),e.init(U,t),U.copy=_.bind(v,U),U.withConfig=_.bind(j,U),U.one=_.bind(o,U,null),U.all=_.bind(s,U,null),U.several=_.bind(l,U,null),U.oneUrl=_.bind(c,U,null),U.allUrl=_.bind(u,U,null),U.stripRestangular=_.bind(m,U),U.restangularizeElement=_.bind(y,U),U.restangularizeCollection=_.bind($,U),U}return i(t)}]})}(),angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(e){var t=e.storageKey(),n=e.storage();n?n.get(t)?e.use(n.get(t)):angular.isString(e.preferredLanguage())?e.use(e.preferredLanguage()):n.set(t,e.use()):angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(e){var t,n,r,i,a,o,s,l,c,u,d,p,h,f,m,g={},v=[],y=e,b=[],$=!1,T="translate-cloak",w=!1,S=".",k="2.4.0",x=function(){var e=window.navigator;return((angular.isArray(e.languages)?e.languages[0]:e.language||e.browserLanguage||e.systemLanguage||e.userLanguage)||"").split("-").join("_")},E=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},D=function(){return this.replace(/^\s+|\s+$/g,"")},C=function(e){for(var t=[],r=angular.lowercase(e),i=0,a=v.length;a>i;i++)t.push(angular.lowercase(v[i]));if(E(t,r)>-1)return e;if(n){var o;for(var s in n){var l=!1,c=Object.prototype.hasOwnProperty.call(n,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(o=n[s],E(t,angular.lowercase(o))>-1))return o}}var u=e.split("_");return u.length>1&&E(t,angular.lowercase(u[0]))>-1?u[0]:e},P=function(e,t){if(!e&&!t)return g;if(e&&!t){if(angular.isString(e))return g[e]}else angular.isObject(g[e])||(g[e]={}),angular.extend(g[e],A(t));return this};this.translations=P,this.cloakClassName=function(e){return e?(T=e,this):T};var A=function(e,t,n,r){var i,a,o,s;t||(t=[]),n||(n={});for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s=e[i],angular.isObject(s)?A(s,t.concat(i),n,i):(a=t.length?""+t.join(S)+S+i:i,t.length&&i===r&&(o=""+t.join(S),n[o]="@:"+a),n[a]=s));return n};this.addInterpolation=function(e){return b.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return u=e,this},this.useSanitizeValueStrategy=function(e){return $=e,this},this.preferredLanguage=function(e){return I(e),this};var I=function(e){return e&&(t=e),t};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(h=e,this):h},this.translationNotFoundIndicatorRight=function(e){return e?(f=e,this):f},this.fallbackLanguage=function(e){return M(e),this};var M=function(e){return e?(angular.isString(e)?(i=!0,r=[e]):angular.isArray(e)&&(i=!1,r=e),angular.isString(t)&&0>E(r,t)&&r.push(t),this):i?r[0]:r};this.use=function(e){if(e){if(!g[e]&&!d)throw Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return a=e,this}return a};var O=function(e){return e?(y=e,void 0):l?l+y:y};this.storageKey=O,this.useUrlLoader=function(e){return this.useLoader("$translateUrlLoader",{url:e})},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return d=e,p=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return s=e,this},this.storagePrefix=function(e){return e?(l=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return c=e,this},this.usePostCompiling=function(e){return w=!!e,this},this.determinePreferredLanguage=function(e){var n=e&&angular.isFunction(e)?e():x();return t=v.length?C(n):n,this},this.registerAvailableLanguageKeys=function(e,t){return e?(v=e,t&&(n=t),this):v},this.useLoaderCache=function(e){return e===!1?m=void 0:e===!0?m=!0:e===void 0?m="$translationCache":e&&(m=e),this},this.$get=["$log","$injector","$rootScope","$q",function(e,n,l,v){var S,x,L,N=n.get(u||"$translateDefaultInterpolation"),F=!1,j={},U={},R=function(e,n,i){if(angular.isArray(e)){var o=function(e){for(var t={},r=[],a=function(e){var r=v.defer(),a=function(n){t[e]=n,r.resolve([e,n])};return R(e,n,i).then(a,a),r.promise},o=0,s=e.length;s>o;o++)r.push(a(e[o]));return v.all(r).then(function(){return t})};return o(e)}var l=v.defer();e&&(e=D.apply(e));var c=function(){var e=t?U[t]:U[a];if(x=0,s&&!e){var n=S.get(y);if(e=U[n],r&&r.length){var i=E(r,n);x=0===i?1:0,0>E(r,t)&&r.push(t)}}return e}();return c?c.then(function(){J(e,n,i).then(l.resolve,l.reject)},l.reject):J(e,n,i).then(l.resolve,l.reject),l.promise},B=function(e){return h&&(e=[h,e].join(" ")),f&&(e=[e,f].join(" ")),e},_=function(e){a=e,l.$emit("$translateChangeSuccess",{language:e}),s&&S.set(R.storageKey(),a),N.setLocale(a),angular.forEach(j,function(e,t){j[t].setLocale(a)}),l.$emit("$translateChangeEnd",{language:e})},H=function(e){if(!e)throw"No language key specified for loading.";var t=v.defer();l.$emit("$translateLoadingStart",{language:e}),F=!0;var r=m;return"string"==typeof r&&(r=n.get(r)),n.get(d)(angular.extend(p,{key:e,$http:angular.extend({},p.$http,{cache:r})})).then(function(n){var r={};l.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(n)?angular.forEach(n,function(e){angular.extend(r,A(e))}):angular.extend(r,A(n)),F=!1,t.resolve({key:e,table:r}),l.$emit("$translateLoadingEnd",{language:e})},function(e){l.$emit("$translateLoadingError",{language:e}),t.reject(e),l.$emit("$translateLoadingEnd",{language:e})}),t.promise};if(s&&(S=n.get(s),!S.get||!S.set))throw Error("Couldn't use storage '"+s+"', missing get() or set() method!");angular.isFunction(N.useSanitizeValueStrategy)&&N.useSanitizeValueStrategy($),b.length&&angular.forEach(b,function(e){var r=n.get(e);r.setLocale(t||a),angular.isFunction(r.useSanitizeValueStrategy)&&r.useSanitizeValueStrategy($),j[r.getInterpolationIdentifier()]=r});var q=function(e){var t=v.defer();return Object.prototype.hasOwnProperty.call(g,e)?t.resolve(g[e]):U[e]?U[e].then(function(e){P(e.key,e.table),t.resolve(e.table)},t.reject):t.reject(),t.promise},V=function(e,t,n,r){var i=v.defer();return q(e).then(function(o){Object.prototype.hasOwnProperty.call(o,t)?(r.setLocale(e),i.resolve(r.interpolate(o[t],n)),r.setLocale(a)):i.reject()},i.reject),i.promise},W=function(e,t,n,r){var i,o=g[e];return Object.prototype.hasOwnProperty.call(o,t)&&(r.setLocale(e),i=r.interpolate(o[t],n),r.setLocale(a)),i},G=function(e){if(c){var t=n.get(c)(e,a);return void 0!==t?t:e}return e},K=function(e,t,n,i){var a=v.defer();if(r.length>e){var o=r[e];V(o,t,n,i).then(a.resolve,function(){K(e+1,t,n,i).then(a.resolve)})}else a.resolve(G(t));return a.promise},Q=function(e,t,n,i){var a;if(r.length>e){var o=r[e];a=W(o,t,n,i),a||(a=Q(e+1,t,n,i))}return a},z=function(e,t,n){return K(L>0?L:x,e,t,n)},Y=function(e,t,n){return Q(L>0?L:x,e,t,n)},J=function(e,t,n){var i=v.defer(),o=a?g[a]:g,s=n?j[n]:N;if(o&&Object.prototype.hasOwnProperty.call(o,e)){var l=o[e];"@:"===l.substr(0,2)?R(l.substr(2),t,n).then(i.resolve,i.reject):i.resolve(s.interpolate(l,t))}else{var u;c&&!F&&(u=G(e)),a&&r&&r.length?z(e,t,s).then(function(e){i.resolve(e)},function(e){i.reject(B(e))}):c&&!F&&u?i.resolve(u):i.reject(B(e))}return i.promise},X=function(e,t,n){var i,o=a?g[a]:g,s=n?j[n]:N;if(o&&Object.prototype.hasOwnProperty.call(o,e)){var l=o[e];i="@:"===l.substr(0,2)?X(l.substr(2),t,n):s.interpolate(l,t)}else{var u;c&&!F&&(u=G(e)),a&&r&&r.length?(x=0,i=Y(e,t,s)):i=c&&!F&&u?u:B(e)}return i};if(R.preferredLanguage=function(e){return e&&I(e),t},R.cloakClassName=function(){return T},R.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(M(e),d&&r&&r.length)for(var t=0,n=r.length;n>t;t++)U[r[t]]||(U[r[t]]=H(r[t]));R.use(R.use())}return i?r[0]:r},R.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=E(r,e);t>-1&&(L=t)}else L=0},R.proposedLanguage=function(){return o},R.storage=function(){return S},R.use=function(e){if(!e)return a;var t=v.defer();l.$emit("$translateChangeStart",{language:e});var n=C(e);return n&&(e=n),g[e]||!d||U[e]?(t.resolve(e),_(e)):(o=e,U[e]=H(e).then(function(n){P(n.key,n.table),t.resolve(n.key),_(n.key),o===e&&(o=void 0)},function(e){o===e&&(o=void 0),l.$emit("$translateChangeError",{language:e}),t.reject(e),l.$emit("$translateChangeEnd",{language:e})})),t.promise},R.storageKey=function(){return O()},R.isPostCompilingEnabled=function(){return w},R.refresh=function(e){function t(){i.resolve(),l.$emit("$translateRefreshEnd",{language:e})}function n(){i.reject(),l.$emit("$translateRefreshEnd",{language:e})}if(!d)throw Error("Couldn't refresh translation table, no loader registered!");var i=v.defer();if(l.$emit("$translateRefreshStart",{language:e}),e)g[e]?H(e).then(function(n){P(n.key,n.table),e===a&&_(a),t()},n):n();else{var o=[],s={};if(r&&r.length)for(var c=0,u=r.length;u>c;c++)o.push(H(r[c])),s[r[c]]=!0;a&&!s[a]&&o.push(H(a)),v.all(o).then(function(e){angular.forEach(e,function(e){g[e.key]&&delete g[e.key],P(e.key,e.table)}),a&&_(a),t()})}return i.promise},R.instant=function(e,n,i){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var o={},s=0,l=e.length;l>s;s++)o[e[s]]=R.instant(e[s],n,i);return o}if(angular.isString(e)&&1>e.length)return e;e&&(e=D.apply(e));var u,d=[];t&&d.push(t),a&&d.push(a),r&&r.length&&(d=d.concat(r));for(var p=0,h=d.length;h>p;p++){var f=d[p];if(g[f]&&g[f][e]!==void 0&&(u=X(e,n,i)),u!==void 0)break}return u||""===u||(u=N.interpolate(e,n),c&&!F&&(u=G(e))),u},R.versionInfo=function(){return k},R.loaderCache=function(){return m},d&&(angular.equals(g,{})&&R.use(R.use()),r&&r.length))for(var Z=function(e){P(e.key,e.table)},et=0,tt=r.length;tt>et;et++)U[r[et]]=H(r[et]).then(Z);return R}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(e){var t,n={},r="default",i=null,a={escaped:function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=angular.element("<div></div>").text(e[n]).html());return t}},o=function(e){var t;return t=angular.isFunction(a[i])?a[i](e):e};return n.setLocale=function(e){t=e},n.getInterpolationIdentifier=function(){return r},n.useSanitizeValueStrategy=function(e){return i=e,this},n.interpolate=function(t,n){return i&&(n=o(n)),e(t)(n||{})},n}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(e,t,n,r,i,a){return{restrict:"AE",scope:!0,compile:function(t,o){var s=o.translateValues?o.translateValues:void 0,l=o.translateInterpolation?o.translateInterpolation:void 0,c=t[0].outerHTML.match(/translate-value-+/i),u="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)";return function(t,d,p){if(t.interpolateParams={},t.preText="",t.postText="",p.$observe("translate",function(e){if(angular.equals(e,"")||!angular.isDefined(e)){var r=d.text().match(u);angular.isArray(r)?(t.preText=r[1],t.postText=r[3],t.translationId=n(r[2])(t.$parent)):t.translationId=d.text().replace(/^\s+|\s+$/g,"")}else t.translationId=e}),p.$observe("translateDefault",function(e){t.defaultText=e}),s&&p.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,i(e)(t.$parent))})}),c){var h=function(e){p.$observe(e,function(n){t.interpolateParams[angular.lowercase(e.substr(14,1))+e.substr(15)]=n})};for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&"translateValue"===f.substr(0,14)&&"translateValues"!==f&&h(f)}var m=function(t,n,i){i||void 0===n.defaultText||(t=n.defaultText),d.html(n.preText+t+n.postText);var a=e.isPostCompilingEnabled(),s=o.translateCompile!==void 0,l=s&&"false"!==o.translateCompile;(a&&!s||l)&&r(d.contents())(n)},g=function(){return s||c?function(){var n=function(){t.translationId&&t.interpolateParams&&e(t.translationId,t.interpolateParams,l).then(function(e){m(e,t,!0)},function(e){m(e,t,!1)})};t.$watch("interpolateParams",n,!0),t.$watch("translationId",n)}:function(){var n=t.$watch("translationId",function(r){t.translationId&&r&&e(r,{},l).then(function(e){m(e,t,!0),n()},function(e){m(e,t,!1),n()})},!0)}}(),v=a.$on("$translateChangeSuccess",g);g(),t.$on("$destroy",v)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(e,t){return{compile:function(n){var r=e.$on("$translateChangeEnd",function(){n.removeClass(t.cloakClassName()),r(),r=null});n.addClass(t.cloakClassName())}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(e,t){var n=function(n,r,i){return angular.isObject(r)||(r=e(r)(this)),t.instant(n,r,i)};return n.$stateful=!0,n}]),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){return function(n){if(!n||!angular.isString(n.prefix)||!angular.isString(n.suffix))throw Error("Couldn't load static files, no prefix or suffix specified!");var r=e.defer();return t(angular.extend({},n.$http,{url:[n.prefix,n.key,n.suffix].join(""),method:"GET",params:""})).success(function(e){r.resolve(e)}).error(function(){r.reject(n.key)}),r.promise}}]),angular.module("pascalprecht.translate").provider("$translatePartialLoader",function(){function e(e){this.name=e,this.isActive=!0,this.tables={}}function t(e){return Object.prototype.hasOwnProperty.call(a,e)}function n(e){return angular.isString(e)&&""!==e}function r(e){if(!n(e))throw new TypeError("Invalid type of a first argument, a non-empty string expected.");return t(e)&&a[e].isActive}function i(e,t){for(var n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},i(e[n],t[n])):e[n]=t[n];return e}e.prototype.parseUrl=function(e,t){return e.replace(/\{part\}/g,this.name).replace(/\{lang\}/g,t)},e.prototype.getTable=function(e,t,n,r,i,a){var o=t.defer();if(this.tables[e])o.resolve(this.tables[e]);else{var s=this;n(angular.extend({},r,{method:"GET",url:this.parseUrl(i,e)})).success(function(t){s.tables[e]=t,o.resolve(t)}).error(function(){a?a(s.name,e).then(function(t){s.tables[e]=t,o.resolve(t)},function(){o.reject(s.name)}):o.reject(s.name)})}return o.promise};var a={};this.addPart=function(r){if(!n(r))throw new TypeError("Couldn't add part, part name has to be a string!");return t(r)||(a[r]=new e(r)),a[r].isActive=!0,this},this.setPart=function(r,i,o){if(!n(r))throw new TypeError("Couldn't set part.`lang` parameter has to be a string!");if(!n(i))throw new TypeError("Couldn't set part.`part` parameter has to be a string!");if("object"!=typeof o||null===o)throw new TypeError("Couldn't set part. `table` parameter has to be an object!");return t(i)||(a[i]=new e(i),a[i].isActive=!1),a[i].tables[r]=o,this},this.deletePart=function(e){if(!n(e))throw new TypeError("Couldn't delete part, first arg has to be string.");return t(e)&&(a[e].isActive=!1),this},this.isPartAvailable=r,this.$get=["$rootScope","$injector","$q","$http","$translate",function(o,s,l,c,u){var d=function(e){function r(e){d.push(e)}if(!n(e.key))throw new TypeError("Unable to load data, a key is not a non-empty string.");if(!n(e.urlTemplate))throw new TypeError("Unable to load data, a urlTemplate is not a non-empty string.");var o=e.loadFailureHandler;if(void 0!==o){if(!angular.isString(o))throw Error("Unable to load data, a loadFailureHandler is not a string.");o=s.get(o)}var u=[],d=[],p=l.defer();for(var h in a)t(h)&&a[h].isActive&&(u.push(a[h].getTable(e.key,l,c,e.$http,e.urlTemplate,o).then(r)),a[h].urlTemplate=e.urlTemplate);return u.length?l.all(u).then(function(){for(var e={},t=0;d.length>t;t++)i(e,d[t]);p.resolve(e)},function(){p.reject(e.key)}):p.resolve({}),p.promise};return d.addPart=function(r){if(!n(r))throw new TypeError("Couldn't add part, first arg has to be a string");return t(r)?a[r].isActive||(a[r].isActive=!0,o.$emit("$translatePartialLoaderStructureChanged",r)):(a[r]=new e(r),o.$emit("$translatePartialLoaderStructureChanged",r)),d},d.deletePart=function(e,r){if(!n(e))throw new TypeError("Couldn't delete part, first arg has to be string");if(void 0===r)r=!1;else if("boolean"!=typeof r)throw new TypeError("Invalid type of a second argument, a boolean expected.");if(t(e)){var i=a[e].isActive;if(r){var l=u.loaderCache();"string"==typeof l&&(l=s.get(l)),"object"==typeof l&&angular.forEach(a[e].tables,function(t,n){l.remove(a[e].parseUrl(a[e].urlTemplate,n))}),delete a[e]}else a[e].isActive=!1;i&&o.$emit("$translatePartialLoaderStructureChanged",e)}return d},d.isPartAvailable=r,d}]}),function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,r){function i(){var e,i,a,l;for(e in s)u(o[e])&&r.cookies(e,n);for(e in o)i=o[e],t.isString(i)?i!==s[e]&&(r.cookies(e,i),l=!0):t.isDefined(s[e])?o[e]=s[e]:delete o[e];if(l){l=!1,a=r.cookies();for(e in o)o[e]!==a[e]&&(u(a[e])?delete o[e]:o[e]=a[e],l=!0)}}var a,o={},s={},l=!1,c=t.copy,u=t.isUndefined;return r.addPollFn(function(){var t=r.cookies();a!=t&&(a=t,c(t,s),c(t,o),l&&e.$apply())})(),l=!0,e.$watch(i),o}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var r=e[n];return r?t.fromJson(r):r},put:function(n,r){e[n]=t.toJson(r)},remove:function(t){delete e[t]}}}])}(window,window.angular),function(e,t,n){t.module("secondaryFlow.debug",[]),t.module("hal-ship",["ui.router","ui.bootstrap","restangular","pascalprecht.translate","templates-app","templates-components","ApplicationConfiguration","hal-ship.filters.makeTeaserText","hal-ship.filters.htmlCleaner","hal-ship.core.Analytics","hal-ship.services.AuthService","hal-ship.core.CacheManagerService","hal-ship.services.CdsService","hal-ship.services.DiningService","hal-ship.core.ErrorReportingService","hal-ship.services.ModalFactoryService","hal-ship.core.NetworkStatus","hal-ship.services.ShipTimeService","hal-ship.services.ShoreExcursionsService","hal-ship.core.PreloaderService","hal-ship.services.ShipPreloaderService","hal-ship.directives.birthdatePicker","hal-ship.directives.authGuestInfoForm","hal-ship.directives.dayPortInfo","hal-ship.directives.eventDetails","hal-ship.directives.fallbackImg","hal-ship.directives.fieldMatchCheck","hal-ship.directives.halBackNav","hal-ship.directives.halContentLoader","hal-ship.directives.halModal","hal-ship.directives.halNetworkStatusIcon","hal-ship.directives.halShipHeader","hal-ship.directives.halShipTime","hal-ship.directives.halSubnav","hal-ship.directives.halTimeBanner","hal-ship.directives.halWaitModal","hal-ship.directives.notificationDialog","hal-ship.directives.scheduleView","hal-ship.directives.restaurantSummary","hal-ship.directives.validatePin","hal-ship.directives.verboseFormError","hal-ship.directives.shorexSummary","hal-ship.directives.eventSummary","hal-ship.directives.scheduleView","hal-ship.directives.halLoadingScreen","hal-ship.directives.termsAndConditions","hal-ship.diningOptions","hal-ship.excursionDetails","hal-ship.feedback","hal-ship.myItinerary","hal-ship.login","hal-ship.logout","hal-ship.onboardEvents","hal-ship.recoverAuthentication","hal-ship.registration","hal-ship.restaurantDetails","hal-ship.ship","hal-ship.shipItinerary","hal-ship.shoreExcursions","hal-ship.development"]).config(["$provide",function(e){e.decorator("$q",["$delegate",function(e){var t=e;return t.allSettled=function(e){return t.all(e.map(function(e){return e.then(function(e){return{state:"fulfilled",value:e}},function(e){return{state:"rejected",reason:e}})}))},t}])}]).config(["$provide",function(t){t.decorator("$exceptionHandler",["$delegate","$injector",function(e,t){return function(e,n){var r=r||t.get("ErrorReportingService");r.addHandler(r.consoleHandler);var i="Unhandled Exception";n&&(i=": "+n),r.handleError(r.createApplicationError(i,null,e),!1)}}]),t.decorator("$uiViewScroll",function(){return function(){e.scrollTo(0,0)}})}]).config(["$translateProvider","$translatePartialLoaderProvider",function(e,t){e.useLoader("$translatePartialLoader",{urlTemplate:"assets/i18n/locale-{lang}-{part}.json"}),t.addPart("lang"),t.addPart("error"),e.preferredLanguage("en")}]).config(["AnalyticsServiceProvider","DefaultAnalyticsHandlerProvider",function(e){e.addHandler("DefaultAnalyticsHandler")}]).config(["$urlRouterProvider","RestangularProvider",function(e,t){t.setBaseUrl("/hal-ds-ship/api"),t.setDefaultHttpFields({timeout:6e4,withCredentials:!0}),e.otherwise("/ship")}]).run(["ErrorReportingService","$translate","$filter","AnalyticsService",function(e,t,n,r){t.fallbackLanguage("en"),t.use("en"),r.initialize()}]).controller("MainController",["$scope","$filter","$state","$stateParams","$location","$rootScope","$window","AuthService","CacheManagerService","ShoreExcursionsService","AnalyticsService","DiningService","ModalFactoryService","PreloaderService","CdsService","ShipTimeService","$q","EventsService","ItineraryService","ShipPreloaderService",function(e,n,r,i,a,o,s,l,c,u,d,p,h,f,m,g,v,y,b,$){e.loadingScreenVisible=!0;var T;e.loadingMessage="Please wait, loading information for your cruise.",e.loadingDetailsMessage="";var w=function(t){for(var n="Debug Information",r=!1,i=0;t.length>i;i++){var a=t[i].state,o=null;"fulfilled"===a?o=t[i].value:(o=t[i].reason,o.assetRecord.critical&&(r=!0,e.loadingMessage="There was an error, please reload the application and try again.",n=n+"\n= = = = = = = = = = = = = = = = = = = = =\n"+JSON.stringify(o.assetRecord,null,"	"),e.loadingDetailsMessage=n))}e.loadingScreenVisible=r};if(e.$on("LOGIN_EVENT",function(){c.clear(),e.loadingScreenVisible=!0,$.preloadOnLogin().then(w)}),e.$on("LOGOUT_EVENT",function(){c.clear(),e.loadingScreenVisible=!0,$.preloadOnLogout().then(w)}),l.isAuthenticated()?$.preloadOnLogin().then(w):$.preloadOnLogout().then(w),o.modalIsOpen=!1,e.currentUser=null,e.androidDevice=/\bAndroid\b/.test(s.navigator.userAgent)||!1,!c.cacheEnabled()){var S={heading:"Warning",message:"<p>Please turn off Private Browsing for an optimized experience!</p>"};h.createWarningModal(S)}e.isAllowed=function(e){return l.authorize(e)},e.$on("$stateChangeStart",function(e,n){t.isDefined(n.accessLevels)}),e.$on("$stateChangeSuccess",function(n,r){t.isDefined(r.data)&&t.isDefined(r.data.pageTitle)&&(e.pageTitle=r.data.pageTitle),e.noBackNav=t.isDefined(r.data)&&t.isDefined(r.data.noBackNav)?r.data.noBackNav:!1;var i,o=Date.now();i=T?o-T:0,T=o,d.triggerEvent("Navigation","Navigate","TimeOnLastPage",i),d.navigate(a.url(),r.data.pageTitle,r.name)}),e.$on("$stateChangeError",function(e,t,n,r,i,a){console.log("Unable to change state due to error."),console.log(a)})}]),function(){for(var t,n=function(){},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=r.length,a=e.console=e.console||{};i--;)t=r[i],a[t]||(a[t]=n)}(),t.module("hal-ship.development",["ui.router","pascalprecht.translate","hal-ship.core.ErrorReportingService","hal-ship.services.AuthService","hal-ship.services.ModalFactoryService","hal-ship.core.Analytics"]).config(["$stateProvider",function(e){e.state("development",{url:"/development",views:{main:{controller:"DevelopmentController",templateUrl:"development/development.tpl.html"}},data:{pageTitle:"Developers!! Developers!! Developers!!"}})}]).controller("DevelopmentController",["$scope","$timeout","ErrorReportingService","AuthService","ModalFactoryService","AnalyticsService",function(e,t,n,r,i,a){e.testUsers={obxsqick2512:{type:"SHIP",firstName:"OJBERT",lastName:"BXSQICK",cabinNumber:"2512",birthDate:"19460411",secretQuestion:"Who is your favorite actor?",secretAnswer:"Brando",pinCode:"9999"},hhxnqrick7019:{type:"SHIP",firstName:"HDAL",lastName:"HXNQRICK",cabinNumber:"7019",birthDate:"19400411",secretQuestion:"Who am I?",secretAnswer:"HDAL",pinCode:"8888"},dsxpq1942:{type:"SHIP",firstName:"DXA ELISABETH",lastName:"SXPQ",cabinNumber:"1942",birthDate:"20080411",secretQuestion:"Who is your favorite actor?",secretAnswer:"Denzel",pinCode:"9999"}},e.unlockUser=function(t){var i=e.testUsers[t];i.acceptedTerms=!0,r.registerGuestAsUser(i).then(function(e){console.log("authObj = %o",e),n.handleError(n.createApplicationInfo("Guests password has been reset.")),console.log("oh yeah")},function(e){n.handleError(n.createApplicationError("Failed to re-register guest",null,e))})},e.failLogin=function(t,n,i){r.login(t,n).then(function(){},function(){if(i>=0){var r=i-1;e.failLogin(t,n,r)}})},e.getQuestion=function(t){var n=e.testUsers[t],i={firstName:n.firstName,lastName:n.lastName,cabinNumber:n.cabinNumber,birthDate:n.birthDate};r.getUserSecretQuestion(i).then(function(e){console.log("Here's the data: %o",e)},function(e){console.log("You got yourself an error, friend: %o",e)})},e.lockUser=function(t){e.failLogin("0000",t,5)},e.loginUser=function(t){var i=e.testUsers[t];r.login(i.pinCode,t).then(function(){n.handleError(n.createApplicationInfo("Guests password has been logged in."),!0)},function(e){n.handleError(n.createApplicationError("Failed to login guest",null,e))})},e.triggerError=function(e){var t;t=e?""+Math.random():"development",console.log("Key: %o",t),n.handleError(n.createApplicationError("This is an example error message.",null,null,t),!0)},e.triggerUniqueError=function(){e.triggerError(!0)},e.triggerWarning=function(e){var t;t=e?""+Math.random():"development",console.log("Key: %o",t),n.handleError(n.createApplicationWarning("This is an example warning message.",null,null,t),!0)},e.triggerUniqueWarning=function(){e.triggerWarning(!0)},e.triggerInfo=function(e){var t;t=e?""+Math.random():"development",console.log("Key: %o",t),n.handleError(n.createApplicationInfo("This is an example informational message.",null,null,t),!0)},e.triggerUniqueInfo=function(){e.triggerInfo(!0)},e.triggerModal=function(){e.modal={heading:"Success modal",message:"<p>This is a success message!</p><p>HTML is allowed (and expected) for the 'message' property</p>"},i.createSuccessModal(e.modal)},e.triggerModalWarning=function(){e.modal={heading:"Warning modal",message:"<p>This is a warning message!</p><p>HTML is allowed (and expected) for the 'message' property</p>"},i.createWarningModal(e.modal)},e.triggerModalError=function(){e.modal={heading:"Error modal",message:"<p>This is an error message!</p><p>HTML is allowed (and expected) for the 'message' property</p>"},i.createErrorModal(e.modal)},e.triggerModalWait=function(){var e=i.createWaitModal("This modal closes after 5 seconds.");t(function(){e.close()},5e3)},e.eventClickCount=0,e.triggerAnalyticsEvent=function(){e.eventClickCount++,a.triggerEvent("Development Events","Test Button Clicked","Click Count",e.eventClickCount)},e.goalClickCount=0,e.triggerAnalyticsGoal=function(){e.goalClickCount++,a.triggerGoal("DevelopmentGoalClicked",e.goalClickCount)}}]),t.module("hal-ship.diningOptions",["ui.router","hal-ship.services.DiningService","hal-ship.core.ErrorReportingService","hal-ship.services.ShipTimeService","hal-ship.services.ItineraryService"]).config(["$stateProvider",function(e){e.state("diningOptions",{url:"/diningOptions/:dateString",views:{main:{controller:"DiningOptionsController",templateUrl:"diningOptions/diningOptions.tpl.html"}},resolve:{itinerary:["ItineraryService",function(e){return e.getShipItinerary()}]},data:{pageTitle:"Dining"}})}]).controller("DiningOptionsController",["$scope","$state","$stateParams","$filter","$q","DiningService","itinerary","ErrorReportingService","ShipTimeService",function(e,t,n,r,i,a,o,s,l){var c={uiText:"View All Dining",calendarDate:""},u=function(){var e=i.defer();return l.getTime().then(function(t){e.resolve({currentDay:r("date")(t,"yyyyMMdd"),currentTime:r("date")(t,"HH:mm")})},function(){var t=new Date;e.resolve({currentDay:r("date")(t,"yyyyMMdd"),currentTime:r("date")(t,"HH:mm")})}),e.promise},d=function(){e.noData=!1,e.loading=!1},p=function(t){e.noData=!0,e.loading=!1,e.pageNotice="There was a problem fetching data. Please connect to the ship WiFi and try again.",s.handleError(t,!1)};if(e.loading=!0,e.noData=!1,e.pageNotice="",e.voyageDates=o,e.voyageDates.unshift(c),e.restaurantData={},e.selectedDay=n.dateString||c,e.selectedDay)for(var h=0;e.voyageDates.length>h;h++){var f=e.voyageDates[h];f.calendarDate===e.selectedDay&&(e.selectedDay=f)}e.getRestaurantsForDate=function(t,n,r){a.getRestaurantsForDate(t,n,r).then(function(t){0===t.length?e.noDining=!0:(e.noDining=!1,e.restaurantData=t),d()},function(e){p(e)})},e.getRestaurantsForVoyage=function(t,n,r){a.getRestaurantsForVoyage(t,n,r).then(function(n){0===n.length?e.noDining=!0:(e.noDining=!1,e.restaurantData=n,e.selectedDay.calendarDate=t),d()},function(e){p(e)})},e.changeSelectedDate=function(e){e!==c&&t.go("diningOptions",{dateString:e.calendarDate},{notify:!1}),e===c&&t.go("diningOptions",{dateString:""},{notify:!1})},e.$watch("selectedDay",function(t){e.changeSelectedDate(t),t!==c&&u().then(function(n){return e.getRestaurantsForDate(t.calendarDate,n.currentTime,n.currentDay)}),t===c&&u().then(function(t){return e.getRestaurantsForVoyage(t.currentDay,t.currentTime,t.currentDay)})}),u()}]),t.module("hal-ship.excursionDetails",["ui.router","hal-ship.purchaseExcursion","hal-ship.core.Analytics","hal-ship.services.ShoreExcursionsService","hal-ship.services.CdsService"]).config(["$stateProvider",function(e){e.state("excursionDetails",{url:"/excursionDetails/:excursionID/:departureID",views:{main:{controller:"ExcursionDetailsController",templateUrl:"excursionDetails/excursionDetails.tpl.html"}},resolve:{},data:{pageTitle:"Excursion Details"}})}]).controller("ExcursionDetailsController",["$stateParams","$scope","ShoreExcursionsService","CdsService","$sce","$filter","AnalyticsService",function(t,n,r,i,a,o,s){e.scrollTo(0,0),n.excursionID=t.excursionID,n.departureID=t.departureID,r.getDepartureForId(n.excursionID,n.departureID).then(function(e){e.shortDescription=o("makeTeaserText")(e.description,25),e.description=a.trustAsHtml(e.description),n.excursion=e}),n.isBooked=t.isBooked?!0:!1,s.triggerGoal("ExcursionDetailsViewed",n.excursionID)}]),t.module("hal-ship.feedback",["ui.router","hal-ship.services.UserService","hal-ship.services.AuthService","hal-ship.services.ModalFactoryService","hal-ship.core.NetworkStatus","hal-ship.core.ErrorReportingService"]).config(["$stateProvider",function(e){e.state("feedback",{url:"/feedback",views:{main:{controller:"FeedbackController",templateUrl:"feedback/feedback.tpl.html"}},data:{pageTitle:"User Feedback"}})}]).controller("FeedbackController",["$scope","$state","UserService","AuthService","ModalFactoryService","ErrorReportingService","NetworkStatusService",function(e,t,n,r,i,a,o){e.feedbackSubmitted=n.hasProvidedFeedback(),e.guestFeedback={},e.ratings=["Very Satisfied","Satisfied","Neither satisfied nor dissatisfied","Dissatisfied","Very dissatisfied"];
var s=r.getCurrentUser();e.networkService=o,e.$watch("networkService.status",function(t){e.offline="offline"===t}),e.submit=function(){console.log("trying to submit"),e.guestFeedback.user=s?s.principal:"anonymous",n.addUserFeedback(e.guestFeedback).then(function(t){console.log("addUserFeedback (controller) data: %o",t),e.feedbackSubmitted=!0},function(n){e.feedbackSubmitted=!1;var o;o=n.hasOwnProperty("httpResponse")?n.httpResponse:n,403==o.status||401==o.status.status?i.createErrorModal({heading:"Session Expired",message:"<p>Your session has expired.  Please login again.</p>",callback:function(){r.logout(),t.go("login")}}):a.handleError(a.createServerError("An unexpected problem has occurred. Please try again later.",null,n,null),!0)})}}]),t.module("hal-ship.login",["ui.router","pascalprecht.translate","hal-ship.services.AuthService","hal-ship.core.ErrorReportingService","hal-ship.core.NetworkStatus"]).config(["$stateProvider",function(e){e.state("login",{url:"/login",views:{main:{controller:"LoginController",templateUrl:"login/login.tpl.html"}},data:{pageTitle:"User Login",noBackNav:!0}})}]).controller("LoginController",["$scope","ErrorReportingService","$window","AuthService","$state","NetworkStatusService",function(e,t,n,r,i,a){function o(t){e.errorObject.userError=!0,0>e.errorObject.messages.indexOf(t)&&e.errorObject.messages.push(t)}var s={500:"We are experiencing difficulties communicating with our ship servers.",401:"We are unable to verify account. Please try again.",403:"Your account is locked."};e.currentUser=r.getCurrentUser(),e.currentUser&&i.go("ship"),e.errorObject={userError:!1,messages:[]},e.userLoginStep="step-1",e.user={pin:"",id:""},e.networkService=a,e.$watch("networkService.status",function(t){e.offline="offline"===t}),e.userLogin=function(){r.login(e.user.pin,e.user.id).then(function(t){n.scrollTo(0,-100),e.user.firstName=t.details.firstName,e.user.lastName=t.details.lastName,e.user.userName=t.details.userName,e.userLoginStep="next-step"},function(e){var n=e.status,r=s[n]?s[n]:s[401];o(r),t.handleError(t.createApplicationError(r))})}}]),t.module("hal-ship.logout",["ui.router","pascalprecht.translate","hal-ship.services.AuthService","hal-ship.core.ErrorReportingService"]).config(["$stateProvider",function(e){e.state("logout",{url:"/logout",views:{main:{controller:"LogoutController",templateUrl:"logout/logout.tpl.html"}},data:{pageTitle:"User Logout"}})}]).controller("LogoutController",["$scope","$state","AuthService",function(e,t,n){e.currentUser=n.getCurrentUser(),e.currentUser||t.go("login"),e.userLogout=function(){n.logout(),t.go("login")}}]),t.module("hal-ship.myItinerary",["ui.router","hal-ship.services.ItineraryService","hal-ship.services.AuthService","hal-ship.services.ModalFactoryService"]).config(["$stateProvider",function(e){e.state("myItinerary",{url:"/myItinerary/:dateString",views:{main:{controller:"MyItineraryController",templateUrl:"myItinerary/myItinerary.tpl.html"}},resolve:{itinerary:["ItineraryService",function(e){return e.getFullShipItinerary()}]},data:{pageTitle:"My Itinerary"}})}]).controller("MyItineraryController",["$scope","$stateParams","$rootScope","$state","$filter","$location","itinerary","AuthService","ItineraryService","ShipTimeService","ModalFactoryService",function(e,t,n,r,i,a,o,s,l,c,u){n.$on("$stateChangeStart",function(e,t){"myItinerary"!==t.name||s.isAuthenticated()||(e.preventDefault(),r.go("ship"))}),e.noData=!1,e.voyageDates=o,e.selectedDay=t.dateString||i("date")(new Date,"yyyyMMdd");var d=6,p=23,h=[];e.init=function(){f()},e.detailLink=function(t){t.type===l.EventType.shorex&&r.go("excursionDetails",{excursionID:t.eventID,departureID:t.departureID}),t.type===l.EventType.onBoard&&r.go("onboardEvents",{dateString:e.selectedDay.calendarDate}),t.type===l.EventType.dining&&c.getToday().then(function(e){r.go("restaurantDetails",{restaurantKey:t.restaurantKey,serviceDate:e})})};var f=function(){e.loading=!0,m();var t={};l.getItineraryForDay(e.selectedDay.calendarDate).then(function(n){t=n;for(var r=[],a=[],o=0;h.length>o;o++){var s=h[o],l={hour:"",events:[]};l.hour=s,l.displayHour=y(s);for(var c=0;t.length>c;c++){var u=t[c],d=i("date")(u.startTime,"HH");s===d&&l.events.push(u),u.availableInPort&&-1===a.indexOf(u)&&a.push(u)}r.push(l)}g(r),e.loading=!1,e.itinerary=r,e.availableInPort=a},function(t){e.loading=!1,403==t.status||401==t.status.status?u.createErrorModal({heading:"Session Expired",message:"<p>Your session has expired.  Please login again.</p>",callback:function(){s.logout(),r.go("login")}}):(e.noData=!0,e.pageNotice="There was a problem in fetching your itinerary details.  Please try again or contact a member of our staff.")})},m=function(){h=[];for(var e=d;p>=e;e++){var t=""+e;10>t&&(t="0"+t),h.push(t)}},g=function(e){for(var t=[],n=e.length-1;n>0;n--){var r=e[n];if(v(r.events)){t.push(r.displayHour);var i=e[n-1];v(i.events)&&(i.displayHour=i.displayHour+" - "+t[0],e.splice(n,1))}else t=[]}},v=function(e){return!e.length},y=function(e){var t=new Date;t.setUTCHours(e);var n=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes());return i("date")(n,"h:00 a")};if(e.addItem=function(t,n){r.go(t,{dateString:e.selectedDay.calendarDate,selectedHour:n})},e.changeDay=function(e){r.go("myItinerary",{dateString:e})},e.selectedDay)for(var b=0;e.voyageDates.length>b;b++){var $=e.voyageDates[b];$.calendarDate===e.selectedDay&&(e.selectedDay=$)}e.$watch("selectedDay",function(t){e.changeDay(t.calendarDate)}),e.init()}]),t.module("hal-ship.onboardEvents",["ui.router","hal-ship.services.EventsService","hal-ship.services.AuthService","hal-ship.services.ModalFactoryService","hal-ship.core.NetworkStatus"]).config(["$stateProvider",function(e){e.state("onboardEvents",{url:"/onboardEvents?selectedHour",views:{main:{controller:"OnboardEventsController",templateUrl:"onboardEvents/onboardEvents.tpl.html"}},resolve:{itinerary:["ItineraryService",function(e){return e.getShipItinerary()}]},data:{pageTitle:"Happening On Board"}})}]).controller("OnboardEventsController",["$state","$stateParams","$scope","$q","itinerary","EventsService","$filter","ErrorReportingService","ItineraryService","AuthService","ModalFactoryService","NetworkStatusService",function(e,t,r,i,a,o,s,l,c,u,d,p){function h(e){var t="<h1>Thanks!</h1>";t+="You have added the item below to your Itinerary. </div>",t+="<div><strong>"+e.title+"</strong></div>",t+="<div><strong>Location:</strong> "+e.location+" </div>",t+="<div><strong>Time:</strong> "+e.uiTextEventTime+" </div>",r.modal={heading:"Activity Confirmation",message:t},d.createSuccessModal(r.modal)}r.voyageDates=a,r.selectedDay=t.dateString||s("date")(new Date,"yyyyMMdd"),r.selectedHour=t.selectedHour,r.loading=!0,r.noData=!1;var f=u.getCurrentUser()||{},m=f.principal;r.networkService=p,r.hasContent=!1,r.pageNotice="Disclaimer: Some events may change on a moment’s notice. These may not be reflected electronically.";var g="There was a problem fetching data.  Please connect to the ship WiFi and try again.";r.schedule=[],r.getItineraryDay=function(e){for(var t=0;r.voyageDates.length>t;t++)if(r.voyageDates[t].calendarDate===e)return r.voyageDates[t];return null},r.convertToStandardTime=function(e){var t=e.split(":")[0],n=e.split(":")[1];return new Date(null,null,null,t,n)},r.convertDateTime=function(e){var t=e.split("T"),n=t[0].split("-");return{date:_.reduce(n,function(e,t){return e+t},""),time:t[1]}},r.getTomorrowsDate=function(e){var t={year:parseInt(e.substring(0,4)),month:parseInt(e.substring(4,6)),day:parseInt(e.substring(6,8))},n=new Date(t.year,t.month-1,t.day+1);return s("date")(n,"yyyyMMdd")},r.getCurrentDateTime=function(){var e=i.defer();return c.getInfoForToday().then(function(t){var n=r.convertDateTime(t.dateTime),i={date:n.date,time:n.time};e.resolve(i)},function(){var t=new Date,n={date:s(t,"yyyyMMdd"),time:s(t,"HH:mm")};e.resolve(n)}),e.promise},r.createScheduleObject=function(e,t,n){for(var i={uiText:t.dateTime+":"+t.portCode,dateTime:t.dateTime,calendarDate:t.calendarDate,description:t.description,portCode:t.portCode,arrivalTime:t.arrivalTime,allAboardTime:t.allAboardTime,hours:{}},a=0;e.length>a;a++){var o=e[a],l=o.startTime.substring(0,2);i.hours[l]||(i.hours[l]=[]);var c=n.time>o.startTime;o.hour=s("date")(r.convertToStandardTime(o.startTime),"HH"),o.uiTextHour=s("date")(r.convertToStandardTime(o.startTime),"h:00 a"),o.uiTextEventTime=s("date")(r.convertToStandardTime(o.startTime),"h:mm a"),o.disabled=o.booked,o.disabled=o.disabled||"offline"===p.status,n.date===o.startDate&&(o.disabled=o.disabled||c),i.hours[l].push(o)}return i},r.createSchedule=function(){var e=i.defer(),t=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=r.getItineraryDay(n);r.schedule.push(r.createScheduleObject(e[n],i,t))}r.noData=!1,r.loading=!1,r.hasContent=!0},n=function(e){r.pageNotice=g,r.noData=!0,r.loading=!1,l.handleError(e,!1)};return r.getCurrentDateTime().then(function(e){var a=r.getTomorrowsDate(e.date);i.all([o.getEventsByDate(e.date,m,!0),o.getEventsByDate(a,m,!1)]).then(function(n){t(n[0],e),t(n[1],e)},function(e){n(e)})}),e.promise},r.createSchedule(),r.addEvent=function(t){return m?(o.addEvent(m,t.id).then(function(){t.booked=!0,t.disabled=!0,h(t)},function(t){var n;n=t.hasOwnProperty("httpResponse")?t.httpResponse:t,403==n.status||401==n.status.status?d.createErrorModal({heading:"Session Expired",message:"<p>Your session has expired.  Please login again.</p>",callback:function(){u.logout(),e.go("login")}}):l.handleError(l.createServerError("An unexpected problem has occurred. Please try again later.",null,t,null),!0)}),n):(e.go("login"),l.handleError(l.createApplicationInfo("You must log in to add activities to your itinerary."),!0,!0),n)}}]),t.module("hal-ship.purchaseExcursion",["ui.router","hal-ship.core.Analytics","hal-ship.services.ShoreExcursionsService","hal-ship.core.ErrorReportingService","hal-ship.core.NetworkStatus","hal-ship.services.UserService","hal-ship.services.ModalFactoryService","hal-ship.services.AuthService","hal-ship.directives.validatePin"]).config(["$stateProvider",function(e){e.state("purchaseExcursion",{url:"/purchaseExcursion/:excursionID/:departureID",views:{main:{controller:"PurchaseExcursionController",templateUrl:"purchaseExcursion/purchaseExcursion.tpl.html"}},resolve:{},data:{pageTitle:"Buy Shore Excursion"}})}]).controller("PurchaseExcursionController",["$stateParams","$timeout","$scope","$state","$sce","ShoreExcursionsService","ErrorReportingService","NetworkStatusService","UserService","ModalFactoryService","AuthService","$filter","AnalyticsService",function(e,t,r,i,a,o,s,l,c,u,d,p,h){function f(){var e=p("currency")(r.departure.adultPrice,"$"),t=r.departure.childPrice>0?p("currency")(r.departure.childPrice,"$"):e,n=p("makeTeaserText")(r.departure.description,25);n=a.trustAsHtml(n);var o='<div class="excursion-details"><h1>'+r.departure.title+"</h1>";o+="<p>"+n+"</p>",o+="<div><span><strong>Duration: </strong>"+r.departure.duration+" hours </span></div>",o+="<div><span><strong>Activity Level: </strong>"+r.departure.activityLevel+"</span></div>",o+="<div><span><strong>Date: </strong>"+p("date")(r.departure.dateTime,"fullDate")+"</span></div>",o+="<div><span><strong>Time: </strong>"+p("date")(r.departure.dateTime,"h:mm a")+"</span></div>",o+="<div><span><strong>Location: </strong>"+r.departure.meetingLocation+"</span></div>",o+="<div><span><strong>Cost:</strong>  <dd>",r.departure.adultPrice&&(o+="<dl>"+e+" / Adult </dl>"),r.departure.childPrice&&(o+="<dl>"+t+" / Child </dl>"),o+="</dd></div>",r.modal={heading:"Excursion Booked!",message:o},u.createSuccessModal(r.modal).then(function(){i.go("shoreExcursions",{dateString:r.departure.date})})}function m(e){var t={11100:"We're sorry, there are no spaces left on this excursion. Please select another departure time (if available).",0:"Please contact the shore excursion office for more information."},n=0;e&&e.data&&(n=e.data.statusCode);var i=t[n]?t[n]:t[0],a="<h1>There was a problem booking your excursion</h1>";a+="<pre>"+i+"</pre>",r.modal={heading:"Error booking excursion",message:a},u.createErrorModal(r.modal)}r.excursionID=e.excursionID,r.departureID=e.departureID,r.user=d.getCurrentUser(),r.networkService=l,r.alternateTimes=[],r.pinTimeout=6e4,r.networkConnection=!1,r.guestSelected=!1,r.validPinField=!1,r.bookingNumber=r.user?r.user.bookingNumber:null,r.loading=!0,r.guests=[],r.errorObject={pinError:{userError:!1,messages:[]}},r.model={pin:""},r.bookButtonEnabled=!1,r.totalCost=0,r.exceedsWeightThreshold=!1,r.networkStatus=function(){r.networkConnection="offline"===r.networkService.status?!1:!0},r.$watch("departure",function(){r.updateGuestSelection()}),r.updateGuestSelection=function(){r.totalCost=0,r.bookButtonEnabled=!1,r.exceedsWeightThreshold=!1,r.guestSelected=!1;for(var e=0;r.guests.length>e;e++)r.guests[e].selected&&(r.guestSelected=!0,r.totalCost+=r.guests[e].adult?r.departure.adultPrice:r.departure.childPrice>0?r.departure.childPrice:r.departure.adultPrice);return r.model.pin?(r.validPinField=!0,r.bookButtonEnable(),S(),k(),n):(S(),n)},r.getAlternateDeparturesForDate=function(){o.getDeparturesForExcursionId(r.excursionID).then(function(e){var t=r.departure.date,n=[],i=e;r.departure.uiText=r.departure.uiTextDepartureTime;for(var a=0;i.length>a;a++){var o=i[a],s=o.date;o.departureID!=r.departureID&&t===s&&(o.uiText=o.uiTextDepartureTime,n.push(o))}n.unshift(r.departure),n.sort(function(e,t){return e.dateTime<t.dateTime?-1:t.dateTime<e.dateTime?1:0}),r.alternateDepartures=n},function(e){s.handleError(s.createApplicationInfo("Failed to get alternate departures.",null,e))})},r.changeDeparture=function(){r.departure&&r.departure.dateTimeDprt&&i.go("purchaseExcursion",{excursionID:r.excursionID,departureID:r.departure.departureID})},r.isOverThreshold=function(e,t){return t?e>t:!1},r.attemptLogin=function(e,t){return d.authenticate(t,e)};var g=function(){for(var e=r.departure.seatsForSale||0,t=0,n=0;r.guests.length>n;n++)r.guests[n].selected&&t++;return e>=t},v=function(){return r.user.adult};r.confirmBooking=function(){var e={heading:"Purchase Warning",message:""},t=!0;v()||(t=!1,e.message="<p>You must be an adult to book excursions </p>"),g()||(t=!1,e.message="<p>Currently there is only enough space for "+r.departure.seatsForSale+" guest(s) on this tour.</p>"+"<p>You may add as many guests as you wish up to "+r.departure.seatsForSale+", or you may select a different departure time (if available).</p>"),t?y():(u.createWarningModal(e),$(),S())};var y=function(){var e=u.createWaitModal("Please wait while we attempt to confirm your booking.");r.bookButtonEnabled=!1;var t=r.model.pin;$(),S();for(var n=[],a=0;r.guests.length>a;a++)r.guests[a].selected&&n.push(r.guests[a].userId);var l=o.purchaseExcursion(r.departure.departureID,d.getCurrentUser().principal,t,n);l.then(function(){h.triggerGoal("PurchaseExcursion",r.totalCost),h.triggerEvent("Excursions","PurchasedItem","excursionId",r.excursionID),e.close(),f()},function(t){401===t.status?r.pinErrorMessage="Your Pin is invalid. Please re-enter it before proceeding.":403===t.status?u.createErrorModal({heading:"Session Expired",message:"<p>Your session has expired.  Please login again.</p>",callback:function(){d.logout(),i.go("login")}}):(s.handleError(s.createApplicationInfo("Authorization service call failed",null,t)),m(t)),e.close()})};r.user?c.getBookingByUserId(r.user.principal).then(function(e){r.guests.length=0;for(var t=0;e.length>t;t++){var n={name:"",adult:!1,selected:!1,weight:0,userId:null};e[t].userID&&(n.userId=e[t].userID),e[t].title&&(n.name+=e[t].title),e[t].firstName&&(n.name+=" "+e[t].firstName),e[t].lastName&&(n.name+=" "+e[t].lastName),"A"===e[t].ageCode&&(n.adult=!0),r.user.principal===n.userId&&(r.user.adult=n.adult),r.guests.push(n)}},function(e){var t;t=e.hasOwnProperty("httpResponse")?e.httpResponse:e,403==t.status||401==t.status.status?u.createErrorModal({heading:"Session Expired",message:"<p>Your session has expired.  Please login again.</p>",callback:function(){d.logout(),i.go("login")}}):s.handleError(e,!0)}):(i.go("login"),s.handleError(s.createApplicationInfo("You must log in to book shore excursions."),!0,!0)),o.getDepartureForId(r.excursionID,r.departureID).then(function(e){r.departure=e,r.departure?r.getAlternateDeparturesForDate():s.handleError(s.createApplicationError("No excursion departure was found with the id: "+r.departureID),!0),r.loading=!1},function(e){s.handleError(e,!0)}),r.bookButtonEnable=function(){r.bookButtonEnabled=r.networkConnection&&r.guestSelected&&!r.exceedsWeightThreshold&&r.validPinField?!0:!1},r.$watch("networkService.status",function(){r.networkStatus(),r.bookButtonEnable()});var b,$=function(){r.model.pin="",r.bookButtonEnabled=!1},T=function(){var e={heading:"Security Warning",message:"<p>For security purposes, we have cleared your PIN to prevent an accidental purchase.</p><p>If you would like to continue with this purchase, please re-enter your PIN.</p>"};u.createWarningModal(e)},w=function(){$(),T()},S=function(){t.cancel(b)},k=function(){b=t(w,r.pinTimeout)};r.$on("$locationChangeStart",function(){t.cancel(b)}),r.$on("$destroy",function(){t.cancel(b)})}]),t.module("hal-ship.recoverAuthentication",["ui.router","pascalprecht.translate","hal-ship.core.ErrorReportingService","hal-ship.services.AuthService","hal-ship.directives.fieldMatchCheck","hal-ship.directives.verboseFormError","hal-ship.core.NetworkStatus"]).config(["$stateProvider",function(e){e.state("recoverAuthentication",{url:"/recoverAuthentication",views:{main:{controller:"RecoverAuthenticationController",templateUrl:"recoverAuthentication/recoverAuthentication.tpl.html"}},data:{pageTitle:"Forgot PIN",noBackNav:!0}})}]).controller("RecoverAuthenticationController",["$scope","ErrorReportingService","$window","$state","AuthService","NetworkStatusService",function(t,n,r,i,a,o){function s(e,t){t&&e&&(e.userError=!0,0>e.messages.indexOf(t)&&e.messages.push(t))}t.currentUser=a.getCurrentUser(),t.currentUser&&i.go("ship");var l={networkError:"We are experiencing difficulties communicating with our ship servers.",registrationError:"We are unable to verify account. Please try again."};t.errorObject={registrationError:{userError:!1,messages:[]},secretAnswerError:{userError:!1,messages:[]}},t.networkService=o,t.verifiedUser={},t.guestInfo={},t.step="step-1",t.acceptedTerms=!1,t.$watch("networkService.status",function(e){t.offline="offline"===e}),t.getUserSecretQuestion=function(e){t.guestInfo={firstName:e.firstName,lastName:e.lastName,cabinNumber:e.cabinNumber,birthDate:e.birthdate},a.getUserSecretQuestion(t.guestInfo).then(function(n){r.scrollTo(0,-100),t.errorObject.registrationError.userError=!1,t.errorObject.registrationError.messages=[],t.step="step-2",e.secretQuestion=n.secretQuestion},function(e){var r=e.status;r>=500?(s(t.errorObject.registrationError,l.networkError),n.handleError(n.createApplicationError(l.networkError))):(s(t.errorObject.registrationError,l.registrationError),n.handleError(n.createApplicationError(l.registrationError)))})},t.recoverAuthentication=function(r){t.guestInfo.secretQuestion=r.secretQuestion,t.guestInfo.secretAnswer=r.secretAnswer,t.guestInfo.pinCode=r.pin,t.guestInfo.acceptedTerms=!0,a.registerGuestAsUser(t.guestInfo).then(function(n){e.scrollTo(0,-100),t.errorObject.registrationError.userError=!1,t.errorObject.registrationError.messages=[],t.step="success",t.verifiedUser=n},function(e){var r=e.status;r>=500?(s(t.errorObject.registrationError,l.networkError),n.handleError(n.createApplicationError(l.networkError))):(s(t.errorObject.registrationError,l.registrationError),n.handleError(n.createApplicationError(l.registrationError)))})}}]),t.module("hal-ship.registration",["ui.router","pascalprecht.translate","hal-ship.core.ErrorReportingService","hal-ship.services.AuthService","hal-ship.services.UserService","hal-ship.directives.fieldMatchCheck","hal-ship.directives.verboseFormError","hal-ship.core.NetworkStatus","hal-ship.directives.termsAndConditions"]).config(["$stateProvider",function(e){e.state("registration",{url:"/registration",views:{main:{controller:"RegistrationController",templateUrl:"registration/registration.tpl.html"}},data:{pageTitle:"User Registration",noBackNav:!0}})}]).controller("RegistrationController",["$scope","AuthService","UserService","ErrorReportingService","$window","$state","NetworkStatusService",function(e,t,r,i,a,o,s){function l(e,t){t&&e&&(e.userError=!0,0>e.messages.indexOf(t)&&e.messages.push(t))}function c(e,t){if(t&&e){var n=e.messages?e.messages.indexOf(t):-1;n>-1&&(e.messages.splice(n,1),e.userError=e.messages.length>0),e.userError=!1}}e.currentUser=t.getCurrentUser(),e.currentUser&&o.go("ship");var u={secretQuestionError:"Please select a secret question.",networkError:"We are experiencing difficulties communicating with our ship servers.",registrationError:"We are unable to verify account. Please try again.",termsError:"Please accept terms and conditions to continue to registration"};e.errorObject={registrationError:{userError:!1,messages:[]},secretQuestionError:{userError:!1,messages:[]},secretAnswerError:{userError:!1,messages:[]},termsError:{userError:!1,messages:[]}},e.secretQuestionList=t.getSecretQuestionList(),e.secretQuestion=e.secretQuestionList[0],e.registrationStep="terms-and-conditions",e.verifiedUser={},e.guestInfo={},e.networkService=s,e.$watch("networkService.status",function(t){e.offline="offline"===t}),e.accepted=function(t){return t?(e.acceptedTerms=t,e.registrationStep="step-1",a.scrollTo(0,-100),n):(l(e.errorObject.termsError,u.termsError),i.handleError(i.createApplicationError(u.termsError)),n)},e.checkValidGuest=function(n){e.guestInfo={firstName:n.firstName,lastName:n.lastName,cabinNumber:n.cabinNumber,birthDate:n.birthdate},t.checkValidShipGuest(e.guestInfo).then(function(){a.scrollTo(0,-100),e.errorObject.registrationError.userError=!1,e.errorObject.registrationError.messages=[],e.registrationStep="step-2"},function(t){var n=t.status;n>=500?(l(e.errorObject.registrationError,u.networkError),i.handleError(i.createApplicationError(u.networkError))):(l(e.errorObject.registrationError,u.registrationError),i.handleError(i.createApplicationError(u.registrationError)))})},e.validQuestionSelected=function(){"Select Secret Question"===e.secretQuestion?l(e.errorObject.secretQuestionError,u.secretQuestionError):c(e.errorObject.secretQuestionError,u.secretQuestionError)},e.registerGuestAsUser=function(n){e.guestInfo.pinCode=n.pin,e.guestInfo.secretAnswer=n.secretAnswer,e.guestInfo.acceptedTerms=e.acceptedTerms,"Select Secret Question"===e.secretQuestion?(l(e.errorObject.secretQuestionError,u.secretQuestionError),e.guestInfo.secretQuestion=null):(c(e.errorObject.secretQuestionError,u.secretQuestionError),e.guestInfo.secretQuestion=e.secretQuestion,t.registerGuestAsUser(e.guestInfo).then(function(t){a.scrollTo(0,-100),e.errorObject.registrationError.userError=!1,e.errorObject.registrationError.messages=[],e.registrationStep="success",e.verifiedUser=t},function(t){var n=t.status;n>=500?(l(e.errorObject.registrationError,u.networkError),i.handleError(i.createApplicationError(u.networkError))):(l(e.errorObject.registrationError,u.registrationError),i.handleError(i.createApplicationError(u.registrationError)))}))}}]),t.module("hal-ship.restaurantDetails.menu",["ui.router","hal-ship.services.DiningService"]).config(["$stateProvider",function(e){e.state("menu",{url:"/restaurantDetails/:restaurantKey/:serviceDate/menu/:meal",views:{main:{controller:"MenuController",templateUrl:"restaurantDetails/menu/menu.tpl.html"}},data:{pageTitle:"Menu"}})}]).controller("MenuController",["$scope","$rootScope","$state","$filter","$stateParams","DiningService",function(e,t,n,r,i,a){e.restaurant={},e.menuUrl="",a.getRestaurant(i.restaurantKey,i.serviceDate,"15:00").then(function(t){var n=t.days[i.serviceDate];n||(n=t.days[Object.keys(t.days)[0]]);for(var r=0;n.length>r;r++)n[r].name===i.meal&&(e.menuUrl=n[r].menuUrl)},function(){})}]),t.module("hal-ship.restaurantDetails",["ui.router","hal-ship.directives.fallbackImg","hal-ship.services.DiningService","hal-ship.core.NetworkStatus","hal-ship.services.ItineraryService","hal-ship.restaurantDetails.menu"]).config(["$stateProvider",function(e){e.state("restaurantDetails",{url:"/restaurantDetails/:restaurantKey/:serviceDate",views:{main:{controller:"RestaurantDetailsController",templateUrl:"restaurantDetails/restaurantDetails.tpl.html"}},resolve:{},data:{pageTitle:"Restaurant Details"}})}]).controller("RestaurantDetailsController",["$stateParams","$scope","$sce","$window","$q","$filter","$state","DiningService","NetworkStatusService","ItineraryService",function(e,n,r,i,a,o,s,l,c,u){i.scrollTo(0,0),n.restaurantKey=e.restaurantKey,n.serviceDate=e.serviceDate,n.restaurant={},n.meals=[],n.bookable=!1,n.accentColors=[1,2,3],n.accent=Math.floor(Math.random()*n.accentColors.length),n.$watch(function(){return"offline"===c.status?!1:!0},function(e){n.bookable=e}),n.convertToStandardTime=function(e){var t=e.split(":")[0],n=e.split(":")[1];return new Date(null,null,null,t,n)},n.convertDateTime=function(e){var t=e.split("T"),n=t[0].split("-");return{date:_.reduce(n,function(e,t){return e+t},""),time:t[1]}},n.getHeroStyle=function(){var e;return n.restaurant.headlineImageUrl&&(e=n.restaurant.headlineImageUrl),e?{"background-image":"url('"+e+"')"}:{display:"none"}},n.processMeals=function(e){for(var n=[],r=0;e.length>r;r++){var i={name:e[r].name,closeTime:e[r].closeTime,openTime:e[r].openTime,menuUrl:e[r].menuUrl};i.price=t.isNumber(e[r].price)?"$"+e[r].price:e[r].price?e[r].price:"$0",n.push(i)}return n},n.getCurrentDateTime=function(){var e=a.defer();return u.getInfoForToday().then(function(t){var r=n.convertDateTime(t.dateTime),i={date:r.date,time:r.time};n.serviceDate?i.date=n.serviceDate:n.serviceDate=i.date,e.resolve(i)},function(){var t=new Date,n={date:o("date",t,"yyyyMMdd"),time:o("date",t,"HH:mm")};e.resolve(n)}),e.promise},n.loadRestaurant=function(){var e=a.defer();return n.getCurrentDateTime().then(function(t){l.getRestaurant(n.restaurantKey,t.date,t.time).then(function(t){n.restaurant=t,n.restaurant.location=r.trustAsHtml(t.location),n.restaurant.longDescription=r.trustAsHtml(t.longDescription),n.pageTitle=t.name,n.meals=n.processMeals(n.restaurant.days[n.serviceDate]),document.title=t.name,n.$parent.pageTitle=t.name,e.resolve(t)},function(t){e.reject(t)})},function(t){e.reject(t)}),e.promise},n.loadRestaurant()}]),t.module("hal-ship.ship",["ui.router","hal-ship.core.NetworkStatus","hal-ship.services.ItineraryService","hal-ship.services.AuthService"]).config(["$stateProvider",function(e){e.state("ship",{url:"/ship",views:{main:{controller:"ShipController",templateUrl:"ship/ship.tpl.html"}},data:{pageTitle:"Ship",noBackNav:!0}})}]).controller("ShipController",["$scope","$rootScope","$state","$filter","NetworkStatusService","ItineraryService","AuthService",function(e,t,n,r,i,a,o){e.networkService=i,e.itineraryService=a,e.itineraryService.getInfoForToday().then(function(t){e.selectedDay=t,e.todayNav=t.navFormat}),e.$on("LOGIN_EVENT LOGOUT_EVENT",function(){e.isAuthenticated=o.isAuthenticated()}),e.user="",e.$watch("isAuthenticated",function(){e.user=o.getCurrentUser(),e.token=o.getToken()})}]),t.module("hal-ship.shipItinerary",["ui.router","hal-ship.services.ItineraryService","hal-ship.services.AuthService"]).config(["$stateProvider",function(e){e.state("shipItinerary",{url:"/shipItinerary",views:{main:{controller:"ShipItineraryController",templateUrl:"shipItinerary/shipItinerary.tpl.html"}},resolve:{itinerary:["ItineraryService",function(e){return e.getShipItinerary()}]},data:{pageTitle:"Ship Itinerary"}})}]).controller("ShipItineraryController",["$scope","$rootScope","$filter","$state","itinerary","AuthService",function(e,t,n,r,i,a){t.$on("$stateChangeStart",function(e,t){"shipItinerary"===t.name&&a.isAuthenticated()&&(e.preventDefault(),r.go("myItinerary"))}),e.voyageDates=i,e.today=n("date")(new Date,"yyyyMMdd"),e.selectedDay=e.today;for(var o=0;e.voyageDates.length>o;o++){var s=e.voyageDates[o];s.calendarDate===e.selectedDay&&(e.selectedDay=s)}}]),t.module("hal-ship.shoreExcursions",["ui.router","hal-ship.services.ShoreExcursionsService","hal-ship.services.CdsService","pascalprecht.translate"]).config(["$stateProvider",function(e){e.state("shoreExcursions",{url:"/shoreExcursions/:dateString?selectedHour",views:{main:{controller:"ShoreExcursionsController",templateUrl:"shoreExcursions/shoreExcursions.tpl.html"}},resolve:{itinerary:["ItineraryService",function(e){return e.getShipItinerary()}]},data:{pageTitle:"Shore Excursions"}})}]).controller("ShoreExcursionsController",["$state","$stateParams","$scope","$location","itinerary","ShoreExcursionsService","CdsService","$filter","ErrorReportingService",function(e,t,n,r,i,a,o,s,l){if(n.voyageDates=i,n.selectedDay=t.dateString||s("date")(new Date,"yyyyMMdd"),n.selectedHour=t.selectedHour,n.getCount=function(){},n.init=function(){n.loading=!0,n.noDepartures=!1,n.excursionDepartures=n.loadExcursions()},n.loadExcursions=function(){n.selectedDepartureDay=n.selectedDay.dateTime;var e={};return e[n.selectedDepartureDay]={arrivalTime:n.selectedDay.arrivalTime,calendarDate:n.selectedDay.calendarDate,dateTime:n.selectedDay.dateTime,departureTime:n.selectedDay.departureTime,description:n.selectedDay.description,portCode:n.selectedDay.portCode,uiText:n.selectedDay.uiText,allAboardTime:n.selectedDay.allAboardTime,hasInPortEvents:!1,availableInPort:[],hours:{}},n.selectedDay.calendarDate?(a.getExcursionDeparturesForDate(n.selectedDay.calendarDate).then(function(t){for(var r=0;t.length>r;r++)try{var i=t[r];if(0>=i.seatsForSale)continue;var a=i.excursionID,o=i.departureID,s=i.hour;i.availableInPort?e[n.selectedDepartureDay].availableInPort.push(i):(e[n.selectedDepartureDay].hours[s]=e[n.selectedDepartureDay].hours[s]||[],e[n.selectedDepartureDay].hours[s].push(i))}catch(c){var u="An error occurred while attempting to display excursion information. [excursionID="+a+"][departureID="+o+"]";l.handleError(l.createApplicationError(u,null,c,"ShoreExcursionsController.loadExcursions"),!0)}n.loading=!1,0===t.length&&(n.noDepartures=!0),e[n.selectedDepartureDay].hasInPortEvents=e[n.selectedDepartureDay].availableInPort.length>0},function(e){var t="An error occurred while attempting to load excursion information.";l.handleError(l.createApplicationError(t,null,e),!0)}),e):(n.noDepartures=!0,n.loading=!1,{})},n.changeDay=function(t){e.go("shoreExcursions",{dateString:t})},n.selectedDay)for(var c=0;n.voyageDates.length>c;c++){var u=n.voyageDates[c];u.calendarDate===n.selectedDay&&(n.selectedDay=u)}n.$watch("selectedDay",function(e){n.changeDay(e.calendarDate)}),n.init()}]),t.module("ApplicationConfiguration",[]).constant("Configuration",{halPorta:{clientId:"secondaryFlow"},frontend:{baseUrl:"http://qa.hollandamerica.com"},frontendBooking:{baseUrl:"http://testbook.hollandamerica.com"},enableAjaxLogging:!1}),t.module("hal-ship.core.Analytics",["hal-ship.core.CacheManagerService","hal-ship.core.NetworkStatus","hal-ship.services.ShipTimeService","hal-ship.core.ErrorReportingService"]).factory("AnalyticsItem",function(){return function(e,t){this.itemName=e,this.deviceLocalTimestamp=Date.now(),this.shipTimestamp=t?t:null,this.isChild=function(t){return e===t.itemName}}}).factory("AnalyticsEvent",["AnalyticsItem",function(e){return function(t,n,r,i,a){_.extend(this,new e("AnalyticsEvent",a)),this.category=t,this.action=n,this.name=r,this.value=i}}]).factory("AnalyticsGoal",["AnalyticsItem",function(e){return function(t,n,r){_.extend(this,new e("AnalyticsGoal",r)),this.name=t,this.value=n}}]).factory("AnalyticsNavigation",["AnalyticsItem",function(e){return function(t,n,r,i){_.extend(this,new e("AnalyticsNavigation",i)),this.pageUrl=t,this.pageTitle=n,this.stateName=r}}]).value("messageQueue",[]).value("handlerInstances",[]).provider("AnalyticsService",[function(){var e=[];this.addHandler=function(t){return e.push(t),this
},this.$get=["$injector","$rootScope","$q","$interval","CacheManagerService","NetworkStatusService","AnalyticsItem","AnalyticsEvent","AnalyticsGoal","AnalyticsNavigation","messageQueue","handlerInstances","ShipTimeService","ErrorReportingService",function(t,n,r,i,a,o,s,l,c,u,d,p,h,f){var m,g=function(){},v="OfflineAnalyticsQueue",y=1024,b=3e3,$=!1,T=function(){m=i(k,b)},w=function(){m&&(i.cancel(m),m=null)},S=function(e){if(e)for(var t=0;e.length>t;t++)d.push(e[t])},k=function(){w();var e=a.directLoad(v);e&&S(e.data);for(var t=[];d.length>0;)if("offline"===o.status)t.push(d.shift());else{var n=d.shift(),r=p[n.handlerIndex][n.handler];r(n.item)}t.length>y&&(t=t.splice(0,y)),a.directStore(v,t),T()},x=function(e){for(var t=(new l).isChild,n=(new c).isChild,r=(new u).isChild,i=0;p.length>i;i++){var a=p[i],o={item:e,handlerIndex:i};a.supportsItem(e)&&(o.handler=t(e)?"handleEvent":n(e)?"handleGoal":r(e)?"handleNavigation":null,d.push(o))}d.length>=y&&k()},E=function(){for(var n=0;e.length>n;n++){var r=e[n],i=t.get(r);p.push(i)}},D=function(){var e=a.directLoad(v);e&&S(e.data),a.directStore(v,[])};return g.initialize=function(){$||(D(),E(),T(),$=!0)},g.triggerItem=function(){x(event)},g.triggerEvent=function(e,t,n,r){h.getTime().then(function(i){var a=new l(e,t,n,r,i);x(a)},function(e){f.handleError(e)})},g.triggerGoal=function(e,t){h.getTime().then(function(n){var r=new c(e,t,n);x(r)},function(e){f.handleError(e)})},g.navigate=function(e,t,n){h.getTime().then(function(r){var i=new u(e,t,n,r);x(i)},function(e){f.handleError(e)})},g}]}]).factory("DefaultAnalyticsHandler",["AnalyticsEvent","AnalyticsGoal","AnalyticsNavigation",function(){return{supportsItem:function(){return!0},handleEvent:function(){},handleGoal:function(){},handleNavigation:function(){}}}]),t.module("hal-ship.core.CacheManagerService",["hal-ship.core.NetworkStatus","hal-ship.core.ErrorReportingService"]).service("CacheManagerService",["NetworkStatusService","ErrorReportingService","$q","$window",function(e,t,n,r){var i={},a=function(){return{name:"NoNetworkCallError",message:"No network call specified."}};a.prototype=Error(),a.prototype.constructor=a;var o=function(){return{name:"NoKeyError",message:"No key specified."}};o.prototype=Error(),o.prototype.constructor=o;var s=function(){return{name:"PrivateBrowsingError",message:"Please turn off Private Browsing for an optimized experience!"}};s.prototype=Error(),s.prototype.constructor=s;var l=function(){return{name:"UnableToFetchDataError",message:"Unable to fetch data."}};l.prototype=Error(),l.prototype.constructor=l;var c=function(e,t){return{data:e,fromCache:t}},u=function(){try{return r.localStorage.setItem("HAL","HAL"),r.localStorage.removeItem("HAL"),r.localStorage}catch(e){var n=new s;return t.createApplicationWarning(n.message,null,null,"CacheManagerService"),null}}(),d=function(e,t,n){if(!u)return null;var r=u.getItem(e);if(null===r)return null;var i=JSON.parse(r);return t?new c(t(i,n),!0):new c(i,!0)},p=function(e,t){u&&u.setItem(e,JSON.stringify(t))},h=function(e){u&&u.removeItem(e)},f=function(){u&&u.clear()},m=function(t,r){if(i[t])return i[t];var a=n.defer();if("offline"===e.status){var o=new l;a.reject(o),i[t]&&delete i[t]}else r().then(function(e){p(t,e),a.resolve(new c(e,!1)),i[t]&&delete i[t]},function(e){a.reject(e),i[t]&&delete i[t]});return i[t]=a.promise,i[t]};return{get:function(e,t,r,i,s){if(!e)throw new o;if(!t)throw new a;var l=n.defer();if(r)m(e,t).then(function(e){l.resolve(e)},function(t){var n=d(e,i,s);n?l.resolve(n):l.reject(t)});else{var c=d(e,i,s);if(!c)return m(e,t,i,s);l.resolve(c)}return l.promise},directStore:function(e,t){if(!e)throw new o;p(e,t)},directLoad:function(e){if(!e)throw new o;return d(e)},remove:function(e){h(e)},clear:function(){f()},cacheEnabled:function(){return!!u}}}]),t.module("hal-ship.core.ErrorReportingService",[]).service("ErrorReportingService",["$rootScope","handlers",function(e,n){var r="info",i="warning",a="error",o="app",s="server",l=function(){return{name:"MissingMessageError",message:"The Error must have a message."}};l.prototype=Error(),l.prototype.constructor=l;var c=function(){return{name:"MissingSourceError",message:"The Error must have a source."}};c.prototype=Error(),c.prototype.constructor=c;var u=function(){return{name:"InvalidErrorHandlerError",message:"The error handler must be a function."}};u.prototype=Error(),u.prototype.constructor=u;var d=function(){return{name:"InvalidErrorSeverityError",message:"The error must have a valid severity."}};d.prototype=Error(),d.prototype.constructor=d;var p=function(e,t,n,r,i,a,o){var s={};if(t.timestamp=new Date,!e)throw new c;if(s.source=e,!t)throw new l;if(s.message=t,!r)throw new d;return s.severity=r,n&&(s.code=n),i&&(s.httpResponse=i),a&&(s.exception=a),o&&(s.site=o),s};return p.prototype=Error(),p.prototype.constructor=p,{getErrorSeverityInfo:function(){return r},getErrorSeverityWarning:function(){return i},getErrorSeverityError:function(){return a},createServerInfo:function(e,t,n,i){return new p(s,e,t,r,n,null,i)},createServerWarning:function(e,t,n,r){return new p(s,e,t,i,n,null,r)},createServerError:function(e,t,n,r){return new p(s,e,t,a,n,null,r)},createApplicationInfo:function(e,t,n,i){return new p(o,e,t,r,null,n,i)},createApplicationWarning:function(e,t,n,r){return new p(o,e,t,i,null,n,r)},createApplicationError:function(e,t,n,r){return new p(o,e,t,a,null,n,r)},handleError:function(t,r,i){if(!t.message)throw new l;if(t.timestamp||(t.timestamp=new Date),!t.source)throw new c;for(var a=0;n.length>a;a++)n[a](t);r&&(t.clearOnNavigate=!!i,e.$broadcast("ERROR_EVENT",t))},addHandler:function(e){if(!t.isFunction(e))throw new u;n.push(e)},consoleHandler:function(e){var t="ERROR";e.source===o?t+="[APP]":e.source===s&&(t+="[SERVER]"),t+=": ",e.code&&(t+="("+e.code+") "),e.httpResponse&&(t+=e.httpResponse.status+" "),t+=e.message,e.severity===r?(console.info(t),e.exception&&console.info(e.exception)):e.severity===i?(console.warn(t),e.exception&&console.warn(e.exception)):e.severity===a?(console.error(t),e.exception&&console.error(e.exception)):console.log(t)}}}]).value("handlers",[]),t.module("hal-ship.core.NetworkStatus",["hal-ship.core.ErrorReportingService"]).service("NetworkStatusService",["$rootScope","$window","userAgentNavigator","ErrorReportingService",function(e,t,r,i){var a={};return r.onLine===n?(a._changeStatus=function(){return n},a.status=n,a):(a._changeStatus=function(e){return"online"===e.type?(this.status="online",i.handleError(i.createApplicationInfo("The application has reconnected to the server.",null,null,"NetworkStatusService"),!0),!0):"offline"===e.type?(this.status="offline",i.handleError(i.createApplicationWarning("Unable to contact the server.  Please try again later.",null,null,"NetworkStatusService"),!0),!1):n},a.status=r.onLine?"online":"offline",t.addEventListener("offline",function(t){e.$apply(function(){a._changeStatus.apply(a,[t])})}),t.addEventListener("online",function(t){e.$apply(function(){a._changeStatus.apply(a,[t])})}),a)}]).value("userAgentNavigator",navigator),t.module("hal-ship.core.PreloaderService",["hal-ship.core.NetworkStatus","hal-ship.core.ErrorReportingService"]).service("PreloaderService",["NetworkStatusService","ErrorReportingService","$q","cachedAssets",function(e,n,r,i){var a=function(e,t,n){this.type=e,this.critical=t,this.callback=n,this.complete=!1,this.success=!1},o=function(e,t){this.assetRecord=e,this.data=t},s=function(){return i.images},l=function(){return i.data},c=function(e,t,n,r){e.complete=!0,e.success=!0,e.data=t,r.resolve(new o(e,t)),n&&n(e,t)},u=function(e,t,n,r){e.complete=!0,e.success=!1,e.data=t,r.reject(new o(e,t)),n&&n(e,t)},d=function(e,t,n){var i=r.defer();return e.success?c(e,e.data,t,i):u(e,e.data,n,i),i.promise},p=function(e,t,n){var i=r.defer(),a=e.callback.promise||e.callback;return a.then(function(n){c(e,n,t,i)},function(t){u(e,t,n,i)}),i.promise},h=function(e,t,n){return e.complete?d(e,t,n):p(e,t,n)},f=function(e,t,n,r,o){var s=o(t),l=new a(e,t.critical,s);return i[e][t.resourceKey]=l,p(l,n,r)},m=function(e,n,r,a,o){var s=[];return t.forEach(n,function(t){var n=i[e][t.resourceKey],l=null;l=n?h(n,r,a):f(e,t,r,a,o),s.push(l)}),s},g=function(e,t,n){return m("images",e,t,n,function(){return r.defer()})},v=function(e,t,n){return m("data",e,t,n,function(e){return e.arguments&&e.arguments.length>0?e.method.apply(this,e.arguments):e.method()})},y=function(){i.data={}},b=function(){i.images={}};return{loadImages:g,loadData:v,getImageAssets:s,getDataAssets:l,clearData:y,clearImages:b}}]).value("cachedAssets",{data:{},images:{}}),t.module("hal.dataServices.authentication",["restangular"]).service("AuthenticationDataService",["Restangular",function(e){var t=e.all("authentication/v1.0.0/companyCode/HAL"),n="HAL",r="ship",i=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},a=function(e,n){var i={"Client-Id":r},a=e+"/role/"+n;return t.customPUT({},a,{},i)},o=function(e,a){var o={"Content-Type":"application/x-www-form-urlencoded;","Client-Id":r},s=i({companyCode:n,key:e.toLowerCase(),secret:a});return t.post(s,{},o)},s=function(e){return t.one(e).remove()},l=function(e){return t.customGET(e)};return{changeRole:a,authenticate:o,logout:s,verify:l}}]),t.module("hal.dataServices.dining",["restangular"]).service("DiningDataService",["Restangular","$q",function(e,t){return e.one("dining/v1.0.0/restaurant"),{getRestaurants:function(){var e=t.defer();return e.resolve(JSON.parse('[{"name":"La Fontaine Dining Room, Deck 4","locationCode":"MAIN","restaurantKey":"MAIN","shipCode":"AM","days":[{"date":"2015-01-25","meals":[{"name":"DINNER","openTime":"17:15","closeTime":"20:00","availabilityBlocks":[{"id":500146022,"time":"17:15","openSeats":8,"type":"2 TOP"},{"id":500146023,"time":"17:15","openSeats":24,"type":"4 TOP"},{"id":500146024,"time":"17:15","openSeats":30,"type":"6 TOP"},{"id":500146025,"time":"17:15","openSeats":24,"type":"8 TOP"},{"id":500146026,"time":"17:30","openSeats":8,"type":"2 TOP"},{"id":500146027,"time":"17:30","openSeats":16,"type":"4 TOP"},{"id":500146028,"time":"17:30","openSeats":24,"type":"6 TOP"},{"id":500146029,"time":"17:30","openSeats":16,"type":"8 TOP"},{"id":500146031,"time":"19:00","openSeats":8,"type":"2 TOP"},{"id":500146032,"time":"19:15","openSeats":8,"type":"4 TOP"},{"id":500146033,"time":"19:45","openSeats":12,"type":"2 TOP"},{"id":500146034,"time":"19:45","openSeats":16,"type":"4 TOP"},{"id":500146035,"time":"19:45","openSeats":18,"type":"6 TOP"},{"id":500146036,"time":"19:45","openSeats":16,"type":"8 TOP"},{"id":500146039,"time":"20:00","openSeats":6,"type":"2 TOP"},{"id":500146038,"time":"20:00","openSeats":24,"type":"4 TOP"},{"id":500146037,"time":"20:00","openSeats":30,"type":"6 TOP"},{"id":500146030,"time":"20:00","openSeats":24,"type":"8 TOP"}]}]}]},{"name":"Le Cirque","locationCode":"PN","restaurantKey":"PN_LE_CIRQUE","shipCode":"AM","days":[{"date":"2015-01-25","meals":[{"name":"DINNER","openTime":"17:30","closeTime":"21:30","availabilityBlocks":[{"id":500145564,"time":"17:30","openSeats":1},{"id":500145563,"time":"18:00","openSeats":1},{"id":500145566,"time":"18:30","openSeats":1},{"id":500145568,"time":"19:00","openSeats":1},{"id":500145567,"time":"19:30","openSeats":1},{"id":500145565,"time":"20:00","openSeats":1},{"id":500145569,"time":"20:30","openSeats":1},{"id":500145571,"time":"21:00","openSeats":1},{"id":500145570,"time":"21:30","openSeats":1}]}]}]},{"name":"Pinnacle Grill","locationCode":"PN","restaurantKey":"PN","shipCode":"AM","days":[{"date":"2015-01-25","meals":[{"name":"DINNER","openTime":"17:00","closeTime":"21:30","availabilityBlocks":[{"id":500146429,"time":"17:00","openSeats":0},{"id":500146427,"time":"17:30","openSeats":14},{"id":500146428,"time":"18:00","openSeats":12},{"id":500146422,"time":"18:30","openSeats":8},{"id":500146423,"time":"19:00","openSeats":6},{"id":500146424,"time":"19:30","openSeats":10},{"id":500146425,"time":"20:00","openSeats":8},{"id":500146426,"time":"20:30","openSeats":6},{"id":500146420,"time":"21:00","openSeats":4},{"id":500146421,"time":"21:30","openSeats":0}]},{"name":"LUNCH","openTime":"11:30","closeTime":"12:30","availabilityBlocks":[{"id":500146592,"time":"11:30","openSeats":0},{"id":500146591,"time":"12:00","openSeats":12},{"id":500146590,"time":"12:30","openSeats":8}]}]}]},{"name":"Canaletto Restaurant, Deck 8","locationCode":"CANALETTO","restaurantKey":"CANALETTO","shipCode":"AM","days":[{"date":"2015-01-25","meals":[{"name":"DINNER","openTime":"17:30","closeTime":"21:00","availabilityBlocks":[{"id":500146783,"time":"17:30","openSeats":15},{"id":500146784,"time":"18:00","openSeats":12},{"id":500146785,"time":"18:30","openSeats":8},{"id":500146786,"time":"19:00","openSeats":8},{"id":500146787,"time":"19:30","openSeats":12},{"id":500146788,"time":"20:00","openSeats":13},{"id":500146789,"time":"20:30","openSeats":12},{"id":500146790,"time":"21:00","openSeats":10}]}]}]}]')),function(){return e.promise}},getRestaurantsForDate:function(){var e=t.defer();return e.resolve(JSON.parse('[{"name":"La Fontaine Dining Room, Deck 4","locationCode":"MAIN","restaurantKey":"MAIN","shipCode":"AM","days":[{"date":"2015-01-25","meals":[{"name":"DINNER","openTime":"17:15","closeTime":"20:00","availabilityBlocks":[{"id":500146022,"time":"17:15","openSeats":8,"type":"2 TOP"},{"id":500146023,"time":"17:15","openSeats":24,"type":"4 TOP"},{"id":500146024,"time":"17:15","openSeats":30,"type":"6 TOP"},{"id":500146025,"time":"17:15","openSeats":24,"type":"8 TOP"},{"id":500146026,"time":"17:30","openSeats":8,"type":"2 TOP"},{"id":500146027,"time":"17:30","openSeats":16,"type":"4 TOP"},{"id":500146028,"time":"17:30","openSeats":24,"type":"6 TOP"},{"id":500146029,"time":"17:30","openSeats":16,"type":"8 TOP"},{"id":500146031,"time":"19:00","openSeats":8,"type":"2 TOP"},{"id":500146032,"time":"19:15","openSeats":8,"type":"4 TOP"},{"id":500146033,"time":"19:45","openSeats":12,"type":"2 TOP"},{"id":500146034,"time":"19:45","openSeats":16,"type":"4 TOP"},{"id":500146035,"time":"19:45","openSeats":18,"type":"6 TOP"},{"id":500146036,"time":"19:45","openSeats":16,"type":"8 TOP"},{"id":500146039,"time":"20:00","openSeats":6,"type":"2 TOP"},{"id":500146038,"time":"20:00","openSeats":24,"type":"4 TOP"},{"id":500146037,"time":"20:00","openSeats":30,"type":"6 TOP"},{"id":500146030,"time":"20:00","openSeats":24,"type":"8 TOP"}]}]}]},{"name":"Le Cirque","locationCode":"PN","restaurantKey":"PN_LE_CIRQUE","shipCode":"AM","days":[{"date":"2015-01-25","meals":[{"name":"DINNER","openTime":"17:30","closeTime":"21:30","availabilityBlocks":[{"id":500145564,"time":"17:30","openSeats":1},{"id":500145563,"time":"18:00","openSeats":1},{"id":500145566,"time":"18:30","openSeats":1},{"id":500145568,"time":"19:00","openSeats":1},{"id":500145567,"time":"19:30","openSeats":1},{"id":500145565,"time":"20:00","openSeats":1},{"id":500145569,"time":"20:30","openSeats":1},{"id":500145571,"time":"21:00","openSeats":1},{"id":500145570,"time":"21:30","openSeats":1}]}]}]},{"name":"Pinnacle Grill","locationCode":"PN","restaurantKey":"PN","shipCode":"AM","days":[{"date":"2015-01-25","meals":[{"name":"DINNER","openTime":"17:00","closeTime":"21:30","availabilityBlocks":[{"id":500146429,"time":"17:00","openSeats":0},{"id":500146427,"time":"17:30","openSeats":14},{"id":500146428,"time":"18:00","openSeats":12},{"id":500146422,"time":"18:30","openSeats":8},{"id":500146423,"time":"19:00","openSeats":6},{"id":500146424,"time":"19:30","openSeats":10},{"id":500146425,"time":"20:00","openSeats":8},{"id":500146426,"time":"20:30","openSeats":6},{"id":500146420,"time":"21:00","openSeats":4},{"id":500146421,"time":"21:30","openSeats":0}]},{"name":"LUNCH","openTime":"11:30","closeTime":"12:30","availabilityBlocks":[{"id":500146592,"time":"11:30","openSeats":0},{"id":500146591,"time":"12:00","openSeats":12},{"id":500146590,"time":"12:30","openSeats":8}]}]}]},{"name":"Canaletto Restaurant, Deck 8","locationCode":"CANALETTO","restaurantKey":"CANALETTO","shipCode":"AM","days":[{"date":"2015-01-25","meals":[{"name":"DINNER","openTime":"17:30","closeTime":"21:00","availabilityBlocks":[{"id":500146783,"time":"17:30","openSeats":15},{"id":500146784,"time":"18:00","openSeats":12},{"id":500146785,"time":"18:30","openSeats":8},{"id":500146786,"time":"19:00","openSeats":8},{"id":500146787,"time":"19:30","openSeats":12},{"id":500146788,"time":"20:00","openSeats":13},{"id":500146789,"time":"20:30","openSeats":12},{"id":500146790,"time":"21:00","openSeats":10}]}]}]}]')),function(){return e.promise}}}}]),t.module("hal.dataServices.events",["restangular"]).service("EventsDataService",["Restangular","$q",function(e,t){return e.one("/events/v1.0.0/event"),{getAllEventsForCruise:function(){var e=t.defer();return e.resolve(JSON.parse('[{"id":"2816242","title":"PSA Desk Hours","location":"PSA Desk","startTime":"2015-01-25T17:30","endTime":"2015-01-25T18:30","duration":60},{"id":"2816241","title":"PSA Desk Hours-Gangway","location":"PSA Desk","startTime":"2015-01-25T08:00","endTime":"2015-01-25T09:30","duration":90},{"id":"2816237","title":"Lido Buffet Lunch","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T14:00","duration":150},{"id":"2816234","title":"Lido-Casual Dinner","location":"Lido Buffet, 8","startTime":"2015-01-25T17:30","endTime":"2015-01-25T20:30","duration":180},{"id":"2816233","title":"Lido-Pizza and Pasta","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T12:30","duration":60},{"id":"2816232","title":"Lido-The Sweets","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T12:30","duration":60},{"id":"2816231","title":"Lido-Terrace Grill","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T18:00","duration":390},{"id":"2816230","title":"Lido-Salad Bar","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T20:30","duration":540},{"id":"2816229","title":"Lido-Deli","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T17:00","duration":330},{"id":"2816228","title":"Lido-Wok","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T15:00","duration":210},{"id":"2816227","title":"Lido-Bistro","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T15:00","duration":210},{"id":"2816226","title":"Lido-Full Breakfast","location":"Lido Buffet, 8","startTime":"2015-01-25T06:30","endTime":"2015-01-25T10:30","duration":240},{"id":"2816225","title":"Lido-Continental Breakfast","location":"Lido Buffet, 8","startTime":"2015-01-25T06:00","endTime":"2015-01-25T11:00","duration":300},{"id":"2816223","title":"Late Night Snack","location":"Lido Buffet, 8","startTime":"2015-01-25T23:00","endTime":"2015-01-26T00:00","duration":60},{"id":"2816258","title":"Fitness Class","location":"Fitness Center, 8","startTime":"2015-01-25T08:00","endTime":"2015-01-25T08:30","duration":30},{"id":"2816256","title":"Fitness Class","location":"Fitness Center, 8","startTime":"2015-01-25T07:30","endTime":"2015-01-25T08:00","duration":30},{"id":"2816212","title":"Fitness Class","location":"Fitness Center, 8","startTime":"2015-01-25T17:00","endTime":"2015-01-25T18:00","duration":60},{"id":"2816257","title":"Walk-a-Mile","location":"Promenade, 4","startTime":"2015-01-25T07:30","endTime":"2015-01-25T08:30","duration":60},{"id":"2816250","title":"Basketball Free Throw Contest","location":"Sports Deck","startTime":"2015-01-25T15:30","endTime":"2015-01-25T16:30","duration":60},{"id":"16000139578","title":"Desk Hours","location":"Shore Excursions, 4","startTime":"2015-01-25T16:00","endTime":"2015-01-25T18:00","duration":120,"noEnd":false},{"id":"2816240","title":"Shorex Hours","location":"Shore Excursions, 4","startTime":"2015-01-25T16:30","endTime":"2015-01-25T18:30","duration":120},{"id":"3913916","title":"HOSP DESK","location":"Desk 1- Deck Three Atrium, Lower Promenade Deck","startTime":"2015-01-25T10:00","endTime":"2015-01-25T11:00","duration":60,"noEnd":false,"group":"3-HOSP"},{"id":"2816213","title":"Mass","location":"Hudson Room, 5","startTime":"2015-01-25T17:00","endTime":"2015-01-25T17:30","duration":30},{"id":"2816251","title":"Bar Hours","location":"Ocean Bar, 5","startTime":"2015-01-25T17:00","endTime":"2015-01-25T23:59","duration":419},{"id":"2816210","title":"Turbo Trivia","location":"Ocean Bar, 5","startTime":"2015-01-25T14:00","endTime":"2015-01-25T15:00","duration":60},{"id":"2816260","title":"Travel Guide","location":"Explorer\'s Lounge, 5","startTime":"2015-01-25T08:00","endTime":"2015-01-25T08:30","duration":30},{"id":"2816247","title":"Bar Hours","location":"Explorer\'s Lounge, 5","startTime":"2015-01-25T17:00","endTime":"2015-01-25T23:59","duration":419},{"id":"2816246","title":"Bar Hours","location":"Crow\'s Nest, 9","startTime":"2015-01-25T19:30","endTime":"2015-01-25T22:00","duration":150},{"id":"2816245","title":"Dance Class","location":"Crow\'s Nest, 9","startTime":"2015-01-25T16:00","endTime":"2015-01-25T17:00","duration":60},{"id":"2816244","title":"Dance Class","location":"Crow\'s Nest, 9","startTime":"2015-01-25T10:00","endTime":"2015-01-25T11:00","duration":60},{"id":"2816236","title":"Bar Hours","location":"Crow\'s Nest, 9","startTime":"2015-01-25T23:00","endTime":"2015-01-26T00:00","duration":60},{"id":"2816235","title":"Line Dance","location":"Crow\'s Nest, 9","startTime":"2015-01-25T22:00","endTime":"2015-01-25T23:00","duration":60},{"id":"2816252","title":"Bar Hours","location":"Amstel Cafe/Rembrandt Lounge, 5","startTime":"2015-01-25T19:00","endTime":"2015-01-25T23:59","duration":299},{"id":"16000139914","title":"Texas Hold\'em Cash Game","location":"Casino, 5","startTime":"2015-01-25T21:30","endTime":"2015-01-25T23:00","duration":90,"noEnd":false},{"id":"16000139913","title":"Three Card Poker Highest Hand Competition","location":"Casino, 5","startTime":"2015-01-25T19:30","endTime":"2015-01-25T23:00","duration":210,"noEnd":false},{"id":"2816224","title":"Dinner","location":"Pinnacle Grill, 4","startTime":"2015-01-25T17:30","endTime":"2015-01-25T21:30","duration":240},{"id":"3129720","title":"Movie","location":"Wajang Theater, 4","startTime":"2015-01-25T18:00","endTime":"2015-01-25T22:00","duration":240,"noEnd":false},{"id":"3430828","title":"Event","location":"Wajang Theater, 4","startTime":"2015-01-25T22:30","endTime":"2015-01-26T02:30","duration":240,"noEnd":false},{"id":"2823145","title":"Movie","location":"Wajang Theater, 4","startTime":"2015-01-25T15:30","endTime":"2015-01-25T23:45","duration":495},{"id":"2816259","title":"Tender Ticket","location":"Wajang Theater, 4","startTime":"2015-01-25T08:00","endTime":"2015-01-25T09:00","duration":60},{"id":"2816255","title":"Party Planner","location":"Wajang Theater, 4","startTime":"2015-01-25T15:00","endTime":"2015-01-25T16:00","duration":60},{"id":"2816254","title":"Party Planner","location":"Wajang Theater, 4","startTime":"2015-01-25T13:00","endTime":"2015-01-25T14:00","duration":60},{"id":"2816253","title":"Party Planner","location":"Wajang Theater, 4","startTime":"2015-01-25T09:00","endTime":"2015-01-25T10:00","duration":60},{"id":"2816243","title":"Movie","location":"Wajang Theater, 4","startTime":"2015-01-25T20:00","endTime":"2015-01-25T22:00","duration":120},{"id":"2816218","title":"Cruise Director","location":"Wajang Theater, 4","startTime":"2015-01-25T11:00","endTime":"2015-01-25T12:00","duration":60},{"id":"3406283","title":"Event","location":"Wajang Theater, 4","startTime":"2015-01-25T16:30","endTime":"2015-01-25T17:30","duration":60,"noEnd":false},{"id":"3369642","title":"Event","location":"Wajang Theater, 4","startTime":"2015-01-25T17:00","endTime":"2015-01-25T18:00","duration":60,"noEnd":false},{"id":"2816261","title":"HAL Cats","location":"Lido Pool Area, 8","startTime":"2015-01-25T13:00","endTime":"2015-01-25T14:30","duration":90},{"id":"2816220","title":"Sail Away Party","location":"Lido Pool Area, 8","startTime":"2015-01-25T16:30","endTime":"2015-01-25T17:30","duration":60,"group":"4-COCKTAIL"},{"id":"2816238","title":"Lunch","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T12:00","endTime":"2015-01-25T13:00","duration":60},{"id":"2816222","title":"Dinner","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T17:15","endTime":"2015-01-25T21:00","duration":225},{"id":"2816221","title":"Breakfast","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T07:30","endTime":"2015-01-25T09:00","duration":90},{"id":"2816211","title":"Afternoon Tea","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T15:00","endTime":"2015-01-25T16:00","duration":60},{"id":"16000139577","title":"Tour dispatch","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T06:45","endTime":"2015-01-25T09:15","duration":150,"noEnd":false},{"id":"2816249","title":"Show","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T19:00","endTime":"2015-01-25T20:30","duration":90},{"id":"2816248","title":"Rehearsal","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T12:00","endTime":"2015-01-25T13:30","duration":90},{"id":"2816217","title":"Show","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T21:00","endTime":"2015-01-25T23:59","duration":179},{"id":"2816216","title":"Speed Bingo","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T20:30","endTime":"2015-01-25T21:00","duration":30},{"id":"2816215","title":"Speed Bingo","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T18:30","endTime":"2015-01-25T19:00","duration":30},{"id":"2816239","title":"Photo Gallery Hours","location":"Photo Gallery, 4","startTime":"2015-01-25T17:00","endTime":"2015-01-25T23:00","duration":360}]')),function(){return e.promise}},getAllEventsForDateRange:function(){var e=t.defer();return e.resolve(JSON.parse('[{"id":"2816242","title":"PSA Desk Hours","location":"PSA Desk","startTime":"2015-01-25T17:30","endTime":"2015-01-25T18:30","duration":60},{"id":"2816241","title":"PSA Desk Hours-Gangway","location":"PSA Desk","startTime":"2015-01-25T08:00","endTime":"2015-01-25T09:30","duration":90},{"id":"2816237","title":"Lido Buffet Lunch","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T14:00","duration":150},{"id":"2816234","title":"Lido-Casual Dinner","location":"Lido Buffet, 8","startTime":"2015-01-25T17:30","endTime":"2015-01-25T20:30","duration":180},{"id":"2816233","title":"Lido-Pizza and Pasta","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T12:30","duration":60},{"id":"2816232","title":"Lido-The Sweets","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T12:30","duration":60},{"id":"2816231","title":"Lido-Terrace Grill","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T18:00","duration":390},{"id":"2816230","title":"Lido-Salad Bar","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T20:30","duration":540},{"id":"2816229","title":"Lido-Deli","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T17:00","duration":330},{"id":"2816228","title":"Lido-Wok","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T15:00","duration":210},{"id":"2816227","title":"Lido-Bistro","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T15:00","duration":210},{"id":"2816226","title":"Lido-Full Breakfast","location":"Lido Buffet, 8","startTime":"2015-01-25T06:30","endTime":"2015-01-25T10:30","duration":240},{"id":"2816225","title":"Lido-Continental Breakfast","location":"Lido Buffet, 8","startTime":"2015-01-25T06:00","endTime":"2015-01-25T11:00","duration":300},{"id":"2816223","title":"Late Night Snack","location":"Lido Buffet, 8","startTime":"2015-01-25T23:00","endTime":"2015-01-26T00:00","duration":60},{"id":"2816258","title":"Fitness Class","location":"Fitness Center, 8","startTime":"2015-01-25T08:00","endTime":"2015-01-25T08:30","duration":30},{"id":"2816256","title":"Fitness Class","location":"Fitness Center, 8","startTime":"2015-01-25T07:30","endTime":"2015-01-25T08:00","duration":30},{"id":"2816212","title":"Fitness Class","location":"Fitness Center, 8","startTime":"2015-01-25T17:00","endTime":"2015-01-25T18:00","duration":60},{"id":"2816257","title":"Walk-a-Mile","location":"Promenade, 4","startTime":"2015-01-25T07:30","endTime":"2015-01-25T08:30","duration":60},{"id":"2816250","title":"Basketball Free Throw Contest","location":"Sports Deck","startTime":"2015-01-25T15:30","endTime":"2015-01-25T16:30","duration":60},{"id":"16000139578","title":"Desk Hours","location":"Shore Excursions, 4","startTime":"2015-01-25T16:00","endTime":"2015-01-25T18:00","duration":120,"noEnd":false},{"id":"2816240","title":"Shorex Hours","location":"Shore Excursions, 4","startTime":"2015-01-25T16:30","endTime":"2015-01-25T18:30","duration":120},{"id":"3913916","title":"HOSP DESK","location":"Desk 1- Deck Three Atrium, Lower Promenade Deck","startTime":"2015-01-25T10:00","endTime":"2015-01-25T11:00","duration":60,"noEnd":false,"group":"3-HOSP"},{"id":"2816213","title":"Mass","location":"Hudson Room, 5","startTime":"2015-01-25T17:00","endTime":"2015-01-25T17:30","duration":30},{"id":"2816251","title":"Bar Hours","location":"Ocean Bar, 5","startTime":"2015-01-25T17:00","endTime":"2015-01-25T23:59","duration":419},{"id":"2816210","title":"Turbo Trivia","location":"Ocean Bar, 5","startTime":"2015-01-25T14:00","endTime":"2015-01-25T15:00","duration":60},{"id":"2816260","title":"Travel Guide","location":"Explorer\'s Lounge, 5","startTime":"2015-01-25T08:00","endTime":"2015-01-25T08:30","duration":30},{"id":"2816247","title":"Bar Hours","location":"Explorer\'s Lounge, 5","startTime":"2015-01-25T17:00","endTime":"2015-01-25T23:59","duration":419},{"id":"2816246","title":"Bar Hours","location":"Crow\'s Nest, 9","startTime":"2015-01-25T19:30","endTime":"2015-01-25T22:00","duration":150},{"id":"2816245","title":"Dance Class","location":"Crow\'s Nest, 9","startTime":"2015-01-25T16:00","endTime":"2015-01-25T17:00","duration":60},{"id":"2816244","title":"Dance Class","location":"Crow\'s Nest, 9","startTime":"2015-01-25T10:00","endTime":"2015-01-25T11:00","duration":60},{"id":"2816236","title":"Bar Hours","location":"Crow\'s Nest, 9","startTime":"2015-01-25T23:00","endTime":"2015-01-26T00:00","duration":60},{"id":"2816235","title":"Line Dance","location":"Crow\'s Nest, 9","startTime":"2015-01-25T22:00","endTime":"2015-01-25T23:00","duration":60},{"id":"2816252","title":"Bar Hours","location":"Amstel Cafe/Rembrandt Lounge, 5","startTime":"2015-01-25T19:00","endTime":"2015-01-25T23:59","duration":299},{"id":"16000139914","title":"Texas Hold\'em Cash Game","location":"Casino, 5","startTime":"2015-01-25T21:30","endTime":"2015-01-25T23:00","duration":90,"noEnd":false},{"id":"16000139913","title":"Three Card Poker Highest Hand Competition","location":"Casino, 5","startTime":"2015-01-25T19:30","endTime":"2015-01-25T23:00","duration":210,"noEnd":false},{"id":"2816224","title":"Dinner","location":"Pinnacle Grill, 4","startTime":"2015-01-25T17:30","endTime":"2015-01-25T21:30","duration":240},{"id":"3129720","title":"Movie","location":"Wajang Theater, 4","startTime":"2015-01-25T18:00","endTime":"2015-01-25T22:00","duration":240,"noEnd":false},{"id":"3430828","title":"Event","location":"Wajang Theater, 4","startTime":"2015-01-25T22:30","endTime":"2015-01-26T02:30","duration":240,"noEnd":false},{"id":"2823145","title":"Movie","location":"Wajang Theater, 4","startTime":"2015-01-25T15:30","endTime":"2015-01-25T23:45","duration":495},{"id":"2816259","title":"Tender Ticket","location":"Wajang Theater, 4","startTime":"2015-01-25T08:00","endTime":"2015-01-25T09:00","duration":60},{"id":"2816255","title":"Party Planner","location":"Wajang Theater, 4","startTime":"2015-01-25T15:00","endTime":"2015-01-25T16:00","duration":60},{"id":"2816254","title":"Party Planner","location":"Wajang Theater, 4","startTime":"2015-01-25T13:00","endTime":"2015-01-25T14:00","duration":60},{"id":"2816253","title":"Party Planner","location":"Wajang Theater, 4","startTime":"2015-01-25T09:00","endTime":"2015-01-25T10:00","duration":60},{"id":"2816243","title":"Movie","location":"Wajang Theater, 4","startTime":"2015-01-25T20:00","endTime":"2015-01-25T22:00","duration":120},{"id":"2816218","title":"Cruise Director","location":"Wajang Theater, 4","startTime":"2015-01-25T11:00","endTime":"2015-01-25T12:00","duration":60},{"id":"3406283","title":"Event","location":"Wajang Theater, 4","startTime":"2015-01-25T16:30","endTime":"2015-01-25T17:30","duration":60,"noEnd":false},{"id":"3369642","title":"Event","location":"Wajang Theater, 4","startTime":"2015-01-25T17:00","endTime":"2015-01-25T18:00","duration":60,"noEnd":false},{"id":"2816261","title":"HAL Cats","location":"Lido Pool Area, 8","startTime":"2015-01-25T13:00","endTime":"2015-01-25T14:30","duration":90},{"id":"2816220","title":"Sail Away Party","location":"Lido Pool Area, 8","startTime":"2015-01-25T16:30","endTime":"2015-01-25T17:30","duration":60,"group":"4-COCKTAIL"},{"id":"2816238","title":"Lunch","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T12:00","endTime":"2015-01-25T13:00","duration":60},{"id":"2816222","title":"Dinner","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T17:15","endTime":"2015-01-25T21:00","duration":225},{"id":"2816221","title":"Breakfast","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T07:30","endTime":"2015-01-25T09:00","duration":90},{"id":"2816211","title":"Afternoon Tea","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T15:00","endTime":"2015-01-25T16:00","duration":60},{"id":"16000139577","title":"Tour dispatch","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T06:45","endTime":"2015-01-25T09:15","duration":150,"noEnd":false},{"id":"2816249","title":"Show","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T19:00","endTime":"2015-01-25T20:30","duration":90},{"id":"2816248","title":"Rehearsal","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T12:00","endTime":"2015-01-25T13:30","duration":90},{"id":"2816217","title":"Show","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T21:00","endTime":"2015-01-25T23:59","duration":179},{"id":"2816216","title":"Speed Bingo","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T20:30","endTime":"2015-01-25T21:00","duration":30},{"id":"2816215","title":"Speed Bingo","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T18:30","endTime":"2015-01-25T19:00","duration":30},{"id":"2816239","title":"Photo Gallery Hours","location":"Photo Gallery, 4","startTime":"2015-01-25T17:00","endTime":"2015-01-25T23:00","duration":360}]')),e.promise
},getEventsForDate:function(){var e=t.defer();return e.resolve(JSON.parse('[{"id":"2816242","title":"PSA Desk Hours","location":"PSA Desk","startTime":"2015-01-25T17:30","endTime":"2015-01-25T18:30","duration":60},{"id":"2816241","title":"PSA Desk Hours-Gangway","location":"PSA Desk","startTime":"2015-01-25T08:00","endTime":"2015-01-25T09:30","duration":90},{"id":"2816237","title":"Lido Buffet Lunch","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T14:00","duration":150},{"id":"2816234","title":"Lido-Casual Dinner","location":"Lido Buffet, 8","startTime":"2015-01-25T17:30","endTime":"2015-01-25T20:30","duration":180},{"id":"2816233","title":"Lido-Pizza and Pasta","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T12:30","duration":60},{"id":"2816232","title":"Lido-The Sweets","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T12:30","duration":60},{"id":"2816231","title":"Lido-Terrace Grill","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T18:00","duration":390},{"id":"2816230","title":"Lido-Salad Bar","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T20:30","duration":540},{"id":"2816229","title":"Lido-Deli","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T17:00","duration":330},{"id":"2816228","title":"Lido-Wok","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T15:00","duration":210},{"id":"2816227","title":"Lido-Bistro","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T15:00","duration":210},{"id":"2816226","title":"Lido-Full Breakfast","location":"Lido Buffet, 8","startTime":"2015-01-25T06:30","endTime":"2015-01-25T10:30","duration":240},{"id":"2816225","title":"Lido-Continental Breakfast","location":"Lido Buffet, 8","startTime":"2015-01-25T06:00","endTime":"2015-01-25T11:00","duration":300},{"id":"2816223","title":"Late Night Snack","location":"Lido Buffet, 8","startTime":"2015-01-25T23:00","endTime":"2015-01-26T00:00","duration":60},{"id":"2816258","title":"Fitness Class","location":"Fitness Center, 8","startTime":"2015-01-25T08:00","endTime":"2015-01-25T08:30","duration":30},{"id":"2816256","title":"Fitness Class","location":"Fitness Center, 8","startTime":"2015-01-25T07:30","endTime":"2015-01-25T08:00","duration":30},{"id":"2816212","title":"Fitness Class","location":"Fitness Center, 8","startTime":"2015-01-25T17:00","endTime":"2015-01-25T18:00","duration":60},{"id":"2816257","title":"Walk-a-Mile","location":"Promenade, 4","startTime":"2015-01-25T07:30","endTime":"2015-01-25T08:30","duration":60},{"id":"2816250","title":"Basketball Free Throw Contest","location":"Sports Deck","startTime":"2015-01-25T15:30","endTime":"2015-01-25T16:30","duration":60},{"id":"16000139578","title":"Desk Hours","location":"Shore Excursions, 4","startTime":"2015-01-25T16:00","endTime":"2015-01-25T18:00","duration":120,"noEnd":false},{"id":"2816240","title":"Shorex Hours","location":"Shore Excursions, 4","startTime":"2015-01-25T16:30","endTime":"2015-01-25T18:30","duration":120},{"id":"3913916","title":"HOSP DESK","location":"Desk 1- Deck Three Atrium, Lower Promenade Deck","startTime":"2015-01-25T10:00","endTime":"2015-01-25T11:00","duration":60,"noEnd":false,"group":"3-HOSP"},{"id":"2816213","title":"Mass","location":"Hudson Room, 5","startTime":"2015-01-25T17:00","endTime":"2015-01-25T17:30","duration":30},{"id":"2816251","title":"Bar Hours","location":"Ocean Bar, 5","startTime":"2015-01-25T17:00","endTime":"2015-01-25T23:59","duration":419},{"id":"2816210","title":"Turbo Trivia","location":"Ocean Bar, 5","startTime":"2015-01-25T14:00","endTime":"2015-01-25T15:00","duration":60},{"id":"2816260","title":"Travel Guide","location":"Explorer\'s Lounge, 5","startTime":"2015-01-25T08:00","endTime":"2015-01-25T08:30","duration":30},{"id":"2816247","title":"Bar Hours","location":"Explorer\'s Lounge, 5","startTime":"2015-01-25T17:00","endTime":"2015-01-25T23:59","duration":419},{"id":"2816246","title":"Bar Hours","location":"Crow\'s Nest, 9","startTime":"2015-01-25T19:30","endTime":"2015-01-25T22:00","duration":150},{"id":"2816245","title":"Dance Class","location":"Crow\'s Nest, 9","startTime":"2015-01-25T16:00","endTime":"2015-01-25T17:00","duration":60},{"id":"2816244","title":"Dance Class","location":"Crow\'s Nest, 9","startTime":"2015-01-25T10:00","endTime":"2015-01-25T11:00","duration":60},{"id":"2816236","title":"Bar Hours","location":"Crow\'s Nest, 9","startTime":"2015-01-25T23:00","endTime":"2015-01-26T00:00","duration":60},{"id":"2816235","title":"Line Dance","location":"Crow\'s Nest, 9","startTime":"2015-01-25T22:00","endTime":"2015-01-25T23:00","duration":60},{"id":"2816252","title":"Bar Hours","location":"Amstel Cafe/Rembrandt Lounge, 5","startTime":"2015-01-25T19:00","endTime":"2015-01-25T23:59","duration":299},{"id":"16000139914","title":"Texas Hold\'em Cash Game","location":"Casino, 5","startTime":"2015-01-25T21:30","endTime":"2015-01-25T23:00","duration":90,"noEnd":false},{"id":"16000139913","title":"Three Card Poker Highest Hand Competition","location":"Casino, 5","startTime":"2015-01-25T19:30","endTime":"2015-01-25T23:00","duration":210,"noEnd":false},{"id":"2816224","title":"Dinner","location":"Pinnacle Grill, 4","startTime":"2015-01-25T17:30","endTime":"2015-01-25T21:30","duration":240},{"id":"3129720","title":"Movie","location":"Wajang Theater, 4","startTime":"2015-01-25T18:00","endTime":"2015-01-25T22:00","duration":240,"noEnd":false},{"id":"3430828","title":"Event","location":"Wajang Theater, 4","startTime":"2015-01-25T22:30","endTime":"2015-01-26T02:30","duration":240,"noEnd":false},{"id":"2823145","title":"Movie","location":"Wajang Theater, 4","startTime":"2015-01-25T15:30","endTime":"2015-01-25T23:45","duration":495},{"id":"2816259","title":"Tender Ticket","location":"Wajang Theater, 4","startTime":"2015-01-25T08:00","endTime":"2015-01-25T09:00","duration":60},{"id":"2816255","title":"Party Planner","location":"Wajang Theater, 4","startTime":"2015-01-25T15:00","endTime":"2015-01-25T16:00","duration":60},{"id":"2816254","title":"Party Planner","location":"Wajang Theater, 4","startTime":"2015-01-25T13:00","endTime":"2015-01-25T14:00","duration":60},{"id":"2816253","title":"Party Planner","location":"Wajang Theater, 4","startTime":"2015-01-25T09:00","endTime":"2015-01-25T10:00","duration":60},{"id":"2816243","title":"Movie","location":"Wajang Theater, 4","startTime":"2015-01-25T20:00","endTime":"2015-01-25T22:00","duration":120},{"id":"2816218","title":"Cruise Director","location":"Wajang Theater, 4","startTime":"2015-01-25T11:00","endTime":"2015-01-25T12:00","duration":60},{"id":"3406283","title":"Event","location":"Wajang Theater, 4","startTime":"2015-01-25T16:30","endTime":"2015-01-25T17:30","duration":60,"noEnd":false},{"id":"3369642","title":"Event","location":"Wajang Theater, 4","startTime":"2015-01-25T17:00","endTime":"2015-01-25T18:00","duration":60,"noEnd":false},{"id":"2816261","title":"HAL Cats","location":"Lido Pool Area, 8","startTime":"2015-01-25T13:00","endTime":"2015-01-25T14:30","duration":90},{"id":"2816220","title":"Sail Away Party","location":"Lido Pool Area, 8","startTime":"2015-01-25T16:30","endTime":"2015-01-25T17:30","duration":60,"group":"4-COCKTAIL"},{"id":"2816238","title":"Lunch","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T12:00","endTime":"2015-01-25T13:00","duration":60},{"id":"2816222","title":"Dinner","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T17:15","endTime":"2015-01-25T21:00","duration":225},{"id":"2816221","title":"Breakfast","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T07:30","endTime":"2015-01-25T09:00","duration":90},{"id":"2816211","title":"Afternoon Tea","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T15:00","endTime":"2015-01-25T16:00","duration":60},{"id":"16000139577","title":"Tour dispatch","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T06:45","endTime":"2015-01-25T09:15","duration":150,"noEnd":false},{"id":"2816249","title":"Show","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T19:00","endTime":"2015-01-25T20:30","duration":90},{"id":"2816248","title":"Rehearsal","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T12:00","endTime":"2015-01-25T13:30","duration":90},{"id":"2816217","title":"Show","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T21:00","endTime":"2015-01-25T23:59","duration":179},{"id":"2816216","title":"Speed Bingo","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T20:30","endTime":"2015-01-25T21:00","duration":30},{"id":"2816215","title":"Speed Bingo","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T18:30","endTime":"2015-01-25T19:00","duration":30},{"id":"2816239","title":"Photo Gallery Hours","location":"Photo Gallery, 4","startTime":"2015-01-25T17:00","endTime":"2015-01-25T23:00","duration":360}]')),e.promise},getEventUpdatesForDate:function(){var e=t.defer();return e.resolve(JSON.parse('[{"id":"2816242","title":"PSA Desk Hours","location":"PSA Desk","startTime":"2015-01-25T17:30","endTime":"2015-01-25T18:30","duration":60},{"id":"2816241","title":"PSA Desk Hours-Gangway","location":"PSA Desk","startTime":"2015-01-25T08:00","endTime":"2015-01-25T09:30","duration":90},{"id":"2816237","title":"Lido Buffet Lunch","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T14:00","duration":150},{"id":"2816234","title":"Lido-Casual Dinner","location":"Lido Buffet, 8","startTime":"2015-01-25T17:30","endTime":"2015-01-25T20:30","duration":180},{"id":"2816233","title":"Lido-Pizza and Pasta","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T12:30","duration":60},{"id":"2816232","title":"Lido-The Sweets","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T12:30","duration":60},{"id":"2816231","title":"Lido-Terrace Grill","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T18:00","duration":390},{"id":"2816230","title":"Lido-Salad Bar","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T20:30","duration":540},{"id":"2816229","title":"Lido-Deli","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T17:00","duration":330},{"id":"2816228","title":"Lido-Wok","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T15:00","duration":210},{"id":"2816227","title":"Lido-Bistro","location":"Lido Buffet, 8","startTime":"2015-01-25T11:30","endTime":"2015-01-25T15:00","duration":210},{"id":"2816226","title":"Lido-Full Breakfast","location":"Lido Buffet, 8","startTime":"2015-01-25T06:30","endTime":"2015-01-25T10:30","duration":240},{"id":"2816225","title":"Lido-Continental Breakfast","location":"Lido Buffet, 8","startTime":"2015-01-25T06:00","endTime":"2015-01-25T11:00","duration":300},{"id":"2816223","title":"Late Night Snack","location":"Lido Buffet, 8","startTime":"2015-01-25T23:00","endTime":"2015-01-26T00:00","duration":60},{"id":"2816258","title":"Fitness Class","location":"Fitness Center, 8","startTime":"2015-01-25T08:00","endTime":"2015-01-25T08:30","duration":30},{"id":"2816256","title":"Fitness Class","location":"Fitness Center, 8","startTime":"2015-01-25T07:30","endTime":"2015-01-25T08:00","duration":30},{"id":"2816212","title":"Fitness Class","location":"Fitness Center, 8","startTime":"2015-01-25T17:00","endTime":"2015-01-25T18:00","duration":60},{"id":"2816257","title":"Walk-a-Mile","location":"Promenade, 4","startTime":"2015-01-25T07:30","endTime":"2015-01-25T08:30","duration":60},{"id":"2816250","title":"Basketball Free Throw Contest","location":"Sports Deck","startTime":"2015-01-25T15:30","endTime":"2015-01-25T16:30","duration":60},{"id":"16000139578","title":"Desk Hours","location":"Shore Excursions, 4","startTime":"2015-01-25T16:00","endTime":"2015-01-25T18:00","duration":120,"noEnd":false},{"id":"2816240","title":"Shorex Hours","location":"Shore Excursions, 4","startTime":"2015-01-25T16:30","endTime":"2015-01-25T18:30","duration":120},{"id":"3913916","title":"HOSP DESK","location":"Desk 1- Deck Three Atrium, Lower Promenade Deck","startTime":"2015-01-25T10:00","endTime":"2015-01-25T11:00","duration":60,"noEnd":false,"group":"3-HOSP"},{"id":"2816213","title":"Mass","location":"Hudson Room, 5","startTime":"2015-01-25T17:00","endTime":"2015-01-25T17:30","duration":30},{"id":"2816251","title":"Bar Hours","location":"Ocean Bar, 5","startTime":"2015-01-25T17:00","endTime":"2015-01-25T23:59","duration":419},{"id":"2816210","title":"Turbo Trivia","location":"Ocean Bar, 5","startTime":"2015-01-25T14:00","endTime":"2015-01-25T15:00","duration":60},{"id":"2816260","title":"Travel Guide","location":"Explorer\'s Lounge, 5","startTime":"2015-01-25T08:00","endTime":"2015-01-25T08:30","duration":30},{"id":"2816247","title":"Bar Hours","location":"Explorer\'s Lounge, 5","startTime":"2015-01-25T17:00","endTime":"2015-01-25T23:59","duration":419},{"id":"2816246","title":"Bar Hours","location":"Crow\'s Nest, 9","startTime":"2015-01-25T19:30","endTime":"2015-01-25T22:00","duration":150},{"id":"2816245","title":"Dance Class","location":"Crow\'s Nest, 9","startTime":"2015-01-25T16:00","endTime":"2015-01-25T17:00","duration":60},{"id":"2816244","title":"Dance Class","location":"Crow\'s Nest, 9","startTime":"2015-01-25T10:00","endTime":"2015-01-25T11:00","duration":60},{"id":"2816236","title":"Bar Hours","location":"Crow\'s Nest, 9","startTime":"2015-01-25T23:00","endTime":"2015-01-26T00:00","duration":60},{"id":"2816235","title":"Line Dance","location":"Crow\'s Nest, 9","startTime":"2015-01-25T22:00","endTime":"2015-01-25T23:00","duration":60},{"id":"2816252","title":"Bar Hours","location":"Amstel Cafe/Rembrandt Lounge, 5","startTime":"2015-01-25T19:00","endTime":"2015-01-25T23:59","duration":299},{"id":"16000139914","title":"Texas Hold\'em Cash Game","location":"Casino, 5","startTime":"2015-01-25T21:30","endTime":"2015-01-25T23:00","duration":90,"noEnd":false},{"id":"16000139913","title":"Three Card Poker Highest Hand Competition","location":"Casino, 5","startTime":"2015-01-25T19:30","endTime":"2015-01-25T23:00","duration":210,"noEnd":false},{"id":"2816224","title":"Dinner","location":"Pinnacle Grill, 4","startTime":"2015-01-25T17:30","endTime":"2015-01-25T21:30","duration":240},{"id":"3129720","title":"Movie","location":"Wajang Theater, 4","startTime":"2015-01-25T18:00","endTime":"2015-01-25T22:00","duration":240,"noEnd":false},{"id":"3430828","title":"Event","location":"Wajang Theater, 4","startTime":"2015-01-25T22:30","endTime":"2015-01-26T02:30","duration":240,"noEnd":false},{"id":"2823145","title":"Movie","location":"Wajang Theater, 4","startTime":"2015-01-25T15:30","endTime":"2015-01-25T23:45","duration":495},{"id":"2816259","title":"Tender Ticket","location":"Wajang Theater, 4","startTime":"2015-01-25T08:00","endTime":"2015-01-25T09:00","duration":60},{"id":"2816255","title":"Party Planner","location":"Wajang Theater, 4","startTime":"2015-01-25T15:00","endTime":"2015-01-25T16:00","duration":60},{"id":"2816254","title":"Party Planner","location":"Wajang Theater, 4","startTime":"2015-01-25T13:00","endTime":"2015-01-25T14:00","duration":60},{"id":"2816253","title":"Party Planner","location":"Wajang Theater, 4","startTime":"2015-01-25T09:00","endTime":"2015-01-25T10:00","duration":60},{"id":"2816243","title":"Movie","location":"Wajang Theater, 4","startTime":"2015-01-25T20:00","endTime":"2015-01-25T22:00","duration":120},{"id":"2816218","title":"Cruise Director","location":"Wajang Theater, 4","startTime":"2015-01-25T11:00","endTime":"2015-01-25T12:00","duration":60},{"id":"3406283","title":"Event","location":"Wajang Theater, 4","startTime":"2015-01-25T16:30","endTime":"2015-01-25T17:30","duration":60,"noEnd":false},{"id":"3369642","title":"Event","location":"Wajang Theater, 4","startTime":"2015-01-25T17:00","endTime":"2015-01-25T18:00","duration":60,"noEnd":false},{"id":"2816261","title":"HAL Cats","location":"Lido Pool Area, 8","startTime":"2015-01-25T13:00","endTime":"2015-01-25T14:30","duration":90},{"id":"2816220","title":"Sail Away Party","location":"Lido Pool Area, 8","startTime":"2015-01-25T16:30","endTime":"2015-01-25T17:30","duration":60,"group":"4-COCKTAIL"},{"id":"2816238","title":"Lunch","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T12:00","endTime":"2015-01-25T13:00","duration":60},{"id":"2816222","title":"Dinner","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T17:15","endTime":"2015-01-25T21:00","duration":225},{"id":"2816221","title":"Breakfast","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T07:30","endTime":"2015-01-25T09:00","duration":90},{"id":"2816211","title":"Afternoon Tea","location":"La Fontaine Dining Room Upper and Lower, 4 & 5","startTime":"2015-01-25T15:00","endTime":"2015-01-25T16:00","duration":60},{"id":"16000139577","title":"Tour dispatch","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T06:45","endTime":"2015-01-25T09:15","duration":150,"noEnd":false},{"id":"2816249","title":"Show","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T19:00","endTime":"2015-01-25T20:30","duration":90},{"id":"2816248","title":"Rehearsal","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T12:00","endTime":"2015-01-25T13:30","duration":90},{"id":"2816217","title":"Show","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T21:00","endTime":"2015-01-25T23:59","duration":179},{"id":"2816216","title":"Speed Bingo","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T20:30","endTime":"2015-01-25T21:00","duration":30},{"id":"2816215","title":"Speed Bingo","location":"Queen\'s Lounge, 4","startTime":"2015-01-25T18:30","endTime":"2015-01-25T19:00","duration":30},{"id":"2816239","title":"Photo Gallery Hours","location":"Photo Gallery, 4","startTime":"2015-01-25T17:00","endTime":"2015-01-25T23:00","duration":360}]')),e.promise}}}]),t.module("hal.dataServices.Excursions",["restangular"]).service("ExcursionsDataService",["Restangular","$q",function(e,t){var n=e.one("excursions/v1.0.0"),r="ship",i=function(){var e=t.defer();return e.resolve(JSON.parse('[{"nbrTour":"32609","nameExcursion":"Tahiti\'s Natural Treasures","description":"<P>On this charming<B> island tour</B>, discover the natural beauty of Tahiti. Head towards the east coast, passing the <B>Tahara&#8217;a Point. </B>Enjoy a short <B>walk</B> to <B>Point Venus</B>&#8212;the historic landing site for most European explorers and evangelists, and also the point from which Captain Cook observed the transit of Venus in 1769. It boasts the only lighthouse on the island, built in 1867. Your guide will allow you some time here to appreciate the view and take photos, and the <B>handicraft center</B> adjacent to the lighthouse offers a chance to pick up a souvenir. Continue down to the south of the island, along the steep coastline, until you reach the Gauguin Restaurant, where you&#8217;ll stop for <B>refreshments</B> and to stretch your legs. At the <B>Spring Garden of Vaipahi</B>, you&#8217;ll find rare species of precious wood and tropical flowers. During a short stop, you&#8217;ll see one of the island&#8217;s prettiest black sand beaches&#8212;the famous <B>Papara Surf Beach</B>. The ideal conditions here attract the very best of the local surfers hoping to perfect their skills.","nbrDuration":4.25,"codeActivityLevel":"1","adultPriceAvailable":false,"adultPrice":129.95,"adultPromoPriceAvailable":false,"adultPromoPrice":0,"adultPriceAppliedPromoCode":"0","childPriceAvailable":false,"childPrice":0,"childPromoPriceAvailable":false,"childPromoPrice":0,"childPriceAppliedPromoCode":"0","okToBook":false,"excursionDepartures":[{"idTourDprt":138984,"nbrTour":"32609","dateDprt":"2015-01-25","timeDprt":"07:15","meetingPoint":"Queen\'s Lounge/Deck 4/starboard side","countForSale":76,"okToBook":false}],"excursionActivities":[{"activityCode":29,"activityName":"All"},{"activityCode":12,"activityName":"Local Sightseeing"}]},{"nbrTour":"32621","nameExcursion":"Dive Tahiti: Beginner 1 Tank Dive","description":"<P>Diving is available, fun &amp; consistent all year round in Tahiti. The water is warm (26&#176;C = 79&#176;F to 29&#176;C = 84&#176;F) and thanks to the amazing visibility (from 30m to 50m, ie 70ft up to 150ft), a great number of large species can be observed all year long around most of the islands: turtles, sting rays, eagle rays, jack fish, barracudas, sharks, eels, Napoleon wrasses, dolphins, tunas, schools of snappers, numerous species of shells &amp; nudibranchs. Most of the dives in Tahiti &amp; her islands are classified Open Water /Advanced Open Water (PADI) or Level I, II (CMAS). Note that it all happens within 5 to 25 m (30 &#8211; 80 ft) below the surface, for the enjoyment of everyone! <P><B></B><P><STRONG>Notes:</STRONG> <P>Initiation Dive operates in the afternoon. Timing and availability will be confirmed onboard. Diver questionnaire to be completed 24hrs ahead. Should a diver be refused or not able to dive on spot for any reason, dive will not be refunded. Divers should have a reasonable level of physical fitness to cope with the environmental stresses of being underwater. A valid medical certificate is always good &amp; helpful however not required. Please check with DAN (Divers Alert Network) or specific travel insurance companies to ensure full coverage before diving and recommendations about Dive Fitness. Each diver should know &amp; control his personal limits. As a general rule, please note that no diving is allowed within the 12 to 24 hours prior to a domestic or international flight. <P><P>In French Polynesia, the diving price generally includes: <P>The guide (according to French regulations, all dives are Dive Master led &amp; secured), the boat transfer to the dive site, as well as the equipment (tank, weight, weight belt, BCD, regulators with gauges, mask, snorkel, fins). Dive computers are usually availableto rent. Regarding the suits, light wetsuits or skin suits are sufficient for thermo protection, they may be provided by the dive operators upon request.","nbrDuration":1.75,"codeActivityLevel":"3","adultPriceAvailable":false,"adultPrice":129.95,"adultPromoPriceAvailable":false,"adultPromoPrice":0,"adultPriceAppliedPromoCode":"0","childPriceAvailable":false,"childPrice":0,"childPromoPriceAvailable":false,"childPromoPrice":0,"childPriceAppliedPromoCode":"0","okToBook":false,"excursionDepartures":[{"idTourDprt":139442,"nbrTour":"32621","dateDprt":"2015-01-25","timeDprt":"13:30","meetingPoint":"End of Pier Ashore","countForSale":4,"okToBook":false}],"excursionActivities":[{"activityCode":29,"activityName":"All"}]},{"nbrTour":"32622","nameExcursion":"Dive Tahiti: 2 Tank Certified Dive","description":"<P>Diving is available, fun &amp; consistent all year round in Tahiti. The water is warm (26&#176;C = 79&#176;F to 29&#176;C = 84&#176;F) and thanks to the amazing visibility (from 30m to 50m, ie 70ft up to 150ft), a great number of large species can be observed all year long around most of the islands: turtles, sting rays, eagle rays, jack fish, barracudas, sharks, eels, Napoleon wrasses, dolphins, tunas, schools of snappers, numerous species of shells &amp; nudibranchs. Most of the dives in Tahiti &amp; her islands are classified Open Water /Advanced Open Water (PADI) or Level I, II (CMAS). Note that it all happens within 5 to 25 m (30 &#8211; 80 ft) below the surface, for the enjoyment of everyone!<P><B></B><P><STRONG>Notes:</STRONG> <P>2 tank dive generally operates in the morning. Timing and availability will be confirmed onboard. Diver questionnaire to be completed 24hrs ahead. Should a diver be refused or not able to dive on spot for any reason, dive will not be refunded. Divers should have a reasonable level of physical fitness to cope with the environmental stresses of being underwater. A valid medical certificate is always good &amp; helpful however not required. Please check with DAN (Divers Alert Network) or specific travel insurance companies to ensure full coverage before diving and recommendations about Dive Fitness. Each diver should know &amp; control his personal limits. As a general rule, please note that no diving is allowed within the 12 to 24 hours prior to a domestic or international flight. <P><P>In French Polynesia, the diving price generally includes:<P>The guide (according to French regulations, all dives are Dive Master led &amp; secured), the boat transfer to the dive site, as well as the equipment (tank, weight, weight belt, BCD, regulators with gauges, mask, snorkel, fins). Dive computers are usually availableto rent. Regarding the suits, light wetsuits or skin suits are sufficient for thermo protection, they may be provided by the dive operators upon request.","nbrDuration":3.5,"codeActivityLevel":"3","adultPriceAvailable":false,"adultPrice":189.95,"adultPromoPriceAvailable":false,"adultPromoPrice":0,"adultPriceAppliedPromoCode":"0","childPriceAvailable":false,"childPrice":0,"childPromoPriceAvailable":false,"childPromoPrice":0,"childPriceAppliedPromoCode":"0","okToBook":false,"excursionDepartures":[{"idTourDprt":139443,"nbrTour":"32622","dateDprt":"2015-01-25","timeDprt":"08:30","meetingPoint":"Queen\'s Lounge/Deck 4/starboard side","countForSale":4,"okToBook":false}],"excursionActivities":[{"activityCode":29,"activityName":"All"}]},{"nbrTour":"32610","nameExcursion":"Off the Beaten Track: Tahiti by 4-Wheel-Drive","description":"<P>Board a 4x4 vehicle for a great adventure deep into the unspoiled interior of Tahiti. You will head towards the east coast, and make your way to the <B>Papenoo Valley</B>. Pass cascading waterfalls, luxuriant tropical vegetation and exotic flowers, and discover an array of unspoiled treasures. Bring your camera to capture the beauty of the scenery and the breathtaking views from this valley. Time permitting, you can take a refreshing dip in the river en route. <P><STRONG>Notes:</STRONG><P>Wear your swimsuit under your clothing; bring a towel, sunscreen and a hat. Access to the valley is weather permitting. This excursion involves rough off-road driving and steep ascents and descents. Guests who are not reasonably physically fit may not be comfortable on this tour. Not suitable for pregnant women or those with back problems, motion sickness or vertigo. Each vehicle accommodates eight guests. Large families or couples may be split up dependent on tour numbers. The driver is your guide and commentary will be limited.","nbrDuration":4,"codeActivityLevel":"2","adultPriceAvailable":false,"adultPrice":119.95,"adultPromoPriceAvailable":false,"adultPromoPrice":0,"adultPriceAppliedPromoCode":"0","childPriceAvailable":false,"childPrice":0,"childPromoPriceAvailable":false,"childPromoPrice":0,"childPriceAppliedPromoCode":"0","okToBook":false,"excursionDepartures":[{"idTourDprt":138986,"nbrTour":"32610","dateDprt":"2015-01-25","timeDprt":"07:15","meetingPoint":"Queen\'s Lounge/Deck 4/starboard side","countForSale":27,"okToBook":false},{"idTourDprt":138987,"nbrTour":"32610","dateDprt":"2015-01-25","timeDprt":"07:15","meetingPoint":"Queen\'s Lounge/Deck 4/starboard side","countForSale":2,"okToBook":false}],"excursionActivities":[{"activityCode":1,"activityName":"Adventure"},{"activityCode":29,"activityName":"All"},{"activityCode":10,"activityName":"Jeep/4-Wheel-Drive/ATV"},{"activityCode":12,"activityName":"Local Sightseeing"},{"activityCode":28,"activityName":"Swimming"}]},{"nbrTour":"32620","nameExcursion":"East Coast Highlights","description":"<P>Head towards the east coast of Tahiti to visit the <B>James Norman Hall House</B>. This interesting home displays the daily environment of the famous American poet and writer of contemporary American literature. Continue to Matavai Bay and <B>Point Venus</B>. This was the historic landing site for most European explorers and evangelists, and was also the point from which Captain Cook observed the transit of Venus in 1769. It boasts the only lighthouse on the island, built in 1867. A <B>handicraft center </B>located next to the lighthouse offers a chance to make a local purchase. Your last stop will include a short <B>walk</B> to the<B> Tahara Viewpoint</B>. Your guide will allow you some time to appreciate view and snap a few photos. <B><P>Notes:</B><P>Traffic can be unpredictable. The driver will do his/her best to keep moving safely. Your patience is greatly appreciated. Delays occasionally extend tour duration. ","nbrDuration":2.5,"codeActivityLevel":"2","adultPriceAvailable":false,"adultPrice":99.95,"adultPromoPriceAvailable":false,"adultPromoPrice":0,"adultPriceAppliedPromoCode":"0","childPriceAvailable":false,"childPrice":0,"childPromoPriceAvailable":false,"childPromoPrice":0,"childPriceAppliedPromoCode":"0","okToBook":false,"excursionDepartures":[{"idTourDprt":138996,"nbrTour":"32620","dateDprt":"2015-01-25","timeDprt":"08:00","meetingPoint":"Queen\'s Lounge/Deck 4/starboard side","countForSale":77,"okToBook":false},{"idTourDprt":138997,"nbrTour":"32620","dateDprt":"2015-01-25","timeDprt":"13:00","meetingPoint":"End of Pier Ashore","countForSale":78,"okToBook":false}],"excursionActivities":[{"activityCode":29,"activityName":"All"}]},{"nbrTour":"32607","nameExcursion":"Tahiti: Around the Island","description":"<P>This unique opportunity to discover the hidden charms of Tahiti takes you to the east coast of the island, with a stop at the <B>James Norman Hall House</B> en route. The home displays the daily environment of this poet and writer of American contemporary literature. Continue on to Matavai Bay, with a stop at Tahara&#8217;a Point to take photos. You will pass Point Venus&#8212;the historic landing site of European discoverers and evangelists. Today it is home to the only lighthouse on the island, built in 1867. A handicraft center is located next to the lighthouse, where you will have time to explore on your own. <B>Lunch</B> will be served at the Gauguin Restaurant; then you will visit Vaipahi Garden. Visit the <B>Museum of Tahiti &amp; Her Islands</B>. Located in Punaauia, on the west coast of Tahiti, the museum displays a large array of archaeological finds, Polynesian artwork, and costumes that tell the story of ancient Tahiti.<B><P>Notes:</B><P>Bring water and insect repellent.","nbrDuration":7,"codeActivityLevel":"1","adultPriceAvailable":false,"adultPrice":199.95,"adultPromoPriceAvailable":false,"adultPromoPrice":0,"adultPriceAppliedPromoCode":"0","childPriceAvailable":false,"childPrice":0,"childPromoPriceAvailable":false,"childPromoPrice":0,"childPriceAppliedPromoCode":"0","okToBook":false,"excursionDepartures":[{"idTourDprt":138983,"nbrTour":"32607","dateDprt":"2015-01-25","timeDprt":"09:00","meetingPoint":"Queen\'s Lounge/Deck 4/starboard side","countForSale":117,"okToBook":false}],"excursionActivities":[{"activityCode":29,"activityName":"All"},{"activityCode":12,"activityName":"Local Sightseeing"},{"activityCode":35,"activityName":"Meal"}]},{"nbrTour":"32615","nameExcursion":"Tahiti Lagoon Discovery","description":"<P>This <B>boat</B> tour will take you across the blue waters of Tahiti, to <B><U>either</U> the east <U>or</U> west coast</B>, depending on the weather conditions, wind and currents. Fresh fruits will be offered and water will available during the entire excursion. After a brief tour in the harbor of Papeete, where you will see the fishermen&#8217;s wharf, you will head to today&#8217;s snorkel site. Masks and <B>snorkel</B> gear are available for those who wish to discover some of the sea life living by the coastal reef.<P><STRONG>The</STRONG> <B>East Coast</B>: Your captain will anchor off the Tahara&#8217;a coast and you will be able to dive in the refreshing waters of Matavai Bay. You may be lucky enough to spot dolphins, often seen in this area.<P><STRONG>The West Coast:</STRONG> You will make your way to the island&#8217;s west coast, passing Tahiti&#8217;s International Airport and numerous hotels and anchoring near Fa&#8217;aa for some swimming and snorkeling. Depending on the underwater visibility, you may be able to see some of the <B>wrecks</B> that lie on the bottom of the turquoise sea.<P><STRONG>Notes:</STRONG><P>Itinerary and stops may be reduced or may differ dependent upon weather conditions. Guests should know how to swim and be comfortable wearing snorkeling equipment, being in deep water and coping with occasional currents. Guests may remain in the boat, but viewing will be limited. For your own safety and to help preserve the environment, when snorkeling, do not touch or step on coral. A high step must be negotiated to get in and out of the boat. Wildlife sightings are likely but are not guaranteed. Wear your swimsuit under your clothing, aqua shoes, a rash guard or t-shirt, biodegradable sunscreen and a hat; bring a towel. Mask and snorkel provided.","nbrDuration":3,"codeActivityLevel":"2","adultPriceAvailable":false,"adultPrice":139.95,"adultPromoPriceAvailable":false,"adultPromoPrice":0,"adultPriceAppliedPromoCode":"0","childPriceAvailable":false,"childPrice":0,"childPromoPriceAvailable":false,"childPromoPrice":0,"childPriceAppliedPromoCode":"0","okToBook":false,"excursionDepartures":[{"idTourDprt":138989,"nbrTour":"32615","dateDprt":"2015-01-25","timeDprt":"00:00","meetingPoint":"Queen\'s Lounge/Deck 4/starboard side","countForSale":0,"okToBook":false},{"idTourDprt":146525,"nbrTour":"32615","dateDprt":"2015-01-25","timeDprt":"13:00","countForSale":26,"okToBook":false}],"excursionActivities":[{"activityCode":29,"activityName":"All"},{"activityCode":12,"activityName":"Local Sightseeing"},{"activityCode":36,"activityName":"Snack"},{"activityCode":20,"activityName":"Snorkeling"},{"activityCode":28,"activityName":"Swimming"}]},{"nbrTour":"32617","nameExcursion":"Tahiti Sail by Catamaran","description":"<P>Explore Tahiti\'s beauty from above and below sea level during this relaxing sailing and snorkeling excursion aboard a<B> catamaran</B>. Depart the Papeete promenade aboard a beautiful 43-foot sailing catamaran. You will ride out of Papeete harbor, then set sail along the beautiful reef. After enjoying sailing, you will be back in the lagoon, the captain will drop anchor in the clear blue waters. After some safety and snorkeling instructions, the crew will guide you on an interesting and refreshing <B>snorkeling </B>discovery excursion before you head back to the pier.<P><STRONG>Notes:</STRONG><P>There will be an approximately 400-yard walk to reach the boat. The focus of this tour is sailing; the coral formation is limited to the snorkeling area. This is a casual sail with limited narration from the guide. Itinerary and stops are weather permitting. Guests should know how to swim, be comfortable wearing snorkeling equipment and being in deep water, and be able to cope with occasional currents. You may remain on the boat, but viewing will be limited. Depth of water is not guaranteed due to currents and sea level variation. Wildlife sightings are likely but are not guaranteed. For your own safety and to help preserve the environment, when snorkeling, do not touch or step on coral. Participants must be physically fit to negotiate a high step to get into and out of the boat. You must remove your shoes when boarding the vessel.","nbrDuration":3,"codeActivityLevel":"2","adultPriceAvailable":false,"adultPrice":159.95,"adultPromoPriceAvailable":false,"adultPromoPrice":0,"adultPriceAppliedPromoCode":"0","childPriceAvailable":false,"childPrice":64.95,"childPromoPriceAvailable":false,"childPromoPrice":0,"childPriceAppliedPromoCode":"0","okToBook":false,"excursionDepartures":[{"idTourDprt":146526,"nbrTour":"32617","dateDprt":"2015-01-25","timeDprt":"09:00","countForSale":14,"okToBook":false},{"idTourDprt":146527,"nbrTour":"32617","dateDprt":"2015-01-25","timeDprt":"13:00","countForSale":14,"okToBook":false}],"excursionActivities":[{"activityCode":29,"activityName":"All"},{"activityCode":36,"activityName":"Snack"}]},{"nbrTour":"32618","nameExcursion":"Discover Tahiti\'s West Coast","description":"<P>Departing Papeete, your tour will take you along the West Coast of the island of Tahiti, heading south to the <B>Vaipahi Gardens</B> where rare species of precious wood and tropical flowers can be found. Next, visit <B>Arahurahu Marae</B>, situated in a beautiful valley. It is a short walk to this quite sacred place which served both religious and social purposes in pre-Christian Polynesian societies. Your last stop will be In the residential district of <B>Punaauia,</B> where you will visit the <B>Museum of Tahiti &amp; her Islands</B>, located on La Pointe des Pecheurs (Fishermen\'s Point). This museum displays not only a number of archeological finds, but you will also be able to get an impression of the island\'s geology, its flora and fauna, and learn about the culture and customs in ancient and modern Tahiti.","nbrDuration":4,"codeActivityLevel":"2","adultPriceAvailable":false,"adultPrice":139.95,"adultPromoPriceAvailable":false,"adultPromoPrice":0,"adultPriceAppliedPromoCode":"0","childPriceAvailable":false,"childPrice":0,"childPromoPriceAvailable":false,"childPromoPrice":0,"childPriceAppliedPromoCode":"0","okToBook":false,"excursionDepartures":[{"idTourDprt":138994,"nbrTour":"32618","dateDprt":"2015-01-25","timeDprt":"12:00","meetingPoint":"End of Pier Ashore","countForSale":74,"okToBook":false},{"idTourDprt":138995,"nbrTour":"32618","dateDprt":"2015-01-25","timeDprt":"12:00","meetingPoint":"End of Pier Ashore","countForSale":4,"okToBook":false}],"excursionActivities":[{"activityCode":29,"activityName":"All"}]}]')),function(){return e.promise
}},a=function(e,t){var r=n;return r.get({fromDate:e,toDate:t})},o=function(e){var t=n;return t.get({serviceDate:e})},s=function(e){var t=n.one("tour").one("departure");return t.get({serviceDate:e})},l=function(e,t,i,a){var o={"Client-Id":r},s=(new Date).getTime()+t,l=n.one("user",t).one("tour",e),c={transactionId:s,pinCode:i,guests:a};return l.post("",c,null,o)},c=function(e){var t=n.one("tour").one(e);return t.get};return{getExcursionsForCurrentSegment:i,getExcursionsForPeriod:a,getExcursionsForDate:o,getDeparturesForDate:s,addExcursionForGuest:l,getExcursionById:c}}]),t.module("hal.dataServices.Guest",["restangular"]).service("GuestDataService",["Restangular",function(e){var t=e.one("guest/v1.0.0"),n=function(e){var n=t.one("user").one(e).one("party");return n.get},r=function(e){var n=t.one("user").one(e).one("itinerary");return n.get},i=function(e){var n=t.one("user").one(e);return n.get},a=function(e,n){var r=t.one("user").one(e).one("feedback");return r.post("",n,null,null)},o=function(e){var n=t.one("feedback");return n.post("",e,null,null)};return{getBookingByUserId:n,getItineraryByUserId:r,getUserByUserId:i,addFeedBackForUserId:a,addFeedBackForGuest:o}}]),t.module("hal.dataServices.MyEvents",["restangular"]).service("MyEventsDataService",["Restangular",function(e){var t=e.one("myEvents/v1.0.0/user"),n=function(e){var n=t.one(e).one("myEvent");return n.get},r=function(e,n){var r=t.one(e).one("myEvent");return r.post("",{eventId:n})},i=function(e,n){var r=t.one(e).one("myEvent").one(n);return r.remove()},a=function(e){var n=t.one(e).one("myEvent");return n.remove()};return{getEventsForUser:n,addEventForUser:r,deleteEventForUser:i,deleteAllEventForUser:a}}]),t.module("hal.dataServices.registration",["restangular"]).service("RegistrationDataService",["Restangular","$q",function(e,t){var n=e.one("registration/v1.0.0/companyCode/HAL"),r="ship",i={check:"SHIP_CHECK",register:"SHIP"},a=function(e,t,n,r,a,o,s,l){var c={type:i.check,firstName:e,lastName:t,cabinNumber:n,birthDate:r};return a&&o&&l&&(c.acceptedTerms=s,c.type=i.register,c.secretQuestion=a,c.secretAnswer=o,c.pinCode=l),c},o=function(){return{"Client-Id":r}},s=function(e,r,i,s,l,c,u,d){var p=t.defer(),h=a(e,r,i,s,l,c,u,d),f=o();return n.post("",h,{},f).then(function(e){p.resolve(e)},function(e){p.reject(e)}),p.promise},l=function(e,r,i,s){var l=t.defer(),c=a(e,r,i,s),u=o();return n.post("check",c,{},u).then(function(e){l.resolve(e)},function(e){l.reject(e)}),l.promise},c=function(e,r,i,s){var l=t.defer(),c=a(e,r,i,s),u=o();return n.post("secretQuestion",c,{},u).then(function(e){l.resolve(e)},function(e){l.reject(e)}),l.promise};return{register:s,getQuestion:c,verify:l}}]),t.module("hal.dataServices.Schedule",["restangular"]).service("ScheduleDataService",["Restangular",function(e){var t=e.one("schedule/v1.0.0/user"),n=function(e,n){var r=t.one(e);return r.get({date:n})};return{getScheduleForUser:n}}]),t.module("hal.dataServices.ShipInfo",["restangular"]).service("ShipInfoDataService",["Restangular","$q","$filter",function(e,t){e.one("shipinfo/v1.0.0");var n=function(){var e=t.defer();return new Date,e.resolve({shipDateTime:"2015-01-25T10:03"}),function(){return e.promise}},r=function(){var e=t.defer();return e.resolve(JSON.parse('[{"portCode":"BOB","portDescription":"BORA BORA","dayDescription":"Bora Bora, French Polynesia","atSea":false,"date":"2015-01-25","arrivalTime":"08:00","departureTime":"17:00","allAboardTime":"16:30"}]')),function(){return e.promise}};return{getShipDateTime:n,getShipItinerary:r}}]),t.module("hal-ship.directives.authGuestInfoForm",["pascalprecht.translate"]).directive("authGuestInfoForm",["$translate","$filter",function(){return{restrict:"E",templateUrl:"directives/authGuestInfoForm/authGuestInfoForm.tpl.html",link:function(e){e.guest={firstName:e.firstName,lastName:e.lastName,cabinNumber:e.cabinNumber,birthdate:e.birthdate},e.$watch("combinedDate",function(){e.guest.birthdate=e.combinedDate})}}}]),t.module("hal-ship.directives.birthdatePicker",["pascalprecht.translate"]).directive("birthdatePicker",["$translate","$filter",function(e,t){return{restrict:"E",templateUrl:"directives/birthdatePicker/birthdatePicker.tpl.html",require:"ngModel",link:function(n,r,i,a){function o(e){n.errorObject.birthdate.userError=!0,0>n.errorObject.birthdate.messages.indexOf(e)&&n.errorObject.birthdate.messages.push(e)}function s(e){if(e){var t=n.errorObject.birthdate.messages?n.errorObject.birthdate.messages.indexOf(e):-1;t>-1&&(n.errorObject.birthdate.messages.splice(t,1),n.errorObject.birthdate.userError=n.errorObject.birthdate.messages.length>0)}}n.correctMonth="",n.correctDay="",n.correctYear="",n.monthsObj={},n.daysArray=[],n.yearsArray=[];var l={"01":"shared.months.full.01","02":"shared.months.full.02","03":"shared.months.full.03","04":"shared.months.full.04","05":"shared.months.full.05","06":"shared.months.full.06","07":"shared.months.full.07","08":"shared.months.full.08","09":"shared.months.full.09",10:"shared.months.full.10",11:"shared.months.full.11",12:"shared.months.full.12"},c={birthdateError:"Birthdate is not a valid date. Please correct and continue."};n.errorObject.birthdate={userError:!1,messages:[]};var u=function(t,r){e(t).then(function(e){n.monthsObj[r]=e})};for(var d in l)if(l.hasOwnProperty(d)){var p=l[d];u(p,d)}(function(){for(var e=1;31>=e;)n.daysArray.push(e),e++})(),function(){for(var e=t("date")(new Date,"yyyy"),r=e-110;e>=r;)n.yearsArray.push(r),r++}();var h=function(e){return 10>e?"0"+e:""+e};n.$watch("month",function(){n.month&&(n.correctMonth=n.month,n.changeDate())}),n.$watch("day",function(){n.day&&(n.correctDay=h(n.day),n.changeDate())}),n.$watch("year",function(){n.year&&(n.correctYear=""+n.year,n.changeDate())}),n.changeDate=function(){n.tempDateObject=t("date")(new Date(n.correctMonth+"/"+n.correctDay+"/"+n.correctYear),"yyyyMMdd"),n.tempStringDate=n.correctYear+n.correctMonth+n.correctDay,n.correctYear&&n.correctMonth&&n.correctDay&&(n.tempDateObject===n.tempStringDate&&(n.combinedDate=n.tempStringDate,a.$setValidity("birthdate",!0),s(c.birthdateError)),n.tempDateObject!==n.tempStringDate&&(o(c.birthdateError),a.$setValidity("birthdate",!1)))}}}}]),t.module("hal-ship.directives.dayPortInfo",[]).directive("dayPortInfo",function(){return{restrict:"E",replace:!0,templateUrl:"directives/dayPortInfo/dayPortInfo.tpl.html",link:function(){}}}),t.module("hal-ship.directives.eventDetails",["hal-ship.core.NetworkStatus","hal-ship.services.ShipTimeService","hal-ship.services.AuthService","hal-ship.services.UserService"]).directive("eventDetails",["NetworkStatusService","ShipTimeService","AuthService","UserService","$filter",function(e,t,n,r,i){return{restrict:"E",replace:!0,transclude:!0,scope:{event:"=",eventType:"@",isBooked:"="},templateUrl:"directives/eventDetails/eventDetails.tpl.html",link:function(a){var o=21,s=0;a.NetworkService=e,a.collapsed=!0,a.readingPaneLinkText="",a.accentColors=[1,2,3],a.accent=Math.floor(Math.random()*a.accentColors.length),a.bookable=!1,a.onBook=function(){},a.currentDateTime=null,a.cutoffDateTime=null,a.userInformation=null,a.getUserInformation=function(){var e=n.getCurrentUser();e&&r.getUserByUserId(e.principal).then(function(e){a.userInformation=e},function(){})},a.getCutoffDateTime=function(e){if(a.event){var t=i("date")(e.dateTime,"yyyy"),n=i("date")(e.dateTime,"MM"),r=i("date")(e.dateTime,"dd");return new Date(t,n-1,r-1,o,s)}return null},a.getEventDateTime=function(e){if(a.event){var t=i("date")(e.dateTime,"yyyy"),n=i("date")(e.dateTime,"MM"),r=i("date")(e.dateTime,"dd"),o=i("date")(e.dateTime,"HH"),s=i("date")(e.dateTime,"mm");return new Date(t,n-1,r,o,s)}return null},a.getCurrentTime=function(){t.getTime().then(function(e){a.currentDateTime=e?new Date(e):new Date},function(){a.currentDateTime=new Date})},a.getCurrentTime(),a.getUserInformation(),a.bookButtonIsEnabled=function(){return"offline"===a.NetworkService.status?!1:!0},a.bookButtonIsVisible=function(){if(!a.event)return!1;if(!a.currentDateTime)return!1;var e=a.getCutoffDateTime(a.event)||0,t=a.currentDateTime>e;return t?!1:0>=a.event.seatsAvailable?!1:a.userInformation&&"A"!=a.userInformation.ageCode?!1:!0},a.showPurchaseMessage=function(){var e=a.getCutoffDateTime(a.event)||0,t=a.currentDateTime>e,n=a.currentDateTime<a.getEventDateTime(a.event);return t&&n},a.$watch("collapsed",function(e){a.readingPaneLinkText=e===!0?"See full details":"Collapse full details"}),a.toggleCollapse=function(){a.collapsed=a.collapsed?!1:!0},a.expandReadingPane=function(){a.collapsed=!1}}}}]),t.module("hal-ship.directives.eventSummary",[]).directive("eventSummary",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{event:"="},templateUrl:"directives/eventSummary/eventSummary.tpl.html",link:function(e){e.event.description&&(e.event.description.length=0)&&(e.event.description=null)}}}),t.module("hal-ship.directives.fallbackImg",[]).directive("fallbackImg",["$q",function(e){return{restrict:"A",link:function(r,i,a){var o=function(n){var r=e.defer(),i=new Image;i.src=n;var a=t.element(i);return a.on("error",function(){console.log("load error (%o)",n),r.reject(a)}),a.on("load",function(){console.log("load complete (%o)",n),r.resolve(a)}),r.promise},s=function(){a.$observe("style",function(){var e=i[0].style.backgroundImage.replace(/url\("?/,"").replace(/"?\)/,"");o(e).then(function(){i[0].style.backgroundImage="url("+e+")"},function(){i[0].style.backgroundImage="url("+r.fallback+")"})})},l=function(){a.$observe("ng-src",function(){var e=a.ngSrc;o(e).then(function(){i.attr("src",e)},function(){i.attr("src",r.fallback)})})},c=function(){return"img"===i[0].tagName.toLowerCase()?"img":i[0].style.backgroundImage?"background":null},u=function(){var e=c();return i&&e?("img"===e?l():s(),n):null};a.$observe("fallbackImg",function(e){r.fallback=e}),u()}}}]),t.module("hal-ship.directives.fieldMatchCheck",[]).directive("fieldMatchCheck",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){e.$watch(n.ngModel,function(t){var i=e.$eval(n.compareValue)||"";t&&""!==i&&r.$setValidity("fieldMatch",i===t)}),e.$watch(n.compareValue,function(t){var i=e.$eval(n.ngModel)||"";t&&""!==i&&r.$setValidity("fieldMatch",t===i)})}}}),t.module("hal-ship.directives.halBackNav",["ui.router"]).directive("halBackNav",["$window",function(e){return{restrict:"E",replace:!0,transclude:!0,scope:{pageTitle:"="},templateUrl:"directives/halBackNav/halBackNav.tpl.html",link:function(t){t.navBack=function(){e.history.back()}}}}]),t.module("hal-ship.directives.halContentLoader",["hal-ship.services.CdsService","hal-ship.services.ShoreExcursionsService","hal-ship.core.PreloaderService"]).directive("halContentLoader",["PreloaderService",function(e){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directives/halContentLoader/halContentLoader.tpl.html",link:function(n,r){n.$watch(function(){return e.getImageAssets()},function(e){if(e){i();for(var t in e)e.hasOwnProperty(t)&&a(t,e[t])}});var i=function(){r.html("")},a=function(e,n){var i=t.element(document.createElement("img"));i.attr("src",e),i.bind("error",function(){n.callback.reject(n)}),i.bind("load",function(){n.callback.resolve(e)}),r.append(i)}}}}]),t.module("hal-ship.directives.halLoadingScreen",[]).directive("halLoadingScreen",["$interval",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directives/halLoadingScreen/halLoadingScreen.tpl.html",scope:{messageText:"=",infoText:"="},link:function(e){e.mockInfoIndex=0,e.mockInfo=["Loading excursion information...","Sacrificing goat...","Loading itinerary information...","Loading dining information...","Checking lifeboats...","Loading memes...","Becoming sentient..."]}}}]),t.module("hal-ship.directives.halModal",[]).directive("halModal",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directives/halModal/halModal.tpl.html",link:function(){}}}),t.module("hal-ship.directives.halNetworkStatusIcon",["hal-ship.core.NetworkStatus"]).directive("halNetworkStatusIcon",["NetworkStatusService",function(e){return{restrict:"E",replace:!0,transclude:!0,scope:{},templateUrl:"directives/halNetworkStatusIcon/halNetworkStatusIcon.tpl.html",link:function(t){t.networkService=e,t.status=function(){var t;return t="offline"===e.status?"offline":"online"===e.status?"online":n}}}}]),t.module("hal-ship.directives.halShipHeader",["hal-ship.services.AuthService","hal-ship.services.ItineraryService"]).directive("halShipHeader",["$filter","AuthService","ItineraryService",function(e,n,r){return{restrict:"E",replace:!0,transclude:!0,scope:{},templateUrl:"directives/halShipHeader/halShipHeader.tpl.html",link:function(e){e.navShown=!1,e.itineraryService=r,e.itineraryService.getInfoForToday().then(function(t){e.today=t.navFormat}),e.isAuthenticated=n.isAuthenticated();var i=t.element(document.body);e.$on("LOGIN_EVENT",function(){e.isAuthenticated=!0}),e.$on("LOGOUT_EVENT",function(){e.isAuthenticated=!1}),e.user=n.getCurrentUser(),e.token="",e.$watch("isAuthenticated",function(){e.token=n.getToken()}),document.addEventListener("click",function(e){i.hasClass("nav-shown")?-1==e.target.className.indexOf("nav-options")&&-1==e.target.className.indexOf("nav-option-list")&&-1==e.target.id.indexOf("hal-ship-header")&&i.removeClass("nav-shown"):e.target.className.indexOf("mobile-nav-flyout-button")>-1&&i.addClass("nav-shown")})}}}]),t.module("hal-ship.directives.halShipTime",["hal-ship.services.ShipTimeService"]).directive("halShipTime",["ShipTimeService","$interval","$filter",function(e,t,n){return{restrict:"E",replace:!0,transclude:!0,scope:{},templateUrl:"directives/halShipTime/halShipTime.tpl.html",link:function(r){var i=3e3;r.updateUI=function(e){r.now=n("date")(e,"h:mm a")},r.getShipTime=function(){var t=e.getTime();return t.then(function(e){r.updateUI(e)},function(){})},t(function(){r.getShipTime()},i),r.now={},r.getShipTime()}}}]),t.module("hal-ship.directives.halSubnav",[]).directive("halSubnav",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{item:"=",list:"=",label:"@",callback:"=",allowAnyDay:"="},templateUrl:"directives/halSubnav/halSubnav.tpl.html",link:function(){}}}),t.module("hal-ship.directives.halTimeBanner",[]).directive("halTimeBanner",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{hourLabel:"=",anchorHour:"=",addFromView:"=",addItem:"="},templateUrl:"directives/halTimeBanner/halTimeBanner.tpl.html",link:function(){}}}),t.module("hal-ship.directives.halWaitModal",[]).directive("halWaitModal",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directives/halWaitModal/halWaitModal.tpl.html",link:function(){}}}),t.module("hal-ship.directives.notificationDialog",["hal-ship.core.ErrorReportingService","hal-ship.core.NetworkStatus"]).directive("notificationDialog",["$rootScope","ErrorReportingService","NetworkStatusService",function(e,n,r){return{restrict:"E",replace:!0,templateUrl:"directives/notificationDialog/notificationDialog.tpl.html",link:function(i){i.networkStatusService=r,i.notifications=[],i.notificationsToClose=[],i.notificationSourceMap={},i.hidden=!0,i.level=n.getErrorSeverityInfo(),i.setSeverity=function(e){var t=i.level===e||e===n.getErrorSeverityInfo()||i.level===n.getErrorSeverityError();t||(i.level=e)},i.recalculateSeverity=function(){i.level=n.getErrorSeverityInfo();for(var e=0;i.notifications.length>e;e++)i.setSeverity(i.notifications[e].severity)},e.$on("$stateChangeStart",function(){for(var e=0;i.notificationsToClose.length>e;e++)i.hideNotification(i.notificationsToClose[e]);i.notificationsToClose.length=0}),i.$on("ERROR_EVENT",function(e,n){n&&(i.hidden=!1,i.setSeverity(n.severity),n.clearOnNavigate&&i.notificationsToClose.push(i.notifications.length),n.site?t.isDefined(i.notificationSourceMap[n.site])?(i.notifications[i.notificationSourceMap[n.site]]=n,i.recalculateSeverity()):(i.notificationSourceMap[n.site]=i.notifications.length,i.notifications.push(n)):i.notifications.push(n))}),i.hideNotification=function(e){if(t.isDefined(e)){i.notifications.splice(e,1),i.hidden=!i.notifications.length,i.level=n.getErrorSeverityInfo();for(var r=0;i.notifications.length>r;r++)i.setSeverity(i.notifications[r].severity);0===i.notifications.length&&(i.notificationSourceMap={})}}}}}]).directive("notification",function(){return{restrict:"E",replace:!0,templateUrl:"directives/notificationDialog/notification.tpl.html",scope:{notification:"="},link:function(e){e.removeNotification=function(){e.$parent.hideNotification(e.$parent.$index)}}}}),t.module("hal-ship.directives.restaurantSummary",[]).directive("restaurantSummary",function(){return{restrict:"E",transclude:!0,scope:{restaurant:"=",date:"="},templateUrl:"directives/restaurantSummary/restaurantSummary.tpl.html",link:function(e){e.convertToStandardTime=function(e){var t=e.split(":")[0],n=e.split(":")[1],r=new Date(null,null,null,t,n);return r}}}}),t.module("hal-ship.directives.scheduleView",["hal-ship.directives.scrollTo","hal-ship.core.NetworkStatus"]).directive("scheduleView",["NetworkStatusService",function(e){return{restrict:"E",replace:!0,transclude:!0,scope:{loading:"=",list:"=",type:"@",addEvent:"&",hour:"=",day:"=",noEvents:"="},templateUrl:"directives/scheduleView/scheduleView.tpl.html",link:function(t){t.networkService=e,"excursions"===t.type?t.excursions=!0:"onboardEvents"===t.type&&(t.onboardEvents=!0),t.doScroll=function(e,n){return t.day&&t.hour?n===t.day&&e===t.hour:!1},t.$watch("networkService.status",function(e){t.offline="offline"===e})}}}]),t.module("hal-ship.directives.scrollTo",[]).directive("scrollTo",["$location","$anchorScroll","$timeout","$window",function(e,t,n){return{restrict:"A",link:function(r,i,a){var o=e.hash(),s=r.$eval(a.scrollTo);s&&n(function(){e.hash(a.id),t(),e.hash(o)},0)}}}]),t.module("hal-ship.directives.shorexSummary",[]).directive("shorexSummary",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{event:"=",descriptionLength:"@"},templateUrl:"directives/shorexSummary/shorexSummary.tpl.html",link:function(){}}}),t.module("hal-ship.directives.termsAndConditions",["hal-ship.directives.scrollTo","pascalprecht.translate"]).directive("termsAndConditions",["$translate","$sce",function(){return{restrict:"E",templateUrl:"directives/termsAndConditions/termsAndConditions.tpl.html",link:function(){}}}]),t.module("hal-ship.directives.validatePin",[]).directive("validatePin",function(){return{restrict:"E",templateUrl:"directives/validatePin/validatePin.tpl.html",replace:!0,require:"ngModel",link:function(e,t,n,r){function i(){if(!r.$pristine){var t=r.$viewValue?r.$viewValue.length:0,n=c>t;r.$error.minlength||n?(r.$setValidity("pinLength",!1),r.$setViewValue(r.$viewValue),a(s.pinLength)):(r.$setValidity("pinLength",!0),r.$setViewValue(r.$viewValue),o(s.pinLength)),!r.$error.minlength&&!r.$error.pinLength,e.$apply()}}function a(t){e.errorObject.pinError.userError=!0,0>e.errorObject.pinError.messages.indexOf(t)&&e.errorObject.pinError.messages.push(t)}function o(t){if(t){var n=e.errorObject.pinError.messages?e.errorObject.pinError.messages.indexOf(t):-1;n>-1&&(e.errorObject.pinError.messages.splice(n,1),e.errorObject.pinError.userError=e.errorObject.pinError.messages.length>0)}}var s={pattern:"PIN must contain numeric values only",pinLength:"PIN must be 4 digits long"};e.errorObject.pinError={userError:!1,messages:[]};var l="Enter PIN (4 digits)",c=4;n.hasOwnProperty("placeholder")||n.$set("placeholder",l),t.on("blur focus change",function(){i()}),t.on("keyup",function(){r.$modelValue&&i()}),e.$watch(function(){return r.$error.pattern},function(e){e===!1?o(s.pattern):a(s.pattern)})}}}),t.module("hal-ship.directives.verboseFormError",[]).directive("verboseFormError",function(){return{restrict:"E",scope:{formErrorObj:"="},templateUrl:"directives/verboseFormError/verboseFormError.tpl.html",link:function(){}}}),t.module("hal-ship.filters.htmlCleaner",[]).filter("htmlCleaner",function(){return function(e){var t,r;return null!==e&&e!==n?(t=e.replace(/<\/?[\w\=" ]+>/g,""),betterText=t.replace(/&#8217;/g,"'"),r=betterText.replace(/&nbsp;/g," ")):""}}),t.module("hal-ship.filters.makeTeaserText",["hal-ship.filters.htmlCleaner"]).filter("makeTeaserText",["htmlCleanerFilter",function(e){return function(t,n){var r,i,a,o,s;return r=e(t),a=r.split(" "),i=r.split(" ",n),s=i.join(" "),o=a.join(" "),""===r?"Excursion does not include description.":a.length>n?s+"...":o}}]),t.module("hal-ship.services.AuthService",["hal.dataServices.authentication","hal.dataServices.registration","hal-ship.core.CacheManagerService","ui.router","ngCookies"]).service("AuthService",["$filter","$window","AuthenticationDataService","RegistrationDataService","$q","$cookieStore","$rootScope","CacheManagerService",function(e,t,r,i,a,o,s){var l=["Select Secret Question","In what city were you born?","What is your maternal grandmother's first name?","Who was your favorite school teacher?","What was your high school/secondary school mascot?","In what city did you meet your spouse?","What is your paternal grandfather's first name?","Who is your favorite actor?","What is your maternal grandmother's maiden name?","What is the name of your favorite pet?","What was the name of the street on which you grew up?","In what city was your high school/secondary school?"],c={_init:function(){c.clientId="ship",c.currentUser=null},_getToken:function(){var e=null,t=c.getCurrentUser();return t&&(e=t.token),e},_storeAuthentication:function(e){c.currentUser=e,e&&(c.currentUser.userName=c.currentUser.details.userName,c.currentUser.bookingNumber=c.currentUser.details.bookingNumber,c.currentUser.details.principal=c.currentUser.principal,c.currentUser.details.token=e.token),c._saveCurrentUserToCookies()},_saveCurrentUserToCookies:function(){var n=(new Date).getTime(),r=n+31536e6,i="expires="+e("date")(r,"EEE, dd MMM yyyy HH:mm:ss")+" UTC";t.document.cookie="currentUser="+JSON.stringify(c.currentUser.details)+"; "+i},_removeCurrentUserFromCookies:function(){o.remove("currentUser")},getCurrentUser:function(){if(null===c.currentUser||c.currentUser===n){var e=o.get("currentUser");e!==n?(console.groupCollapsed("User found in cookies"),console.log(e),console.groupEnd(),c.currentUser=e):c.currentUser=null}return c.currentUser},authenticate:function(e,t){var n=a.defer(),i=r.authenticate(t,e);return i.then(function(e){c._storeAuthentication(e),n.resolve(e),s.$broadcast("LOGIN_EVENT",c.getCurrentUser())},function(e){n.reject(e)}),n.promise},verifyToken:function(){var e=a.defer(),t=c._getToken(),n=r.verify(t);return n.then(function(t){c._storeAuthentication(t),e.resolve(t)},function(t){e.reject(t)}),e.promise},isAuthenticated:function(){return!!c.getCurrentUser()},logout:function(){var e=c._getToken();r.logout(e),c._removeCurrentUserFromCookies(),c._init(),s.$broadcast("LOGOUT_EVENT",c.getCurrentUser())},checkValidShipGuest:function(e){var t=a.defer();return i.verify(e.firstName,e.lastName,e.cabinNumber,e.birthDate).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},registerGuestAsUser:function(e){var t=a.defer();return i.register(e.firstName,e.lastName,e.cabinNumber,e.birthDate,e.secretQuestion,e.secretAnswer,e.acceptedTerms,e.pinCode).then(function(e){c._storeAuthentication(e),s.$broadcast("LOGIN_EVENT",c.getCurrentUser()),t.resolve(e)},function(e){t.reject(e)}),t.promise},getUserSecretQuestion:function(e){var t=a.defer();return i.getQuestion(e.firstName,e.lastName,e.cabinNumber,e.birthDate).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},getSecretQuestionList:function(){return l}};return c._init(),{authenticate:c.authenticate,checkValidShipGuest:c.checkValidShipGuest,getCurrentUser:c.getCurrentUser,getSecretQuestionList:c.getSecretQuestionList,getToken:c._getToken,getUserSecretQuestion:c.getUserSecretQuestion,isAuthenticated:c.isAuthenticated,login:c.authenticate,logout:c.logout,registerGuestAsUser:c.registerGuestAsUser,verifyToken:c.verifyToken}}]),t.module("hal-ship.services.CdsService",["hal-ship.core.CacheManagerService"]).service("CdsService",["CacheManagerService","$http","$q","$sce",function(e,t,n){var r="/content/onboard-experience",i=r+"/dining",a=r+"/shorex",o=function(e){return t.get(e).success(function(e){return e}).error(function(e){return e})},s=function(e){return o(e)},l=function(e){return a+"/catalog/"+e+"-full.jpg"},c=function(e){return o(l(e.nbrTour))},u=function(){var t,r=n.defer(),i="restaurantDetails";return t=e.directLoad(i),t?r.resolve(t):s("assets/restaurants.json").then(function(n){e.directStore(i,n),t=n,r.resolve(t)},function(e){r.reject(e.config.url+": Unable to get dining data.")}),r.promise},d=function(){var e="assets/images/dining/",t=e,n=e,r=i+"/menus/";return{pinnacleGrill:{photo:n+"pinnacle-grill.jpg",logo:t+"pinnacle-logo.png",menus:{breakfast:null,lunch:r+"pinnaclegrill-lunch.jpg",dinner:r+"pinnaclegrill-dinner.jpg"}},canaletto:{photo:n+"canaletto.jpg",logo:t+"canaletto-logo.png",menus:{breakfast:null,lunch:null,dinner:r+"canaletto-dinner1.jpg"}},tamarind:{photo:n+"tamarind.jpg",logo:t+"tamarind-logo.png",menus:{breakfast:null,lunch:r+"tamarind-lunch.jpg",dinner:r+"tamarind-dinner.jpg"}},leCirque:{photo:n+"le-cirque.jpg",logo:t+"le-cirque-logo.png",menus:{breakfast:null,lunch:null,dinner:r+"lecirque-dinner.jpg"}},deLibrije:{photo:n+"de-librije.jpg",logo:t+"de-librije-logo.png",menus:{breakfast:null,lunch:null,dinner:r+"delibrije-dinner.jpg"}},diningRoom:{photo:n+"the-dining-room.jpg",logo:t+"the-dining-room-logo.png",menus:{breakfast:null,lunch:null,dinner:null}}}},p=function(e){var t={};switch(e=e.toLowerCase()){case"pinnaclegrill":t=d().pinnacleGrill;break;case"canaletto":t=d().canaletto;break;case"tamarind":t=d().tamarind;break;case"lecirque":t=d().leCirque;break;case"delibrije":t=d().deLibrije;break;default:t=d().diningRoom}return t};return{shorex:{getImage:c,getPath:l},dining:{getRestaurants:u,getAssetsForRestaurant:p,getAllAssetPaths:d}}}]),t.module("hal-ship.services.DiningService",["ApplicationConfiguration","hal-ship.core.CacheManagerService","hal-ship.core.ErrorReportingService","hal-ship.services.CdsService","hal.dataServices.dining"]).service("DiningService",["DiningDataService","$q","$filter","$sce","$http","Configuration","CacheManagerService","ErrorReportingService","CdsService",function(e,n,r,i,a,o,s,l,c){var u="restaurants",d={pinnacleGrill:{locationCodes:{PN:!0},order:0,match:function(e){var n=t.isDefined(this.locationCodes[e.restaurantKey]);return n}},canaletto:{locationCodes:{CANALETTO:!0},order:1,match:function(e){var n=t.isDefined(this.locationCodes[e.restaurantKey]);return n}},tamarind:{locationCodes:{TAMARIND:!0,TAMLUNCH:!0},order:2,match:function(e){var n=t.isDefined(this.locationCodes[e.restaurantKey]);return n}},leCirque:{locationCodes:{PN_LE_CIRQUE:!0},order:3,match:function(e){var n=t.isDefined(this.locationCodes[e.restaurantKey]);return n}},deLibrije:{locationCodes:{PN_DE_LEBRIJE:!0},locationCode:"",order:4,match:function(e){var n=t.isDefined(this.locationCodes[e.restaurantKey]);return n}},dinningRoom:{locationCodes:{MAIN:!0,MAINLB:!0},locationCode:"",order:5,match:function(e){var n=t.isDefined(this.locationCodes[e.restaurantKey]);return n}}},p=function(e){var n=[];return t.forEach(e,function(e){t.isDefined(e)&&e.isAvailable&&n.push(e)}),n},h=function(e){var n=[],r=[];return t.forEach(e,function(e){t.isDefined(e)&&(e.isOpen?n.push(e):r.push(e))}),_.union(n,r)},f=function(e){var n=[];return t.forEach(e,function(e){if(t.isDefined(e)){var r=d[e.restaurantKey].order;n[r]=e}}),n},m=function(e){var t=f(e);return t=h(t)},g=function(e,n){t.forEach(e,function(e){e.isAvailable=t.isDefined(e.days[n])})},v=function(e,n,r){t.forEach(e,function(e){e.isOpen=y(e,n,r)})},y=function(e,n,r){var i=e.days[r];if(!t.isDefined(e.days[r]))return!1;for(var a=0;i.length>a;a++){var o=i[a];if(n>=o.openTime&&o.closeTime>n)return!0}return!1},b=function(e){var t="";for(var n in d)if(d.hasOwnProperty(n)){var r=d[n];if(r.match(e)){t=n;break}}return t},$=function(e,n,r){var i={};return t.forEach(e.days,function(e){var a=e.date.replace(/-/g,""),o=[];t.forEach(e.meals,function(e){var t={name:e.name.toLowerCase(),openTime:e.openTime,closeTime:e.closeTime,availability:e.availabilityBlocks};if(n)if(n.meals[t.name])t.price=n.meals[t.name].pricing,t.menuUrl=r[t.name];else{var i="Content / Service data mismatch. A meal was defined on the backend but no content exists for it.";i=" "+i+"[Restaurant="+n.name+"]",i=" "+i+"[meal="+t.name+"]",l.createApplicationWarning(i,null,null,"DiningService.createAvailabilityMap")}o.push(t)}),i[a]=_.sortBy(o,"openTime")}),i},T=function(e,n){var r=[];return t.forEach(e,function(e){var t={},i=null;t.restaurantKey=b(e)||null,t.locationCode=e.locationCode||"",t.shipCode=e.shipCode||"",n&&(i=n[t.restaurantKey]),t.restaurantKey||console.log("restaurant = %o",t);var a=c.dining.getAssetsForRestaurant(t.restaurantKey);i&&(t.name=i.name||"",t.location=i.location||"",t.shortDescription=i.description.short||"",t.longDescription=i.description.long||"",t.logoImageUrl=a.logo||"",t.headlineImageUrl=a.photo||""),t.days=$(e,i,a.menus),r.push(t)}),r},w=function(e){var t=n.defer();return c.dining.getRestaurants().then(function(n){n.fromCache?t.resolve(n.data.data[e]):t.resolve(n.data[e])},function(e){t.reject(e)}),t.promise};return{findRestaurantKey:b,getRestaurantsForVoyage:function(t,r,i){var a=n.defer(),o=e.getRestaurants(),c=s.directLoad(u);if(c){var d=c.data;v(d,r,i),g(d,t,r),d=m(d),a.resolve(d)}else o().then(function(e){w(e[0].shipCode).then(function(n){var o=T(e,n);s.directStore(u,o),v(o,r,i),g(o,t,r),o=m(o),a.resolve(o)},function(e){a.reject(l.createApplicationError("Failed to get restaurants for voyage.",null,e,"DiningService.getRestaurantsForVoyage"))})},function(e){a.reject(l.createApplicationError("Failed to get restaurants for voyage.",null,e,"DiningService.getRestaurantsForVoyage"))});return a.promise},getRestaurantsForDate:function(t,r,i){var a=n.defer(),o=s.directLoad(u);if(o){var c=o.data;v(c,r,i),g(c,t,r),c=m(c),c=p(c),a.resolve(c)}else e.getRestaurantsForDate(t).then(function(e){w(e[0].shipCode).then(function(n){var o=T(e,n);s.directStore(u,o),v(o,r,i),g(o,t,r),o=m(o),o=p(o),a.resolve(o)},function(e){a.reject(l.createApplicationError("Failed to get restaurants for date "+t,null,e,"DiningService.getRestaurantsForDate"))})},function(e){a.reject(l.createApplicationError("Failed to get restaurants for date "+t,null,e,"DiningService.getRestaurantsForDate"))});return a.promise},getRestaurant:function(e,t,r){var i=n.defer(),a=t;return this.getRestaurantsForVoyage(t,r,a).then(function(t){for(var n=0;t.length>n;n++)t[n].restaurantKey===e&&i.resolve(t[n]);i.reject(l.createApplicationError("No restaurant found with the key "+e,null,null,"DiningService.getRestaurant"))},function(e){i.reject(e)}),i.promise}}}]),t.module("hal-ship.services.EventsService",["hal-ship.core.CacheManagerService","hal-ship.core.ErrorReportingService","hal.dataServices.events","hal.dataServices.MyEvents"]).service("EventsService",["$q","$filter","EventsDataService","ErrorReportingService","CacheManagerService","MyEventsDataService",function(e,t,n,r,i,a){var o=function(e){var t=e.split("T"),n=t[0].split("-");return{date:_.reduce(n,function(e,t){return e+t},""),time:t[1]}},s=function(e,t){return _.find(e,function(e){return e.event.id===t.id})},l=function(e,t){for(var n={},r=0;e.length>r;r++){var i=e[r],a=o(i.startTime);i.startDate=a.date,i.startTime=a.time,i.booked=!1;var l=s(t,i);l&&(i.booked=!0),n[i.startDate]||(n[i.startDate]=[]),n[i.startDate].push(i)}for(var c in n)n.hasOwnProperty(c)&&(n[c]=_.sortBy(n[c],"startTime"));return n},c=function(e){var n={year:parseInt(e.substring(0,4)),month:parseInt(e.substring(4,6)),day:parseInt(e.substring(6,8))},r=new Date(n.year,n.month-1,n.day-1),a="events-"+t("date")(r,"yyyyMMdd");i.remove(a)};return{getEventsByDate:function(t,a,o){var s=n.getEventsForDate(t),u=e.defer(),d=this,p="events-"+t;return o&&c(t),s.then(function(e){var t=e;i.directStore(p,e),a?d.getEventsForUser(a).then(function(e){u.resolve(l(t,e))},function(){u.resolve(l(t,[]))}):u.resolve(l(t,[]))},function(e){var n=i.directLoad(p);
n?u.resolve(l(n.data,[])):u.reject(r.createServerError("Unable to get events for the date: "+t,null,e,"getEventsByDate"))}),u.promise},getAllEvents:function(){var t=n.getAllEventsForCruise(),i=e.defer();return t().then(function(e){i.resolve(l(e))},function(e){i.reject(r.createServerError("Unable to get events for this cruise",null,e,"getAllEvents"))}),i.promise},getEventsForUser:function(t){var n=e.defer(),i=a.getEventsForUser(t);return i().then(function(e){n.resolve(e)},function(e){n.reject(r.createServerError("Unable to get events for user: "+t,null,e,"getEventsForUser"))}),n.promise},addEvent:function(t,n){var i=e.defer();return a.addEventForUser(t,n).then(function(e){i.resolve(e)},function(e){i.reject(r.createServerError("Unable to add event: "+n+" for user: "+t,null,e,"addEvent"))}),i.promise}}}]),t.module("hal-ship.services.ItineraryService",["hal-ship.core.CacheManagerService","hal-ship.core.ErrorReportingService","hal-ship.services.ShipTimeService","hal-ship.services.AuthService","hal-ship.services.DiningService","hal.dataServices.Schedule","hal.dataServices.ShipInfo","hal.dataServices.Guest"]).service("ItineraryService",["$q","$filter","CacheManagerService","ErrorReportingService","AuthService","ScheduleDataService","ShipInfoDataService","ShipTimeService","GuestDataService","DiningService",function(e,n,r,i,a,o,s,l,c,u){var d="itinerary",p={shorex:"SHOREX",onBoard:"EVENT",dining:"DINING"},h=function(t){var n={type:p.shorex,eventID:t.nbrTour,departureID:t.idTourDprt,title:t.name,location:t.meetingPoint||"See Shore Excursions staff for details.",ticketsBooked:t.numberOfTicketsBooked,notes:t.notes,attire:t.recommendedClothes,startTime:t.dateDprt+"T"+t.timeDprt,availableInPort:t.timeDprt?!1:!0};return e.when(n)},f=function(t){var n={type:p.onBoard,eventID:t.id,title:t.title,location:t.location,duration:t.duration,startTime:t.startTime,endTime:t.startTime,availableInPort:!1};return e.when(n)},m=function(t){var n=u.findRestaurantKey(t),r=b(),i=$();return u.getRestaurant(n,i,r).then(function(r){var i={type:p.dining,eventID:t.id,restaurantKey:n,title:r.name,location:r.location,startTime:t.date+"T"+t.time,availableInPort:!1};return e.when(i)})},g=function(e){var n=[];return t.forEach(e,function(e){t.forEach(e.data,function(t){var r=[];e.type===p.shorex&&(r=h(t.bookedExcursionResponse)),e.type===p.onBoard&&(r=f(t.myEvent.event)),e.type===p.dining&&(r=m(t)),n.push(r)})}),n},v=function(t){var n=e.defer(),i=a.getCurrentUser(),s=d+t;return i?(o.getScheduleForUser(i.principal,t).then(function(t){var i=[];if(t&&t[0]){var a=t[0].schedule;e.all(g(a)).then(function(e){r.directStore(s,e),n.resolve(e)})}else n.resolve(i)},function(e){var t=r.directLoad(s);if(t){var i=t.data;n.resolve(i)}else 403==e.status||401==e.status.status?n.reject({status:e.status,message:"Your will need to close the application and re-login."}):n.reject(e)}),n.promise):(n.resolve([]),n.promise)},y=function(e){var t={},r=e,i=n("date")(r.date,"MMMM d, y"),a=n("date")(r.date,"yyyyMMdd"),o=n("date")(r.date+"T"+r.departureTime,"h:mm a"),s=n("date")(r.date+"T"+r.allAboardTime,"h:mm a"),l=n("date")(r.date+"T"+r.arrivalTime,"h:mm a");return t.dateTime=i,t.calendarDate=a,t.description=r.dayDescription,t.portCode=r.portCode,t.uiText=i+": "+r.portCode,r.allAboardTime&&(t.allAboardTime=s),r.departureTime&&(t.departureTime=o),r.arrivalTime&&(t.arrivalTime=l),t},b=function(){return l.getTime().then(function(e){return e})},$=function(){return l.getToday().then(function(e){return e})},T=function(){var e=a.getCurrentUser(),t=null;t=e?c.getItineraryByUserId(e.principal):s.getShipItinerary();var n=r.directLoad(d);return n?n:t().then(function(e){var t={};return r.directStore(d,e),t.data=e,t})},w=function(e){var t=[];return b().then(function(r){for(var i=n("date")(r,"yyyyMMdd"),a=0;e.length>a;a++){var o=n("date")(e[a].date,"yyyyMMdd");o>=i&&t.push(y(e[a]))}return t})},S=function(e,t){var n=[];if(t)n=w(e);else for(var r=0;e.length>r;r++)n.push(y(e[r]));return n},k=function(t){var n=e.defer(),i=a.getCurrentUser(),o=null;o=i?c.getItineraryByUserId(i.principal):s.getShipItinerary();var l=r.directLoad(d);return l?n.resolve(S(l.data,t)):o().then(function(e){r.directStore(d,e),n.resolve(S(e,t))},function(e){403==e.status||401==e.status.status?(a.logout(),n.reject("You will need to close the application and re-login.")):n.reject(e)}),n.promise},x=function(){var t=e.defer();return e.all([b(),T()]).then(function(e){for(var r={},i=e[0]||(new Date).getTime(),a=e[1].data,o=n("date")(i,"yyyyMMdd"),s=0;a.length>s;s++){var l=n("date")(a[s].date,"yyyyMMdd");if(l===o){r=y(a[s]),r.navFormat=n("date")(i,"yyyyMMdd"),r.fullDate=n("date")(i,"fullDate"),r.dateTime=n("date")(i,"yyyy-MM-ddTHH:mm");break}}t.resolve(r)},function(e){t.reject(e)}),t.promise};return{EventType:p,getItineraryForDay:v,getShipItinerary:function(){var e=!0;return k(e)},getFullShipItinerary:function(){var e=!1;return k(e)},getInfoForToday:x}}]),t.module("hal-ship.services.ModalFactoryService",["ui.bootstrap"]).service("ModalFactoryService",["$modal",function(e){function t(t,n){t=t||{};var r=e.open({controller:"ModalCtrl",template:"<hal-modal></hal-modal>",keyboard:!0,backdrop:"static",windowClass:n,resolve:{data:function(){return t}}});return r.result.then(function(){},function(){})}function n(t){t=t||"Processing...";var n=e.open({controller:"ModalCtrl",template:"<hal-wait-modal></hal-wait-modal>",keyboard:!1,backdrop:"static",resolve:{data:function(){return{message:t}}}});return n}function r(e){return new t(e,"panel-danger")}function i(e){return new t(e,"panel-warning")}function a(e){return new t(e,"panel-success")}return{createErrorModal:r,createWarningModal:i,createSuccessModal:a,createWaitModal:function(e){return new n(e)}}}]),t.module("hal-ship.services.ModalFactoryService").controller("ModalCtrl",["$scope","$modalInstance","$sce","data",function(e,t,n,r){e.heading=r.heading,e.message=n.trustAsHtml(r.message),e.callback=r.callback||function(){},e.ok=function(){t.close("clicked ok button"),e.callback()},e.closeFromButton=function(){t.close("clicked X"),e.callback()}}]),t.module("hal-ship.services.ShipPreloaderService",["hal-ship.core.PreloaderService","hal-ship.services.CdsService","hal-ship.services.ShipTimeService","hal-ship.services.EventsService","hal-ship.services.ItineraryService","hal-ship.services.DiningService","hal-ship.services.ShoreExcursionsService","hal-ship.core.CacheManagerService","hal-ship.core.NetworkStatus"]).service("ShipPreloaderService",["$q","$filter","PreloaderService","CdsService","ShipTimeService","EventsService","ItineraryService","DiningService","ShoreExcursionsService","CacheManagerService","NetworkStatusService",function(e,t,n,r,i,a,o,s,l,c,u){var d=function(){"offline"!==u.status&&(n.clearData(),n.clearImages());var c=n.loadData([{resourceKey:"CdsService.dining.getRestaurants",arguments:[],critical:!1,method:r.dining.getRestaurants},{resourceKey:"ShipTime",arguments:[],method:i.getTime},{resourceKey:"EventsService.getEventsByDate."+t("date")(new Date,"yyyyMMdd"),arguments:[t("date")(new Date,"yyyyMMdd")],critical:!1,method:a.getEventsByDate},{resourceKey:"EventsService.getEventsByDate."+t("date")(new Date((new Date).getTime()+864e5)),arguments:[t("date")(new Date((new Date).getTime()+864e5),"yyyyMMdd")],critical:!1,method:a.getEventsByDate},{resourceKey:"DiningService.getRestaurantsForVoyage",critical:!1,method:s.getRestaurantsForVoyage},{resourceKey:"ItineraryService.getFullShipItinerary",arguments:[],critical:!0,method:o.getFullShipItinerary},{resourceKey:"ShoreExcursionsService.getExcursionsForSegment",arguments:[],critical:!0,method:l.getExcursionsForSegment}]),d=n.loadImages([{resourceKey:"assets/images/logos/HAL_logo_400_60.png",critical:!0},{resourceKey:"assets/images/home-tiles/onboard.jpg",critical:!0},{resourceKey:"assets/images/home-tiles/shorex.jpg",critical:!0},{resourceKey:"assets/images/home-tiles/dining.jpg",critical:!0},{resourceKey:"assets/images/home-tiles/icafe.jpg",critical:!0},{resourceKey:"assets/images/shorex/1-full.jpg",critical:!0},{resourceKey:"assets/images/shorex/1-thumb.jpg",critical:!1},{resourceKey:"assets/images/shorex/2-full.jpg",critical:!0},{resourceKey:"assets/images/shorex/2-thumb.jpg",critical:!1},{resourceKey:"assets/images/shorex/3-full.jpg",critical:!0},{resourceKey:"assets/images/shorex/3-thumb.jpg",critical:!1},{resourceKey:"assets/images/shorex/4-full.jpg",critical:!1},{resourceKey:"assets/images/shorex/4-thumb.jpg",critical:!1},{resourceKey:"assets/images/shorex/5-full.jpg",critical:!1},{resourceKey:"assets/images/shorex/5-thumb.jpg",critical:!1},{resourceKey:"assets/images/shorex/6-full.jpg",critical:!1},{resourceKey:"assets/images/shorex/6-thumb.jpg",critical:!1},{resourceKey:"assets/images/shorex/7-full.jpg",critical:!1},{resourceKey:"assets/images/shorex/7-thumb.jpg",critical:!1},{resourceKey:"assets/images/shorex/8-full.jpg",critical:!1},{resourceKey:"assets/images/shorex/8-thumb.jpg",critical:!1},{resourceKey:"assets/images/dining/de-librije.jpg",critical:!1},{resourceKey:"assets/images/dining/de-librije-logo.png",critical:!1},{resourceKey:"assets/images/dining/canaletto.jpg",critical:!1},{resourceKey:"assets/images/dining/canaletto-logo.png",critical:!1},{resourceKey:"assets/images/dining/le-cirque.jpg",critical:!1},{resourceKey:"assets/images/dining/le-cirque-logo.png",critical:!1},{resourceKey:"assets/images/dining/pinnacle-grill.jpg",critical:!1},{resourceKey:"assets/images/dining/pinnacle-logo.png",critical:!1},{resourceKey:"assets/images/dining/tamarind.jpg",critical:!1},{resourceKey:"assets/images/dining/tamarind-logo.png",critical:!1},{resourceKey:"assets/images/dining/the-dining-room.jpg",critical:!1},{resourceKey:"assets/images/dining/the-dining-room-logo.png",critical:!1}]);return e.allSettled(c.concat(d))},p=function(){return d()},h=function(){return d()};return{preloadOnLogout:h,preloadOnLogin:p}}]),t.module("hal-ship.services.ShipTimeService",["hal-ship.core.NetworkStatus","hal.dataServices.ShipInfo"]).service("ShipTimeService",["$q","$interval","NetworkStatusService","ShipInfoDataService","$filter",function(e,t,r,i,a){var o,s,l=3e5,c=3e3,u=function(){var t=e.defer(),n=i.getShipDateTime();return s||(s=t.promise,n().then(function(e){t.resolve(e),s=null},function(e){t.reject(e),s=null})),s},d=0,p=0,h=function(e){return e||(e=(new Date).valueOf()),1e3*60*60*f(e)},f=function(e){return e||(e=(new Date).valueOf()),new Date(e).getTimezoneOffset()/60},m=function(e){var t,n,r,i=(""+e).split(".",2);return 0>i[0]?(t="+",i[0]=""+parseInt(-1*i[0])):t="-",2>i[0].length&&(i[0]="0"+i[0]),n=i[0],r=2==i.length?parseInt(60*("."+i[1])):"00",t+n+":"+r},g=function(e){return v(e)+m(f(e))},v=function(e){var t;if(e.indexOf("+")>=0)t=e.indexOf("+");else{if(!(e.match(/-/g).length>2))return e;t=e.lastIndexOf("-")}return e.substring(0,t)},y=function(e){if(e){var t=a("date")(e,"y"),n=a("date")(e,"MM")-1,r=a("date")(e,"dd"),i=a("date")(e,"H"),o=a("date")(e,"mm"),s=a("date")(e,"s"),l=a("date")(e,".sss");if(C(e)!==C(new Date)){var c=new Date(e).getTimezoneOffset(),u=(new Date).getTimezoneOffset();i=parseInt(i)+(c-u)/60}return{year:""+t,month:""+n,day:""+r,hour:""+i,min:""+o,sec:""+s,millisec:""+l}}},b=function(){var e=h();return e!==o},$=function(){var e;e=p?p:(new Date).valueOf(),b()&&(p-=o,o=h(e),p+=o)},T=function(e){if(e){var t=y(e);return Date.UTC(t.year,t.month,t.day,t.hour,t.min,t.sec,t.millisec)}return 0},w=function(){return I()-d},S=function(){return k()?(E(),n):null},k=function(){return p>0},x=function(){return"offline"===r.status?S():u().then(function(e){return d=I(),p=T(g(e.shipDateTime))+o},function(){return p?S():null})},E=function(){if(k()){var e=w();return p+e}},D=function(){var e=(new Date).getFullYear();if(!D.cache.hasOwnProperty(e)){for(var t=new Date(e,0,1).getTimezoneOffset(),n=[6,7,5,8,4,9,3,10,2,11,1],r=0;12>r;r++){var i=new Date(e,n[r],1).getTimezoneOffset();if(i!=t){t=Math.max(t,i);break}}D.cache[e]=t}return D.cache[e]};D.cache={};var C=function(e){return new Date(e).getTimezoneOffset()<D()},P=function(){var t=e.defer();return k()?($(),t.resolve(E())):($(),t.resolve(x())),t.promise},A=function(t){var n=e.defer();return P().then(function(e){n.resolve(a("date")(e,t))}),n.promise},I=function(){return(new Date).getTime()};return t(function(){$(),x()},l),t(function(){$(),E()},c),o=h(),{getTime:P,getDate:function(){return A("yyyy-MM-dd")},getDayOfWeek:function(){return A("EEE")},getDayOfWeekLong:function(){return A("EEEE")},getMonthInYear:function(){return A("MMM")},getMonthInYearLong:function(){return A("MMMM")},getYear:function(){return A("yyyy")},getToday:function(){return A("yyyyMMdd")},getMilitary:function(){return A("H:mm")}}}]),t.module("hal-ship.services.ShoreExcursionsService",["hal-ship.core.CacheManagerService","hal-ship.core.ErrorReportingService","hal.dataServices.Excursions","hal-ship.services.CdsService","pascalprecht.translate"]).service("ShoreExcursionsService",["$q","$filter","$translate","$sce","CacheManagerService","ErrorReportingService","ExcursionsDataService","CdsService",function(e,t,n,r,i,a,o,s){var l=8,c="assets/images/shorex/",u=function(e,t){var n=parseInt(e),r=parseInt(t);return c+(n*r%l+1)+"-full.jpg"},d=function(e,r){var i=t("date")(r.dateDprt,"yyyyMMdd"),a=r.timeDprt?!1:!0,o=r.timeDprt||"00:00",l=r.dateDprt+"T"+o,c=a?"Available all day":t("date")(l,"h:00 a"),d=t("date")(l,"HH")||"00",p=a?"Available all day":t("date")(l,"h:mm a"),f=n.instant(h(e.codeActivityLevel))||"",m={excursionID:e.nbrTour,departureID:r.idTourDprt,fallbackImgUrl:u(e.nbrTour,r.idTourDprt),seatsForSale:r.countForSale,dateTime:l,date:i,time:r.timeDprt,hour:d,duration:e.nbrDuration,title:e.nameExcursion,meetingLocation:r.meetingPoint||"See Shore Excursions staff for details.",description:e.description,adultPrice:e.adultPrice,childPrice:e.childPrice,uiTextDepartureTime:p,uiTextHour:c,activityLevel:f,imagePath:s.shorex.getPath(e.nbrTour),availableInPort:a};return m},p=function(e,t){for(var n=[],r=0;t.length>r;r++)try{var i=t[r],o=i.nbrTour,s=i.idTourDprt,l=e[o],c=d(l,i);n.push(c)}catch(u){var p="An error occurred while attempting to parse excursion information. [excursionID="+o+"][departureID="+s+"]";a.handleError(a.createApplicationError(p,null,u,"ShoreExcursionsService._parseExcursionDepartures"),!0)}return n},h=function(e){var t={1:"shorexLanding.easy",2:"shorexLanding.moderate",3:"shorexLanding.strenuous"};return t[e]||""},f=function(e){var t={};try{for(var n=0;e.length>n;n++)try{var r=e[n],i=r.nbrTour;t[i]=r}catch(a){}}catch(a){}return t},m=function(e,t){var n=[],r=t[0],i=e;if(r){var a=r.substring(0,4)+"-"+r.substring(4,6)+"-"+r.substring(6,8);for(var o in i)for(var s=i[o],l=s.excursionDepartures,c=0;l.length>c;c++){var u=l[c].dateDprt;u==a&&n.push(l[c])}}return n};return{getExcursionDeparturesForDate:function(t){var n=e.defer(),r=this,i=r.getExcursionsForSegment(),a=r.getTourDeparturesByDate(t);return e.all([i,a]).then(function(e){n.resolve(p(e[0],e[1]))}),n.promise},getDepartureForId:function(t,n){var r=e.defer(),i=this;return n=parseInt(n,10),i.getExcursion(t).then(function(e){var t=e.excursionDepartures,i=t.filter(function(e){return e.idTourDprt===n});r.resolve(d(e,i[0]))}),r.promise},getDeparturesForExcursionId:function(t){var n=e.defer(),r=this;return r.getExcursion(t).then(function(e){var t=e.excursionDepartures,r=t.map(function(t){return d(e,t)});n.resolve(r)}),n.promise},getExcursion:function(t){var n=e.defer(),r=o.getExcursionById(t);return r().then(function(e){n.resolve(e)},function(){i.get("shorexFull",r,!1).then(function(e){var r=f(e.data),i=r[t];i?n.resolve(i):n.reject(a.createApplicationError("Could not load excursion from cache, an excursion with the id number ("+t+") was not found.",null,null,"ShoreExcursionsService.getExcursion"))},function(){n.reject(a.createApplicationError("Could not load excursion from cache, an excursion with the id number ("+t+") was not found.",null,null,"ShoreExcursionsService.getExcursion"))})}),n.promise},getExcursionsForSegment:function(){var e=o.getExcursionsForCurrentSegment();return i.get("shorexFull",e,!1).then(function(e){return f(e.data)})},getTourDeparturesByDate:function(t){var n=e.defer(),r=o.getDeparturesForDate(t);return r.then(function(e){var t=e.map(function(e){return e});n.resolve(t)},function(){return i.get("shorexFull",r,!1,m,[t]).then(function(e){var t=e.data.map(function(e){return e});n.resolve(t)},function(e){n.reject(e)})}),n.promise},purchaseExcursion:function(t,n,r,i){var a=e.defer(),s=o.addExcursionForGuest(t,n,r,i);return s.then(function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise}}}]),t.module("hal-ship.services.UserService",["hal-ship.core.ErrorReportingService","hal.dataServices.Guest","hal-ship.services.AuthService","hal-ship.core.CacheManagerService"]).service("UserService",["$q","ErrorReportingService","GuestDataService","AuthService","CacheManagerService",function(e,t,n,r,i){return{getBookingByUserId:function(r){var i=e.defer(),a=n.getBookingByUserId(r);return a().then(function(e){i.resolve(e)},function(e){i.reject(t.createServerError("Unable to get booking information for user id "+r,null,e))}),i.promise},getUserByUserId:function(r){var i=e.defer(),a=n.getUserByUserId(r);return a().then(function(e){i.resolve(e)},function(e){i.reject(t.createServerError("Unable to get user information for user id "+r,null,e))}),i.promise},addUserFeedback:function(a){var o,s=e.defer(),l=r.getCurrentUser();return o=l&&l.principal?n.addFeedBackForUserId(l.principal,a):n.addFeedBackForGuest(a),o.then(function(e){s.resolve(e),i.directStore("guestFeedbackProvided",!0)},function(e){s.reject(t.createServerError("Unable to post guest feedback",null,e))}),s.promise},hasProvidedFeedback:function(){return!!i.directLoad("guestFeedbackProvided")}}}]),t.module("templates-app",["development/development.tpl.html","diningOptions/diningOptions.tpl.html","excursionDetails/excursionDetails.tpl.html","feedback/feedback.tpl.html","login/login.tpl.html","logout/logout.tpl.html","myItinerary/myItinerary.tpl.html","onboardEvents/onboardEvents.tpl.html","purchaseExcursion/purchaseExcursion.tpl.html","recoverAuthentication/recoverAuthentication.tpl.html","registration/registration.tpl.html","restaurantDetails/menu/menu.tpl.html","restaurantDetails/restaurantDetails.tpl.html","ship/ship.tpl.html","shipItinerary/shipItinerary.tpl.html","shoreExcursions/shoreExcursions.tpl.html"]),t.module("development/development.tpl.html",[]).run(["$templateCache",function(e){e.put("development/development.tpl.html",'<div class="development panel">\n	<section>\n        <h1>Modal Testing</h1>\n        <button class="btn btn-success" ng-click="triggerModal()">Trigger Success Modal</button>\n        <button class="btn btn-warning" ng-click="triggerModalWarning()">Trigger Warning Modal</button>\n        <button class="btn btn-danger" ng-click="triggerModalError()">Trigger Error Modal</button>\n		<button class="btn btn-info" ng-click="triggerModalWait()">Trigger Wait Modal</button>\n\n        <h1>Alert Testing</h1>\n		<button class="btn btn-info" ng-click="triggerInfo()">Trigger Informational Alert</button>\n		<button class="btn btn-warning" ng-click="triggerWarning()">Trigger Warning Alert</button>\n		<button class="btn btn-danger" ng-click="triggerError()">Trigger Error Alert</button>\n\n        <h1>Unique Alert Testing</h1>\n        <button class="btn btn-info" ng-click="triggerUniqueInfo()">Trigger Unique Informational Alert</button>\n        <button class="btn btn-warning" ng-click="triggerUniqueWarning()">Trigger Unique Warning Alert</button>\n        <button class="btn btn-danger" ng-click="triggerUniqueError()">Trigger Unique Error Alert</button>\n\n		<h1>Analytics Testing</h1>\n		<button class="btn btn-info" ng-click="triggerAnalyticsEvent()">Trigger Analytics Event</button>\n		<button class="btn btn-info" ng-click="triggerAnalyticsGoal()">Trigger Analytics Goal</button>\n    </section>\n\n	<section>\n		<h1>Registration Testing</h1>\n\n		<div ng-repeat="(key, value) in testUsers">\n			<h2>Guest: {{ key }} / {{value.pinCode }}</h2>\n\n			<button class="btn btn-default" ng-click="loginUser(key)">Login Guest</button>\n			<button class="btn btn-success" ng-click="unlockUser(key)">Unlock / Register Guest</button>\n			<button class="btn btn-danger" ng-click="lockUser(key)">Lock Guest</button>\n			<button class="btn btn-warning" ng-click="getQuestion(key)">Get Guest Secret Question</button>\n		</div>\n	</section>\n</div>\n')}]),t.module("diningOptions/diningOptions.tpl.html",[]).run(["$templateCache",function(e){e.put("diningOptions/diningOptions.tpl.html",'<hal-loading-screen ng-show="loading" message-text="loadingMessage" info-text="loadingDetailsMessage"></hal-loading-screen>\n<div ng-show="noData" class="disclaimer panel-warning">\n    <div class="panel-heading">Notice</div>\n    <div class="panel-body">{{pageNotice}}</div>\n    <!--<h1>There was a problem fetching data.  Please connect to the ship WiFi and try again.</h1>-->\n</div>\n<div ng-if="!noData" class="panel">\n    <div class="day-port-info">\n        <hal-subnav list="voyageDates" item="selectedDay" label="Itinerary Dates"></hal-subnav>\n    </div>\n    <div class="no-content" ng-if="noDining">\n        <h1>No dining data currently exists. Please notify a crew member in the front office.</h1>\n    </div>\n    <div class="restaurant-list" ng-if="!noDining" ng-repeat="restaurant in restaurantData">\n        <restaurant-summary restaurant="restaurant" date="selectedDay.calendarDate"></restaurant-summary>\n    </div>\n</div>\n')}]),t.module("excursionDetails/excursionDetails.tpl.html",[]).run(["$templateCache",function(e){e.put("excursionDetails/excursionDetails.tpl.html",'<event-details\n    event="excursion"\n	event-type="excursion"\n    booked="isBooked"\n></event-details>\n')}]),t.module("feedback/feedback.tpl.html",[]).run(["$templateCache",function(e){e.put("feedback/feedback.tpl.html",'<div class="guest-feedback panel">\n    <header ng-show="feedbackSubmitted">\n        <h1>Thank you for submitting feedback!</h1>\n    </header>\n\n    <form ng-hide="feedbackSubmitted" role="form" class="form-block" id="feedback-form" name="feedbackForm" novalidate="true" ng-submit="submit()">\n        <fieldset>\n            <ul>\n                <li>\n                    <label for="ratings" >Please rate your overall experience with this application (Required)</label>\n                    <div class="subnav">\n                        <select required id="ratings" name="ratings" class="subnav-dropdown form-control" ng-model="guestFeedback.rating"\n                                ng-options="option for option in ratings" ng-selected="option">\n                            <option selected value="">Please select a rating</option>\n                        </select>\n                    </div>\n                </li>\n                <li>\n                    <label for="problems">Did you experience any problems with using the application?</label>\n                    <span class="form_hint">(Optional – 1000 characters or fewer)</span>\n                    <textarea class="form-group"\n                           id="problems"\n                           ng-model="guestFeedback.problems"\n                           name="problems"\n                           ng-maxlength="1000"\n                           maxlength="1000">\n                    </textarea>\n                </li>\n                <li>\n                    <label for="future">What additional features would you expect to find in the application?</label>\n                    <span class="form_hint">(Optional – 1000 characters or fewer)</span>\n                    <textarea class="form-group"\n                           id="future"\n                           ng-model="guestFeedback.future"\n                           name="future"\n                           ng-maxlength="1000"\n                           maxlength="1000">\n                    </textarea>\n                </li>\n                <li>\n                    <label for="feedback">Please provide any additional feedback</label>\n                    <span class="form_hint">(Optional – 1000 characters or fewer)</span>\n                    <textarea class="form-group"\n                           id="feedback"\n                           ng-model="guestFeedback.feedback"\n                           name="feedback"\n                           ng-maxlength="1000"\n                           maxlength="1000">\n                    </textarea>\n                </li>\n            </ul>\n        </fieldset>\n        <button class="btn btn-default submit-feedback" ng-disabled="feedbackForm.$invalid || offline" ng-click="submit">\n            Submit Feedback\n        </button>\n    </form>\n\n</div>\n')}]),t.module("login/login.tpl.html",[]).run(["$templateCache",function(e){e.put("login/login.tpl.html",'<div class="authentication panel" id="login">\n    <div ng-show="userLoginStep == \'step-1\'">\n        <div class="form-message">\n            <h1 class="form-title">Welcome</h1>\n            <p class="form-description" id="login-instruction">Log in to your account to access your personal itinerary and make the most of your vacation</p>\n            <p class="form-description" id="login-username-description"><strong>After you register, your username will usually be your first initial, last name, and stateroom number.</strong></p>\n        </div>\n\n        <form role="form" class="form-block" name="loginStep1Form" novalidate="true">\n            <input class="form-group" id="user-id" type="text" ng-model="user.id" name="userId" placeholder="Enter Username" required>\n\n            <validate-pin id="login-pin"  name="loginPin" ng-model="user.pin"></validate-pin>\n            <verbose-form-error form-error-obj="errorObject.pinError"></verbose-form-error>\n\n            <button id="login-btn" class="btn btn-default"\n                    ng-disabled="loginStep1Form.$invalid || offline"\n                    ng-click="userLogin()">Log In</button>\n            <verbose-form-error form-error-obj="errorObject"></verbose-form-error>\n        </form>\n    </div>\n\n    <div class="login-sucess" ng-show="userLoginStep == \'next-step\'">\n        <div class="form-message">\n            <h1 class="form-title">Success</h1>\n            <p class="form-description">Thanks, {{user.userName}}</p>\n            <p class="form-description">Welcome to Holland America Line\'s on board application</p>\n        </div>\n\n        <div class="form-group">\n            <button class="btn btn-default continue-btn" ui-sref="ship">Continue</button>\n        </div>\n    </div>\n\n    <section class="alt-choice-links">\n        <div class="alt-link">\n            <a id="login-forgot-PIN" ui-sref="recoverAuthentication" ng-show="userLoginStep == \'step-1\'">Forgot PIN?</a>\n        </div>\n        <div class="alt-link">\n            <a id="login-registration" ui-sref="registration" ng-show="userLoginStep == \'step-1\'">Register</a>\n        </div>\n    </section>\n</div>\n')}]),t.module("logout/logout.tpl.html",[]).run(["$templateCache",function(e){e.put("logout/logout.tpl.html",'<div class="authentication panel" id="logout">\n    <button id="logout-btn" class="btn btn-default" ng-click="userLogout()">Log Out</button>\n</div>\n')}]),t.module("myItinerary/myItinerary.tpl.html",[]).run(["$templateCache",function(e){e.put("myItinerary/myItinerary.tpl.html",'<hal-loading-screen ng-show="loading" message-text="loadingMessage" info-text="loadingDetailsMessage"></hal-loading-screen>\n<div ng-show="noData" class="disclaimer panel-warning">\n    <div class="panel-heading">Notice</div>\n    <div class="panel-body">{{pageNotice}}</div>\n    <!--<h1>There was a problem fetching data.  Please connect to the ship WiFi and try again.</h1>-->\n</div>\n\n<div ng-if="!noData">\n    <div class="panel day-info">\n        <hal-subnav list="voyageDates" item="selectedDay" label="Itinerary Dates"></hal-subnav>\n        <day-port-info></day-port-info>\n    </div>\n\n    <div class="my-itinerary">\n        <div ng-if="availableInPort">\n            <div class="time-banner">\n                <time class="time-of-day">Available In Port</time>\n            </div>\n            <div class="panel event-block">\n                <div ng-repeat="eventDetail in availableInPort" class="event">\n                    <section class = "event-detail">\n                        <h2 class="title">\n                            <a href ng-click="detailLink(eventDetail)">{{eventDetail.title}}</a>\n                        </h2>\n                        <div class="description">\n                            <label><strong>Location:</strong></label>\n                            <span class="location">{{ eventDetail.location }}</span>\n                        </div>\n                    </section>\n                </div>\n            </div>\n        </div>\n\n        <div ng-repeat="item in itinerary" class="hour-block">\n            <hal-time-banner anchor-hour="item.hour" hour-label="item.displayHour" add-from-view="true" add-item="addItem"></hal-time-banner>\n            <div class="panel event-block">\n                <section class = "no-event-detail" ng-hide="item.events">\n                    <h2 class="title">\n                        <span>Nothing Scheduled</span>\n                    </h2>\n                </section>\n                <div ng-repeat="eventDetail in item.events" class="event" id="event_{{eventDetail.eventID}}">\n                    <section class = "event-detail">\n                        <h2 class="title">\n                            <label>{{ eventDetail.startTime | date: \'h:mm a\' }}:</label>\n                            <a href ng-click="detailLink(eventDetail)">{{eventDetail.title}}</a>\n                        </h2>\n                        <div class="description">\n                            <label><strong>Location:</strong></label>\n                            <span id="location">{{ eventDetail.location }}</span>\n                        </div>\n                    </section>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n')}]),t.module("onboardEvents/onboardEvents.tpl.html",[]).run(["$templateCache",function(e){e.put("onboardEvents/onboardEvents.tpl.html",'<div class="onboard-events">\n    <hal-loading-screen ng-show="loading" message-text="loadingMessage" info-text="loadingDetailsMessage"></hal-loading-screen>\n    <div ng-show="noData" class="disclaimer panel-warning">\n        <div class="panel-heading">Notice</div>\n        <div class="panel-body">{{pageNotice}}</div>\n        <!--<h1>There was a problem fetching data.  Please connect to the ship WiFi and try again.</h1>-->\n    </div>\n    <schedule-view list="schedule" type="onboardEvents" add-event="addEvent(event)" loading="loading" hour="selectedHour" day="selectedDay"></schedule-view>\n    <div class="footer-notification panel" ng-show="schedule">\n        <span>Stay tuned for more upcoming events</span>\n    </div>\n</div>')}]),t.module("purchaseExcursion/purchaseExcursion.tpl.html",[]).run(["$templateCache",function(e){e.put("purchaseExcursion/purchaseExcursion.tpl.html",'<hal-loading-screen ng-show="loading" message-text="loadingMessage" info-text="loadingDetailsMessage"></hal-loading-screen>\n<div class="purchase-excursion panel">\n    <div ng-if="!loading">\n        <h1>{{ departure.title }}</h1>\n        <div class="excursion-details">\n            <dl>\n                <dt>Date</dt>\n                <dd id="departureDate">{{ departure.dateTime | date:\'fullDate\'}}</dd>\n            </dl>\n            <dl>\n                <dt>Price</dt>\n                <dd>\n                    <dl>\n                        <dd id="adultPrice" ng-show="departure.adultPrice">{{ departure.adultPrice | currency : \'$\' }} / Adult</dd>\n                    </dl>\n                    <dl>\n                        <dd id="childPrice" ng-show="departure.childPrice">{{ departure.childPrice | currency : \'$\' }} / Child</dd>\n                    </dl>\n                </dd>\n            </dl>\n        </div>\n\n        <p ng-show="departure.weightDependant">Weight Limit: Guests must be {{ departure.maxWeightAllowed }} lbs. or less to go on the Excursion</p>\n\n        <form role="form" name="purchaseForm" novalidate="true">\n            <fieldset>\n                <legend>Select Guests:</legend>\n                <div ng-if="!!guests && !!departure">\n                    <div ng-repeat="guest in guests">\n                        <div class="form-group">\n                            <div class="checkbox">\n                                <label>\n                                    <input type="checkbox" ng-model="guest.selected" ng-change="updateGuestSelection()"> {{guest.name }}\n                                    <span ng-show="!guest.adult">(Child)</span>\n                                </label>\n                            </div>\n                        </div>\n\n\n                        <!--<div class="form-group" ng-show="departure.weightDependant && guest.selected">-->\n                            <!--<label for="guestWeightTextbox{{$index}}" class="control-label">Guest Weight</label>-->\n                            <!--<input type="number" class="form-control" id="guestWeightTextbox{{$index}}" placeholder="Guest Weight" ng-model="guest.weight">-->\n                        <!--</div>-->\n                    </div>\n                </div>\n            </fieldset>\n\n            <fieldset>\n                <legend>Departure Time:</legend>\n                <!--<select class="subnav-dropdown" ng-options="departure.uiText for departure in alternateDepartures" ng-model="departure"></select>-->\n                <hal-subnav list="alternateDepartures" item="departure"></hal-subnav>\n\n            </fieldset>\n\n            <p ng-if="exceedsWeightThreshold">Some guests are over the weight limit for this tour. Please deselect the over-limit guests before adding this item.</p>\n\n\n            <dt>Total Cost</dt>\n            <dd id="totalPrice">{{ totalCost | currency : \'$\' }}</dd>\n\n\n			<div class="pin-error-message" ng-show="pinErrorMessage">\n				<p>{{ pinErrorMessage }}</p>\n			</div>\n\n			<label for="pinTextbox" class="control-label sr-only">Enter Pin</label>\n            <validate-pin id="pinTextbox" name="pinTextbox" ng-model="model.pin" ng-change="updateGuestSelection()"></validate-pin>\n\n\n            <button class="btn btn-success" ng-disabled="!bookButtonEnabled" ng-click="confirmBooking()" id="bookButton">Confirm Booking</button>\n        </form>\n    </div>\n</div>\n')
}]),t.module("recoverAuthentication/recoverAuthentication.tpl.html",[]).run(["$templateCache",function(e){e.put("recoverAuthentication/recoverAuthentication.tpl.html",'<div class="authentication panel" id="recover-authentication">\n    <div ng-show="step === \'step-1\'">\n        <div class="form-message ">\n            <h1 class="form-title">Forgot PIN?</h1>\n            <p class="form-description">No problem, we can help set up a new one. Please fill out the fields below.</p>\n        </div>\n        <auth-guest-info-form></auth-guest-info-form>\n        <verbose-form-error form-error-obj="errorObject.birthdate"></verbose-form-error>\n        <verbose-form-error form-error-obj="errorObject.registrationError"></verbose-form-error>\n        <button\n            class="btn btn-default"\n            id="valid-guest-check-btn"\n            ng-disabled="step1Form.$invalid || offline"\n            ng-click="getUserSecretQuestion(guest)">Next\n        </button>\n    </div>\n\n    <div ng-show="step === \'step-2\'">\n        <div class="form-message">\n            <h1 class="form-title">Hello, {{ guest.firstName }}</h1>\n            <p class="form-description">Please answer your secret question and choose a new PIN.</p>\n        </div>\n        <form role="form" class="form-block" name="recoverAuthenticationStep2Form" novalidate="true">\n            <div class="form-message">\n                <p><strong>Your Secret Question:</strong></p>\n                <p class="register-secret-question" ng-model="guest.secretQuestion" name="secretQuestion">{{ guest.secretQuestion }}</p>\n            </div>\n            <input class="form-group" id="recover-authentication-secret-answer" type="text" ng-model="guest.secretAnswer" name="secretAnswer" placeholder="Your Answer" required>\n\n            <p class="form-description">Please choose a new PIN:</p>\n\n            <validate-pin id="recover-authentication-pin" name="pin" ng-model="guest.pin"></validate-pin>\n            <validate-pin id="recover-authentication-confirm"\n                          name="pinConfirm"\n                          ng-model="guest.pinConfirm"\n                          placeholder="Re-enter PIN"\n                          field-match-check\n                          compare-value="guest.pin"\n                          error-obj="errorObject.pinError"\n                          field-name="PIN"\n            >\n            </validate-pin>\n\n            <section class="user-error-container" role="user-alert"ng-if="recoverAuthenticationStep2Form.pinConfirm.$error.fieldMatch">\n                <div class="user-error-details panel">\n                    <p class="user-error-message">PIN fields don\'t match. Please fix before continuing.</p>\n                </div>\n            </section>\n            <verbose-form-error form-error-obj="errorObject.pinError"></verbose-form-error>\n            <verbose-form-error form-error-obj="errorObject.registrationError"></verbose-form-error>\n\n            <button id="recover-authentication-guest-btn"\n                    ng-disabled="recoverAuthenticationStep2Form.$invalid || offline"\n                    ng-click="recoverAuthentication(guest)"\n                    class="btn btn-default">OK\n            </button>\n        </form>\n    </div>\n\n    <div ng-show="step === \'success\'">\n        <div class="form-message">\n            <h1 class="form-title">Success</h1>\n            <p class="form-description userId">Your user ID is <strong>{{ verifiedUser.details.userName }}</strong></p>\n            <p class="form-description">We\'ve reset your PIN and signed you in. Welcome back to Holland America Line\'s on board application.</p>\n        </div>\n\n        <div class="form-group">\n            <button id="register-success-continue-btn" class="btn btn-default continue-btn" ui-sref="ship">Continue</button>\n        </div>\n    </div>\n</div>\n')}]),t.module("registration/registration.tpl.html",[]).run(["$templateCache",function(e){e.put("registration/registration.tpl.html",'<warning-panel message="reconnectMsg" ng-show="offline"></warning-panel>\n\n<div class="authentication panel" id="registration">\n    <div ng-show="registrationStep === \'terms-and-conditions\'">\n        <terms-and-conditions></terms-and-conditions>\n        <verbose-form-error form-error-obj="errorObject.termsError"></verbose-form-error>\n        <button\n            id="terms-and-conditions-btn"\n            ng-disabled="!acceptedTerms || offline"\n            ng-click="accepted(acceptedTerms)"\n            class="btn btn-default"\n        >Create my [HAL Mobile] Account\n        </button>\n    </div>\n\n    <div ng-show="registrationStep === \'step-1\'">\n        <div class="form-message">\n            <h1 class="form-title">Create Account - Step 1</h1>\n            <p class="form-description">Please create an account to access your personal itinerary and make the most of your vacation.</p>\n            <p class="form-description">Use the name found on your passport / travel documents.</p>\n        </div>\n        <auth-guest-info-form></auth-guest-info-form>\n        <verbose-form-error form-error-obj="errorObject.birthdate"></verbose-form-error>\n        <verbose-form-error form-error-obj="errorObject.registrationError"></verbose-form-error>\n        <button\n            class="btn btn-default"\n            id="valid-guest-check-btn"\n            ng-disabled="step1Form.$invalid || offline"\n            ng-click="checkValidGuest(guest)">Next\n        </button>\n    </div>\n    <div ng-show="registrationStep === \'step-2\'">\n        <div class="form-message">\n            <h1 class="form-title">Create Account - Step 2</h1>\n            <p class="form-description">Please create a PIN and select your secret question</p>\n        </div>\n\n        <form role="form" class="form-block" name="registrationStep2Form" novalidate="true">\n\n            <validate-pin id="register-pin" name="pin" ng-model="guest.pin"></validate-pin>\n            <validate-pin id="register-pin-confirm"\n                          name="pinConfirm"\n                          ng-model="user.pinConfirm"\n                          placeholder="Re-enter PIN"\n                          field-match-check\n                          compare-value="guest.pin"\n            >\n            </validate-pin>\n\n            <section class="user-error-container" role="user-alert"ng-if="registrationStep2Form.pinConfirm.$error.fieldMatch">\n                <div class="user-error-details panel">\n                    <p class="user-error-message">PIN fields don\'t match. Please fix before continuing.</p>\n                </div>\n            </section>\n            <verbose-form-error form-error-obj="errorObject.pinError"></verbose-form-error>\n\n            <div class="form-group handset">\n                <select\n                    class="subnav-dropdown register-secret-question"\n                    ng-model="secretQuestion"\n                    name="secretQuestion"\n                    ng-options="question for question in secretQuestionList"\n                    ng-change="validQuestionSelected()"\n                >\n                </select>\n            </div>\n            <div class="form-group tablet desktop">\n                <select\n                    class="subnav-dropdown form-control dropdown-toggle btn btn-default register-secret-question"\n                    ng-model="secretQuestion"\n                    name="secretQuestion"\n                    ng-options="question for question in secretQuestionList"\n                    ng-change="validQuestionSelected()"\n                >\n                </select>\n            </div>\n\n            <verbose-form-error form-error-obj="errorObject.secretQuestionError"></verbose-form-error>\n\n            <input\n                class="form-group"\n                id="register-secret-answer"\n                type="text"\n                ng-model="guest.secretAnswer"\n                name="secretAnswer"\n                field-match-check\n                compare-value="guest.secretAnswerConfirm"\n                placeholder="Your Answer"\n                required>\n\n            <input\n                class="form-group"\n                id="register-secret-answer-confirm"\n                type="text"\n                name="secretAnswerConfirm"\n                ng-model="guest.secretAnswerConfirm"\n                field-match-check\n                compare-value="guest.secretAnswer"\n                placeholder="Re-enter Your Answer"\n                required>\n\n            <section class="user-error-container" role="user-alert" ng-if="registrationStep2Form.secretAnswerConfirm.$error.fieldMatch || registrationStep2Form.secretAnswer.$error.fieldMatch">\n                <div class="user-error-details panel">\n                    <p class="user-error-message">Secret answer fields don\'t match. Please fix before continuing.</p>\n                </div>\n            </section>\n\n            <button id="register-guest-btn"\n                    ng-disabled="registrationStep2Form.$invalid || offline"\n                    ng-click="registerGuestAsUser(guest)"\n                    class="btn btn-default">OK\n            </button>\n        </form>\n    </div>\n\n    <div ng-show="registrationStep === \'success\'">\n        <div class="form-message">\n            <h1 class="form-title">Success</h1>\n            <p class="form-description userId">Hello, your user ID is <strong>{{ verifiedUser.details.userName }}</strong></p>\n            <p class="form-description">We\'ve signed you in, but please make a note of your user ID. Welcome to Holland America Line\'s on board application.</p>\n        </div>\n\n        <div class="form-group">\n            <button id="register-success-continue-btn" class="btn btn-default continue-btn" ui-sref="ship">Continue</button>\n        </div>\n    </div>\n</div>\n')}]),t.module("restaurantDetails/menu/menu.tpl.html",[]).run(["$templateCache",function(e){e.put("restaurantDetails/menu/menu.tpl.html",'<div class="restaurant-menu">\n	<iframe src="{{menuUrl}}"></iframe>\n\n\n\n</div>')}]),t.module("restaurantDetails/restaurantDetails.tpl.html",[]).run(["$templateCache",function(e){e.put("restaurantDetails/restaurantDetails.tpl.html",'<div class="restaurant-details">\n	<header class="accent-{{ accent }}">\n		<div class="tile-image tablet handset" style="background-image:url(\'{{ restaurant.headlineImageUrl }}\');" ></div>\n		<div class="tile-image desktop">\n			<img ng-src="{{ restaurant.headlineImageUrl }}" />\n		</div>\n	</header>\n\n	<section class="panel event-info">\n		<h1>{{ restaurant.name }}</h1>\n		<div class="restaurant-description-section">\n			<h3 class="restaurant-description"><em>{{ restaurant.shortDescription }}</em></h3>\n		</div>\n		<div class="location-info">\n			<h4 class="hal-label restaurant-location-text">Location: </h4>\n			<span class="restaurant-location-info" ng-bind-html="restaurant.location"></span>\n		</div>\n		<p class="long-description" ng-bind-html="restaurant.longDescription"></p>\n\n\n\n		<div class="meal" ng-repeat="meal in meals">\n			<div class="meal-info">\n				<h2 class="meal-name">{{ meal.name }}</h2>\n				<span><span class="hal-label">Price:</span> {{ meal.price || \'0\' }}</span>\n				<span><span class="hal-label">Time:</span> {{ convertToStandardTime(meal.openTime) | date : \'h:mma\' | lowercase }} - {{ convertToStandardTime(meal.closeTime) | date : \'h:mma\' | lowercase }}</span>\n			</div>\n			<a ng-show="restaurant.restaurantKey !== \'dinningRoom\'" class="btn btn-default view-menu" href="{{ meal.menuUrl }}" target="_blank">View Menu</a>\n			<div ng-show="restaurant.restaurantKey === \'dinningRoom\'">\n				<p>Dining Room menu rotates daily.</p>\n			</div>\n		</div>\n\n		<!--TODO: Disable until reservations are possible. -->\n		<!--<button ng-disabled="!bookable" class="btn btn-default book-now">Make Reservation</button>-->\n\n	</section>\n</div>')}]),t.module("ship/ship.tpl.html",[]).run(["$templateCache",function(e){e.put("ship/ship.tpl.html",'<section class="homepage panel">\n    <div class="ship-info">\n        <span><strong class="date">Today is {{ selectedDay.fullDate }}</strong></span>\n        <day-port-info></day-port-info>\n    </div>\n\n    <section class="feature-tiles" ng-class="{\'logged-in\': user}">\n        <div ng-if="user" class="my-itinerary tile" ui-sref="myItinerary({ dateString: todayNav })">\n            <label><span class="minor">My</span> Itinerary</label>\n        </div>\n\n        <div class="onboard-events tile" ui-sref="onboardEvents({ dateString: todayNav })">\n            <label><span class="minor">Happening</span> On Board</label>\n        </div>\n\n        <div class="shore-excursions tile" ui-sref="shoreExcursions({ dateString: todayNav })">\n            <label>Shore Excursions</label>\n        </div>\n\n        <div class="dining tile" ui-sref="diningOptions">\n            <label>Dining</label>\n        </div>\n\n        <div class="icafe tile">\n            <a class="tile-link nav-icafe"\n               href="http://10.194.101.121:9090/hal/defaultlogin.aspx?appToken={{ token }}"\n               target="_blank">\n                <label>Connect <span class="minor">to paid</span> Internet</label>\n            </a>\n        </div>\n    </section>\n</section>\n')}]),t.module("shipItinerary/shipItinerary.tpl.html",[]).run(["$templateCache",function(e){e.put("shipItinerary/shipItinerary.tpl.html",'<day-port-info></day-port-info>\n<div class="ship-itinerary panel">\n     <div class="login-prompt">\n        <h1 class="title"> Make the most of your vacation. </h1>\n        <span class="login-msg"> Log in to view and add activities to your personal itinerary.</span>\n        <button ui-sref="login" class="btn btn-default">{{ "shared.pnav.login" | translate}}</button>\n    </div>\n\n    <section class="feature-tiles">\n        <div class="onboard-events tile" ui-sref="onboardEvents({ dateString: selectedDay.calendarDate })">\n            <label>Happening On Board</label>\n        </div>\n\n        <div class="shore-excursions tile" ui-sref="shoreExcursions({ dateString: selectedDay.calendarDate })">\n            <label>Shore Excursions</label>\n        </div>\n\n        <div class="dining tile" ui-sref="diningOptions({ dateString: selectedDay.calendarDate })">\n            <label>Dining Experiences</label>\n        </div>\n    </section>\n</div>\n')}]),t.module("shoreExcursions/shoreExcursions.tpl.html",[]).run(["$templateCache",function(e){e.put("shoreExcursions/shoreExcursions.tpl.html",'<hal-loading-screen ng-show="loading" message-text="loadingMessage" info-text="loadingDetailsMessage"></hal-loading-screen>\n<div class="panel day-info">\n    <hal-subnav list="voyageDates" item="selectedDay" label="Itinerary Dates"></hal-subnav>\n</div>\n<schedule-view list="excursionDepartures" type="excursions" no-events="noDepartures" loading="loading" hour="selectedHour" day="selectedDay.calendarDate"></schedule-view>\n')}]),t.module("templates-components",["directives/authGuestInfoForm/authGuestInfoForm.tpl.html","directives/birthdatePicker/birthdatePicker.tpl.html","directives/dayPortInfo/dayPortInfo.tpl.html","directives/eventDetails/eventDetails.tpl.html","directives/eventSummary/eventSummary.tpl.html","directives/fieldMatchCheck/fieldMatchCheck.tpl.html","directives/halBackNav/halBackNav.tpl.html","directives/halContentLoader/halContentLoader.tpl.html","directives/halLoadingScreen/halLoadingScreen.tpl.html","directives/halModal/halModal.tpl.html","directives/halNetworkStatusIcon/halNetworkStatusIcon.tpl.html","directives/halShipHeader/halShipHeader.tpl.html","directives/halShipTime/halShipTime.tpl.html","directives/halSubnav/halSubnav.tpl.html","directives/halTimeBanner/halTimeBanner.tpl.html","directives/halWaitModal/halWaitModal.tpl.html","directives/notificationDialog/notification.tpl.html","directives/notificationDialog/notificationDialog.tpl.html","directives/restaurantSummary/restaurantSummary.tpl.html","directives/scheduleView/scheduleView.tpl.html","directives/shorexSummary/shorexSummary.tpl.html","directives/termsAndConditions/termsAndConditions.tpl.html","directives/validatePin/validatePin.tpl.html","directives/verboseFormError/verboseFormError.tpl.html"]),t.module("directives/authGuestInfoForm/authGuestInfoForm.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/authGuestInfoForm/authGuestInfoForm.tpl.html",'<form role="form" class="form-block" name="step1Form" novalidate="true">\n    <input\n        class="form-group"\n        id="register-first-name"\n        type="text"\n        ng-model="guest.firstName"\n        name="firstName"\n        placeholder="First Name"\n        required\n    >\n\n    <input\n        class="form-group"\n        id="register-last-name"\n        type="text"\n        ng-model="guest.lastName"\n        name="lastName"\n        placeholder="Last Name"\n        required\n    >\n\n    <input\n        class="form-group"\n        id="register-state-room"\n        type="text"\n        ng-model="guest.cabinNumber"\n        name="cabinNumber"\n        placeholder="State Room"\n        required\n    >\n\n    <birthdate-Picker ng-model="guest.birthdate" name="birthdate"></birthdate-Picker>\n</form>\n')}]),t.module("directives/birthdatePicker/birthdatePicker.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/birthdatePicker/birthdatePicker.tpl.html",'<div>\n    <span class="subnav-label">Please select your birthday:</span>\n    <div class="handset">\n        <div class=" birthdaySelection">\n            <select\n                    class="subnav-dropdown register-birthdate-month"\n                    ng-model="month"\n                    name="month"\n                    ng-options="key as month for (key, month) in monthsObj"\n                    required>\n                <option value="">Month</option>\n            </select>\n            <select\n                    class="subnav-dropdown register-birthdate-day"\n                    ng-model="day"\n                    name="day"\n                    ng-options="day for day in daysArray"\n                    required>\n                <option value="">Day</option>\n            </select>\n            <select\n                    class="subnav-dropdown register-birthdate-year"\n                    ng-model="year"\n                    name="year"\n                    ng-options="year for year in yearsArray"\n                    required>\n                <option value="">Year</option>\n            </select>\n        </div>\n    </div>\n\n    <div class="tablet desktop">\n        <div class=" birthdaySelection">\n            <select\n                    class="subnav-dropdown form-control dropdown-toggle btn-default register-birthdate-month"\n                    ng-model="month"\n                    name="month"\n                    ng-options="key as month for (key, month) in monthsObj"\n                    required>\n                <option value="">Month</option>\n            </select>\n            <select\n                    class="subnav-dropdown form-control dropdown-toggle btn-default register-birthdate-day"\n                    ng-model="day"\n                    name="day"\n                    ng-options="day for day in daysArray"\n                    required>\n                <option value="">Day</option>\n            </select>\n            <select\n                    class="subnav-dropdown form-control dropdown-toggle btn-default register-birthdate-year"\n                    ng-model="year"\n                    name="year"\n                    ng-options="year for year in yearsArray"\n                    required>\n                <option value="">Year</option>\n            </select>\n        </div>\n    </div>\n</div>')}]),t.module("directives/dayPortInfo/dayPortInfo.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/dayPortInfo/dayPortInfo.tpl.html",'<div class="day-port-info">\n    <!--<hal-subnav list="voyageDates" item="selectedDay" label="Itinerary Dates"></hal-subnav>-->\n    <h1 class="port-name"><span>{{ selectedDay.description }}</span></h1>\n    <strong ng-if="selectedDay.arrivalTime" class="arrival-time time">Ship arrives at: <span>{{ selectedDay.arrivalTime }}</span></strong>\n    <strong ng-if="selectedDay.allAboardTime" class="all-aboard-time time">All aboard at: <span>{{ selectedDay.allAboardTime }}</span></strong>\n</div>\n')}]),t.module("directives/eventDetails/eventDetails.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/eventDetails/eventDetails.tpl.html",'<div class="event-details panel">\n    <div class="placeholder" ng-if="!event"><h1>LOADING...</h1></div>\n    <div class="event-content" ng-if="event">\n        <header class="accent-{{ accent }}">\n            <div class="tile-image tablet handset"\n                 fallback-img="{{ event.fallbackImgUrl }}"\n                 style="background-image:url(\'{{ event.imagePath }}\');"\n            ></div>\n            <div class="tile-image desktop">\n                <img fallback-img="{{ event.fallbackImgUrl }}"\n                 ng-src="{{ event.imagePath }}" />\n            </div>\n        </header>\n        <section class="panel event-info">\n            <h1 class="event-title">{{ event.title }}</h1>\n            <div class="details date">\n                <h4>Date:</h4>\n                <time>{{ event.dateTime | date : \'longDate\' }}</time>\n            </div>\n            <div class="details time">\n                <h4>Depart Time:</h4>\n                <time>{{ event.uiTextDepartureTime }}</time>\n            </div>\n            <div class="details activity-level">\n                <h4>Activity Level:</h4>\n                {{ event.activityLevel }}\n            </div>\n            <div class="details duration">\n                <h4>Duration:</h4>\n                <span>{{ event.duration }} hours</span>\n            </div>\n            <div class="details price">\n                <h4>Cost:</h4>\n                <span>${{ event.adultPrice }} Per Adult</span>\n            </div>\n            <div class="details location">\n                <h4>Meeting Location:</h4>\n                <span>{{ event.meetingLocation }}</span>\n            </div>\n        </section>\n        <div id="eventReadingPane" ng-class="{collapsed: collapsed}" class="panel">\n            <section class="short-description">\n                {{ event.shortDescription | makeTeaserText: 25 }}\n            </section>\n            <section class="full-description" ng-bind-html="event.description"></section>\n        </div>\n        <a class="toggleLink" ng-class="{ expand: collapsed, collapse: !collapsed }" ng-click="toggleCollapse()">{{\n            readingPaneLinkText\n            }}\n        </a>\n\n		<div ng-show="eventType == \'excursion\'" class="book-button-wrapper">\n			<!--<button ng-disabled="!bookable" class="btn btn-default book-now">Book Now</button>-->\n			<button ng-disabled="!bookButtonIsEnabled()" ng-show="bookButtonIsVisible()" ui-sref="purchaseExcursion({excursionID: event.excursionID, departureID: event.departureID})" class="btn btn-default book-now">Book Now</button>\n            <p id="not-bookable-text" ng-show="showPurchaseMessage()">See Shore Excursions staff for details.</p>\n        </div>\n    </div>\n</div>\n')}]),t.module("directives/eventSummary/eventSummary.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/eventSummary/eventSummary.tpl.html",'<div class="event-summary">\n    <div class="time-and-title">\n        <div class="onboard-title-handset">\n            <h3 class="onboard-event-title">{{ event.title }}</h3>\n            <span class="onboard-event-time"><strong>Starts at:</strong> {{ event.uiTextEventTime }}</span>\n        </div>\n        <div class="onboard-title-tabDesk">\n            <h3 class="onboard-event-title">{{ event.title }}</h3>\n            <span class="onboard-event-time"><strong>Starts at:</strong> {{ event.uiTextEventTime }}</span>\n        </div>\n    </div>\n    <div class="location-info">\n        <span class="onboard-location-info"><strong>Location:</strong> {{ event.location }}</span>\n    </div>\n    <div ng-if="event.description" class="onboard-description-section">\n        <span class="onboard-description"><strong>Description:</strong> {{ event.description }}</span>\n    </div>\n</div>')}]),t.module("directives/fieldMatchCheck/fieldMatchCheck.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/fieldMatchCheck/fieldMatchCheck.tpl.html","")}]),t.module("directives/halBackNav/halBackNav.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/halBackNav/halBackNav.tpl.html",'<div>\n	<!--<button class="back-nav-button btn btn-default" ng-click="navBack()">Back</button>-->\n	<i class="fa fa-chevron-left back-nav-button" ng-click="navBack()"><span>Back</span></i>\n</div>\n')}]),t.module("directives/halContentLoader/halContentLoader.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/halContentLoader/halContentLoader.tpl.html",'<div class="preloaded-content">\n</div>')}]),t.module("directives/halLoadingScreen/halLoadingScreen.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/halLoadingScreen/halLoadingScreen.tpl.html",'<div class="hal-loading-screen">\n    <h1>{{ messageText }}</h1>\n\n    <pre class="debug">{{ infoText }}</pre>\n</div>')}]),t.module("directives/halModal/halModal.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/halModal/halModal.tpl.html",'<div class="">\n    <header class="modal-header">\n        <h1>{{ heading }}</h1>\n    </header>\n    <section class="modal-body">\n        <div ng-bind-html="message"></div>\n        <button class="btn btn-default" ng-click="ok()">Ok</button>\n    </section>\n</div>')}]),t.module("directives/halNetworkStatusIcon/halNetworkStatusIcon.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/halNetworkStatusIcon/halNetworkStatusIcon.tpl.html",'<div id="wifiIndicator">\n    <div class="icon online"  ng-if="status() == \'online\'">\n        <i class="fa fa-wifi"></i>\n    </div>\n    <div class="icon offline" ng-if="status() == \'offline\'">\n        <i class="fa fa-wifi"></i>\n        <i class="fa fa-ban"></i>\n    </div>\n</div>')}]),t.module("directives/halShipHeader/halShipHeader.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/halShipHeader/halShipHeader.tpl.html",'<header>\n    <div id="header-bar">\n        <a ui-sref="ship" class="logo">\n            <img src="assets/images/logos/HAL_logo_400_60.png" alt="Holland America - A Signature of Excellence" />\n        </a>\n\n        <span class=\'mobile-nav-flyout-button\'>Menu</span>\n    </div>\n\n	<nav class="nav-options" role="navigation">\n		<ul class="nav-option-list">\n			<li>\n				<a ng-hide="isAuthenticated" class="nav-link nav-login" ui-sref="login" translate="shared.pnav.login"></a>\n				<a ng-show="isAuthenticated" class="nav-link nav-logout" ui-sref="logout" translate="shared.pnav.logout"></a>\n			</li>\n			<li>\n				<a class="nav-link nav-home" ui-sref="ship" translate="shared.pnav.home"></a>\n			</li>\n			<li ng-if="isAuthenticated">\n                <a ng-hide="isAuthenticated" class="nav-link nav-itinerary"  ui-sref="shipItinerary" translate="shared.pnav.itinerary"></a>\n                <a ng-show="isAuthenticated" class="nav-link nav-my-itinerary" ui-sref="myItinerary({ dateString: today })" translate="shared.pnav.myItinerary"></a>\n			</li>\n			<li>\n				<a class="nav-link nav-onboard" ui-sref="onboardEvents({ dateString: today })" translate="shared.pnav.onboardEvents"></a>\n			</li>\n			<li>\n				<a class="nav-link nav-dining" ui-sref="diningOptions" translate="shared.pnav.diningOptions"></a>\n			</li>\n			<li>\n				<a class="nav-link nav-shorex" ui-sref="shoreExcursions({ dateString: today })" translate="shared.pnav.shoreExcursions"></a>\n			</li>\n			<li ng-if="false">\n				<a class="nav-link nav-ship-info" translate="shared.pnav.shipInfo"></a>\n			</li>\n			<li>\n				<a class="nav-link nav-feedback" ui-sref="feedback" translate="shared.pnav.feedback"></a>\n            </li>\n			<li ng-if="false">\n				<a class="nav-link nav-help" translate="shared.pnav.help"></a>\n			</li>\n			<li>\n				<a class="nav-link nav-icafe" href="http://10.194.101.121:9090/hal/defaultlogin.aspx?appToken={{ token }}" target="_blank" translate="shared.pnav.icafe"></a>\n			</li>\n		</ul>\n	</nav>\n</header>\n')}]),t.module("directives/halShipTime/halShipTime.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/halShipTime/halShipTime.tpl.html",'<div class="hal-ship-time">\n	<h3><span class="minor" ng-if="now">Ship Time</span> {{ now | date:\'h:mm a\' }}</h3>\n</div>')}]),t.module("directives/halSubnav/halSubnav.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/halSubnav/halSubnav.tpl.html",'<div class="subnav">\n    <div class="handset">\n        <span class="subnav-label">{{ label }}</span>\n        <select id="hal-subnav-handset" ng-model="item" class="subnav-dropdown" ng-change="callback" ng-options="listItem.uiText for listItem in list"></select>\n    </div>\n    <div class="tablet desktop">\n        <select id="hal-subnav-desktop" class="subnav-dropdown form-control dropdown-toggle btn btn-default"\n            ng-options="listItem.uiText for listItem in list"\n            ng-model="item"\n            ng-change="callback">\n        </select>\n    </div>\n</div>\n')}]),t.module("directives/halTimeBanner/halTimeBanner.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/halTimeBanner/halTimeBanner.tpl.html",'<div class="time-banner">\n    <div class="arrow-treatment">\n        <div ng-show="addFromView" class="add-item-button btn-group pull-right" dropdown is-open="status.isopenb">\n            <button id="openAddMenuButton" type="button" class="btn btn-primary btn-xs dropdown-toggle" ng-disabled="disabled">\n                <i class="fa fa-plus"></i>\n            </button>\n            <ul class="dropdown-menu popover left" role="menu">\n                <li class="arrow"></li>\n                <li class="popover-title">Add an activity:</li>\n                <li><a id="addExcursionLink" ng-click="addItem(\'shoreExcursions\', anchorHour)">Shore Excursions</a></li>\n                <li><a id="addEventLink" ng-click="addItem(\'onboardEvents\', anchorHour)">Happening On Board</a></li>\n                <li><a id="addDiningLink" ng-click="addItem(\'diningOptions\', anchorHour)">Dining</a></li>\n            </ul>\n        </div>\n    </div>\n\n    <h3><time class="time-of-day">{{hourLabel}}</time></h3>\n</div>\n')}]),t.module("directives/halWaitModal/halWaitModal.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/halWaitModal/halWaitModal.tpl.html",'<div>\n    <section class="modal-body">\n		<p class="modal-wait">\n			<i class="fa fa-spinner fa-spin fa-4x"></i>\n			<span ng-bind-html="message"></span>\n		</p>\n    </section>\n</div>')}]),t.module("directives/notificationDialog/notification.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/notificationDialog/notification.tpl.html",'<li>\n    <div class="notification" ng-class="notification.severity">\n        <span class="close toggle" ng-class="level" ng-click="removeNotification($index)">X</span>\n        <h2 class="date-time">{{notification.timestamp | date:\'MMM d, y h:mm:ss a\'}}</h2>\n        <p class="message">{{notification.message}}</p>\n    </div>\n</li>\n')}]),t.module("directives/notificationDialog/notificationDialog.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/notificationDialog/notificationDialog.tpl.html",'<section class="notification-container" role="alert" ng-hide="hidden">\n    <header ng-class="level">\n        <h1 class="header-text">Notification</h1>\n    </header>\n    <div class="notification-details">\n        <ul class="notification-list">\n            <notification ng-repeat="notification in notifications" notification="notification">\n            </notification>\n        </ul>\n\n    </div>\n</section>\n')
}]),t.module("directives/restaurantSummary/restaurantSummary.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/restaurantSummary/restaurantSummary.tpl.html",'<div class="restaurant-summary">\n\n    <div class="logo-and-currently-open">\n        <div class="tile-image"\n             style="background-image:url(\'{{ restaurant.logoImageUrl }}\');"\n             ui-sref="restaurantDetails({restaurantKey: restaurant.restaurantKey, serviceDate: date})">\n        </div>\n        <p class="currently-open" ng-show="restaurant.isOpen">OPEN NOW</p>\n    </div>\n\n    <div class="restaurant-info">\n        <h2 class="title">\n            <a ui-sref="restaurantDetails({restaurantKey: restaurant.restaurantKey, serviceDate: date})">{{ restaurant.name }}</a>\n        </h2>\n\n        <div class="restaurant-description-section">\n            <h3 class="restaurant-description"><em>{{ restaurant.shortDescription }}</em></h3>\n        </div>\n\n        <div class="location-info">\n            <h4 class="hal-label restaurant-location-text">Location: </h4>\n            <span class="restaurant-location-info">{{ restaurant.location }}</span>\n        </div>\n\n        <div class="meal-section">\n            <div class="meal-type-and-times" ng-repeat="mealType in restaurant.days[date]">\n                <h4 class="hal-label meal-type">{{ mealType.name }}: </h4>\n                <span class="meal-times">{{ convertToStandardTime(mealType.openTime) | date : \'h:mm a\' }} - {{ convertToStandardTime(mealType.closeTime) | date : \'h:mm a\' }}</span>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),t.module("directives/scheduleView/scheduleView.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/scheduleView/scheduleView.tpl.html",'<div class="schedule-view">\n\n    <!-- Loop over days -->\n    <div ng-repeat="selectedDay in list | orderBy : \'calendarDate\'" class="selectedDay-block">\n        <div class="date-banner panel">\n            <day-port-info></day-port-info>\n        </div>\n\n        <div class="placeholder panel loading" ng-if="loading"><h1>Loading...</h1></div>\n\n        <div class="placeholder panel no-content" ng-if="noEvents"><h1>There are no Shore Excursions on this day. Please select another day.</h1></div>\n\n        <!-- Excursions happening anytime in port-->\n        <div ng-if="excursions && selectedDay.hasInPortEvents">\n            <hal-time-banner hour-label="\'Available In Port\'"></hal-time-banner>\n            <div class="panel event-block">\n                <div ng-repeat="eventDetail in selectedDay.availableInPort" class="event shorex">\n                    <shorex-summary event="eventDetail"></shorex-summary>\n                </div>\n            </div>\n        </div>\n\n        <!-- Loop over hours within day -->\n        <div ng-repeat="events in selectedDay.hours" class="hour-block contains-{{ events.length < 5 ? events.length : \'4plus\' }}">\n			<a scroll-to="doScroll(events[0].hour, selectedDay.calendarDate)" id="{{selectedDay.calendarDate}}_{{ events[0].hour }}" class="hour-anchor"></a>\n            <hal-time-banner hour-label="events[0].uiTextHour"></hal-time-banner>\n            <div class="panel event-block">\n            <!-- Shorex specific -->\n                <div ng-if="excursions" ng-repeat="eventDetail in events" class="event shorex" id="departure_{{eventDetail.excursionID}}">\n                    <shorex-summary event="eventDetail" description-length="{{ events.length >= 4 ? \'25\' : \'25\' }}"></shorex-summary>\n                </div>\n            <!-- Happening Onboard specific -->\n                <div ng-if="onboardEvents" ng-repeat="eventDetail in events" class="event onboard" id="event_{{eventDetail.id}}">\n                    <event-summary event="eventDetail"></event-summary>\n                    <button ng-disabled="eventDetail.disabled || offline"\n                            ng-click="addEvent({event:eventDetail})"\n                            class="btn btn-default add-this">Add to Itinerary</button>\n                </div>\n            </div>\n        </div>\n        <div class="day-divider" ng-if="type==\'onboardEvents\'"></div>\n    </div>\n</div>\n')}]),t.module("directives/shorexSummary/shorexSummary.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/shorexSummary/shorexSummary.tpl.html",'<div class="shorex-summary">\n    <div class="tile-image"\n         fallback-img="{{ event.fallbackImgUrl }}"\n         style="background-image:url(\'{{ event.imagePath }}\');"\n         ui-sref="excursionDetails({excursionID: event.excursionID, departureID: event.departureID})"\n            ></div>\n    <h2 class="title">\n        <a class="title-handset" ui-sref="excursionDetails({excursionID: event.excursionID, departureID: event.departureID})">{{ event.title }}</a>\n        <a class="title-tabDesk" ui-sref="excursionDetails({excursionID: event.excursionID, departureID: event.departureID})">{{ event.title | makeTeaserText:5 }}</a>\n    </h2>\n    <p class="description">{{ event.description | makeTeaserText:descriptionLength }}</p>\n    <div class="notables">\n        <div class="activity-level">\n            <span class="activity-level-title"><strong>Activity Level:</strong></span>\n            <span class="activity-level-data">{{ event.activityLevel }}</span>\n        </div>\n        <div class="duration">\n            <span class="duration-title"><strong>Duration:</strong></span>\n            <span class="duration-data">{{ event.duration }} Hours</span>\n        </div>\n        <div class="cost">\n            <span class="cost-title"><strong>Cost:</strong></span>\n            <span class="cost-data">${{ event.adultPrice }} Per Adult</span>\n        </div>\n    </div>\n\n    <button ui-sref="excursionDetails({excursionID: event.excursionID, departureID: event.departureID})" class="btn btn-default view-more">View Details</button>\n</div>\n')}]),t.module("directives/termsAndConditions/termsAndConditions.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/termsAndConditions/termsAndConditions.tpl.html",'<div class="terms-wrapper">\n    <h1 id="terms-header">Welcome to [HAL Mobile Name]</h1>\n    <h2 id="terms-sub-header">[HAL Mobile Name] Intranet Terms of Use</h2>\n    <ol class="terms-list">\n        <li class="term" id="condition-1">\n            Your use of the [HAL Mobile Name] intranet is subject to the Holland America Line\n            <a href=\'http://www.hollandamerica.com/legalAndPrivacy/Main.action\' target=\'_blank\'>Terms of Use</a>, the Holland America Line\n            <a href=\'http://www.hollandamerica.com/legalAndPrivacy/Main.action\' target=\'_blank\'>Privacy Policy</a>, and the\n            <a href=\'http://www.hollandamerica.com/legalAndPrivacy/Main.action\' target=\'_blank\'>Cruise Contract terms</a>.\n        </li>\n        <li class="term" id="condition-2">\n            To log on you will need to provide your first and last name, date of birth,\n            stateroom number and select and answer a security question.\n            You will be provided a user name and must create a Pin Code to have access to [HAL Mobile Name].\n        </li>\n        <li class="term" id="condition-3">\n            The [HAL Mobile Name] intranet operates on the Holland America Line onboard system.\n            Any information you provide through your access and use of the [HAL Mobile Name] intranet and\n            your access to and use of the Internet will be captured by our system and may be inspected and recorded.\n            You agree that Holland America Line may use and disclose this information in its business in accordance with its privacy policy,\n            share it with our affiliated companies and process it worldwide using our established safeguards.\n        </li>\n    </ol>\n\n    <div class="checkbox">\n        <label>\n            <input id="accept-terms" type="checkbox" ng-model="acceptedTerms" name="acceptedTerms">I agree to these Terms of Use\n        </label>\n    </div>\n\n</div>')}]),t.module("directives/validatePin/validatePin.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/validatePin/validatePin.tpl.html",'<input class="form-group pin"\n	   type="password"\n	   maxlength="4"\n	   ng-minlength="4"\n	   pattern= "/^[0-9]+$/"\n	   ng-pattern="/^[0-9]+$/"\n	   required>\n')}]),t.module("directives/verboseFormError/verboseFormError.tpl.html",[]).run(["$templateCache",function(e){e.put("directives/verboseFormError/verboseFormError.tpl.html",'<div ng-if="formErrorObj.userError">\n    <div ng-repeat="error in formErrorObj.messages">\n        <section class="user-error-container" role="user-alert">\n            <div class="user-error-details panel">\n                <p class="user-error-message">{{ error }}</p>\n            </div>\n        </section>\n    </div>\n</div>\n\n')}])}(window,window.angular);